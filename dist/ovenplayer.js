(function(Bt,Je){typeof exports=="object"&&typeof module<"u"?module.exports=Je():typeof define=="function"&&define.amd?define(Je):(Bt=typeof globalThis<"u"?globalThis:Bt||self,Bt.OvenPlayer=Je())})(this,(function(){"use strict";function Bt(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in t)){const i=Object.getOwnPropertyDescriptor(n,o);i&&Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}const Je="0.10.44";var Sn="1.13.7",kn=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},Zt=Array.prototype,br=Object.prototype,Rn=typeof Symbol<"u"?Symbol.prototype:null,es=Zt.push,St=Zt.slice,kt=br.toString,ts=br.hasOwnProperty,Pn=typeof ArrayBuffer<"u",rs=typeof DataView<"u",ns=Array.isArray,Nn=Object.keys,On=Object.create,Ln=Pn&&ArrayBuffer.isView,os=isNaN,is=isFinite,In=!{toString:null}.propertyIsEnumerable("toString"),Mn=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],ss=Math.pow(2,53)-1;function ye(t,e){return e=e==null?t.length-1:+e,function(){for(var r=Math.max(arguments.length-e,0),n=Array(r),o=0;o<r;o++)n[o]=arguments[o+e];switch(e){case 0:return t.call(this,n);case 1:return t.call(this,arguments[0],n);case 2:return t.call(this,arguments[0],arguments[1],n)}var i=Array(e+1);for(o=0;o<e;o++)i[o]=arguments[o];return i[e]=n,t.apply(this,i)}}function et(t){var e=typeof t;return e==="function"||e==="object"&&!!t}function as(t){return t===null}function _n(t){return t===void 0}function Un(t){return t===!0||t===!1||kt.call(t)==="[object Boolean]"}function us(t){return!!(t&&t.nodeType===1)}function me(t){var e="[object "+t+"]";return function(r){return kt.call(r)===e}}const Fr=me("String"),Vn=me("Number"),ls=me("Date"),cs=me("RegExp"),fs=me("Error"),qn=me("Symbol"),Wn=me("ArrayBuffer");var zn=me("Function"),ds=kn.document&&kn.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof ds!="function"&&(zn=function(t){return typeof t=="function"||!1});const ve=zn,Qn=me("Object");var Hn=rs&&(!/\[native code\]/.test(String(DataView))||Qn(new DataView(new ArrayBuffer(8)))),wr=typeof Map<"u"&&Qn(new Map),As=me("DataView");function gs(t){return t!=null&&ve(t.getInt8)&&Wn(t.buffer)}const $t=Hn?gs:As,tt=ns||me("Array");function Ge(t,e){return t!=null&&ts.call(t,e)}var Tr=me("Arguments");(function(){Tr(arguments)||(Tr=function(t){return Ge(t,"callee")})})();const Br=Tr;function ps(t){return!qn(t)&&is(t)&&!isNaN(parseFloat(t))}function Xn(t){return Vn(t)&&os(t)}function Gn(t){return function(){return t}}function Yn(t){return function(e){var r=t(e);return typeof r=="number"&&r>=0&&r<=ss}}function Zn(t){return function(e){return e?.[t]}}const jt=Zn("byteLength"),ms=Yn(jt);var hs=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function xs(t){return Ln?Ln(t)&&!$t(t):ms(t)&&hs.test(kt.call(t))}const $n=Pn?xs:Gn(!1),De=Zn("length");function vs(t){for(var e={},r=t.length,n=0;n<r;++n)e[t[n]]=!0;return{contains:function(o){return e[o]===!0},push:function(o){return e[o]=!0,t.push(o)}}}function jn(t,e){e=vs(e);var r=Mn.length,n=t.constructor,o=ve(n)&&n.prototype||br,i="constructor";for(Ge(t,i)&&!e.contains(i)&&e.push(i);r--;)i=Mn[r],i in t&&t[i]!==o[i]&&!e.contains(i)&&e.push(i)}function Ae(t){if(!et(t))return[];if(Nn)return Nn(t);var e=[];for(var r in t)Ge(t,r)&&e.push(r);return In&&jn(t,e),e}function Es(t){if(t==null)return!0;var e=De(t);return typeof e=="number"&&(tt(t)||Fr(t)||Br(t))?e===0:De(Ae(t))===0}function Kn(t,e){var r=Ae(e),n=r.length;if(t==null)return!n;for(var o=Object(t),i=0;i<n;i++){var s=r[i];if(e[s]!==o[s]||!(s in o))return!1}return!0}function re(t){if(t instanceof re)return t;if(!(this instanceof re))return new re(t);this._wrapped=t}re.VERSION=Sn,re.prototype.value=function(){return this._wrapped},re.prototype.valueOf=re.prototype.toJSON=re.prototype.value,re.prototype.toString=function(){return String(this._wrapped)};function Jn(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,jt(t))}var eo="[object DataView]";function Sr(t,e,r,n){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var o=typeof t;return o!=="function"&&o!=="object"&&typeof e!="object"?!1:to(t,e,r,n)}function to(t,e,r,n){t instanceof re&&(t=t._wrapped),e instanceof re&&(e=e._wrapped);var o=kt.call(t);if(o!==kt.call(e))return!1;if(Hn&&o=="[object Object]"&&$t(t)){if(!$t(e))return!1;o=eo}switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return Rn.valueOf.call(t)===Rn.valueOf.call(e);case"[object ArrayBuffer]":case eo:return to(Jn(t),Jn(e),r,n)}var i=o==="[object Array]";if(!i&&$n(t)){var s=jt(t);if(s!==jt(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;i=!0}if(!i){if(typeof t!="object"||typeof e!="object")return!1;var a=t.constructor,u=e.constructor;if(a!==u&&!(ve(a)&&a instanceof a&&ve(u)&&u instanceof u)&&"constructor"in t&&"constructor"in e)return!1}r=r||[],n=n||[];for(var l=r.length;l--;)if(r[l]===t)return n[l]===e;if(r.push(t),n.push(e),i){if(l=t.length,l!==e.length)return!1;for(;l--;)if(!Sr(t[l],e[l],r,n))return!1}else{var f=Ae(t),c;if(l=f.length,Ae(e).length!==l)return!1;for(;l--;)if(c=f[l],!(Ge(e,c)&&Sr(t[c],e[c],r,n)))return!1}return r.pop(),n.pop(),!0}function Cs(t,e){return Sr(t,e)}function Rt(t){if(!et(t))return[];var e=[];for(var r in t)e.push(r);return In&&jn(t,e),e}function kr(t){var e=De(t);return function(r){if(r==null)return!1;var n=Rt(r);if(De(n))return!1;for(var o=0;o<e;o++)if(!ve(r[t[o]]))return!1;return t!==oo||!ve(r[Rr])}}var Rr="forEach",ro="has",Pr=["clear","delete"],no=["get",ro,"set"],ys=Pr.concat(Rr,no),oo=Pr.concat(no),Ds=["add"].concat(Pr,Rr,ro);const bs=wr?kr(ys):me("Map"),Fs=wr?kr(oo):me("WeakMap"),ws=wr?kr(Ds):me("Set"),Ts=me("WeakSet");function mt(t){for(var e=Ae(t),r=e.length,n=Array(r),o=0;o<r;o++)n[o]=t[e[o]];return n}function Bs(t){for(var e=Ae(t),r=e.length,n=Array(r),o=0;o<r;o++)n[o]=[e[o],t[e[o]]];return n}function io(t){for(var e={},r=Ae(t),n=0,o=r.length;n<o;n++)e[t[r[n]]]=r[n];return e}function Nr(t){var e=[];for(var r in t)ve(t[r])&&e.push(r);return e.sort()}function Or(t,e){return function(r){var n=arguments.length;if(e&&(r=Object(r)),n<2||r==null)return r;for(var o=1;o<n;o++)for(var i=arguments[o],s=t(i),a=s.length,u=0;u<a;u++){var l=s[u];(!e||r[l]===void 0)&&(r[l]=i[l])}return r}}const so=Or(Rt),Kt=Or(Ae),ao=Or(Rt,!0);function Ss(){return function(){}}function uo(t){if(!et(t))return{};if(On)return On(t);var e=Ss();e.prototype=t;var r=new e;return e.prototype=null,r}function ks(t,e){var r=uo(t);return e&&Kt(r,e),r}function Rs(t){return et(t)?tt(t)?t.slice():so({},t):t}function Ps(t,e){return e(t),t}function lo(t){return tt(t)?t:[t]}re.toPath=lo;function Pt(t){return re.toPath(t)}function Lr(t,e){for(var r=e.length,n=0;n<r;n++){if(t==null)return;t=t[e[n]]}return r?t:void 0}function co(t,e,r){var n=Lr(t,Pt(e));return _n(n)?r:n}function Ns(t,e){e=Pt(e);for(var r=e.length,n=0;n<r;n++){var o=e[n];if(!Ge(t,o))return!1;t=t[o]}return!!r}function Ir(t){return t}function Nt(t){return t=Kt({},t),function(e){return Kn(e,t)}}function Mr(t){return t=Pt(t),function(e){return Lr(e,t)}}function Ot(t,e,r){if(e===void 0)return t;switch(r??3){case 1:return function(n){return t.call(e,n)};case 3:return function(n,o,i){return t.call(e,n,o,i)};case 4:return function(n,o,i,s){return t.call(e,n,o,i,s)}}return function(){return t.apply(e,arguments)}}function fo(t,e,r){return t==null?Ir:ve(t)?Ot(t,e,r):et(t)&&!tt(t)?Nt(t):Mr(t)}function _r(t,e){return fo(t,e,1/0)}re.iteratee=_r;function be(t,e,r){return re.iteratee!==_r?re.iteratee(t,e):fo(t,e,r)}function Os(t,e,r){e=be(e,r);for(var n=Ae(t),o=n.length,i={},s=0;s<o;s++){var a=n[s];i[a]=e(t[a],a,t)}return i}function Ao(){}function Ls(t){return t==null?Ao:function(e){return co(t,e)}}function Is(t,e,r){var n=Array(Math.max(0,t));e=Ot(e,r,1);for(var o=0;o<t;o++)n[o]=e(o);return n}function Ur(t,e){return e==null&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}const Lt=Date.now||function(){return new Date().getTime()};function go(t){var e=function(i){return t[i]},r="(?:"+Ae(t).join("|")+")",n=RegExp(r),o=RegExp(r,"g");return function(i){return i=i==null?"":""+i,n.test(i)?i.replace(o,e):i}}const po={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Ms=go(po),_s=io(po),Us=go(_s),Vs=re.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Vr=/(.)^/,qs={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Ws=/\\|'|\r|\n|\u2028|\u2029/g;function zs(t){return"\\"+qs[t]}var Qs=/^\s*(\w|\$)+\s*$/;function Hs(t,e,r){!e&&r&&(e=r),e=ao({},e,re.templateSettings);var n=RegExp([(e.escape||Vr).source,(e.interpolate||Vr).source,(e.evaluate||Vr).source].join("|")+"|$","g"),o=0,i="__p+='";t.replace(n,function(l,f,c,p,g){return i+=t.slice(o,g).replace(Ws,zs),o=g+l.length,f?i+=`'+
((__t=(`+f+`))==null?'':_.escape(__t))+
'`:c?i+=`'+
((__t=(`+c+`))==null?'':__t)+
'`:p&&(i+=`';
`+p+`
__p+='`),l}),i+=`';
`;var s=e.variable;if(s){if(!Qs.test(s))throw new Error("variable is not a bare identifier: "+s)}else i=`with(obj||{}){
`+i+`}
`,s="obj";i=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+i+`return __p;
`;var a;try{a=new Function(s,"_",i)}catch(l){throw l.source=i,l}var u=function(l){return a.call(this,l,re)};return u.source="function("+s+`){
`+i+"}",u}function Xs(t,e,r){e=Pt(e);var n=e.length;if(!n)return ve(r)?r.call(t):r;for(var o=0;o<n;o++){var i=t?.[e[o]];i===void 0&&(i=r,o=n),t=ve(i)?i.call(t):i}return t}var Gs=0;function Ys(t){var e=++Gs+"";return t?t+e:e}function Zs(t){var e=re(t);return e._chain=!0,e}function mo(t,e,r,n,o){if(!(n instanceof e))return t.apply(r,o);var i=uo(t.prototype),s=t.apply(i,o);return et(s)?s:i}var ht=ye(function(t,e){var r=ht.placeholder,n=function(){for(var o=0,i=e.length,s=Array(i),a=0;a<i;a++)s[a]=e[a]===r?arguments[o++]:e[a];for(;o<arguments.length;)s.push(arguments[o++]);return mo(t,n,this,this,s)};return n});ht.placeholder=re;const ho=ye(function(t,e,r){if(!ve(t))throw new TypeError("Bind must be called on a function");var n=ye(function(o){return mo(t,n,e,this,r.concat(o))});return n}),Be=Yn(De);function rt(t,e,r,n){if(n=n||[],!e&&e!==0)e=1/0;else if(e<=0)return n.concat(t);for(var o=n.length,i=0,s=De(t);i<s;i++){var a=t[i];if(Be(a)&&(tt(a)||Br(a)))if(e>1)rt(a,e-1,r,n),o=n.length;else for(var u=0,l=a.length;u<l;)n[o++]=a[u++];else r||(n[o++]=a)}return n}const $s=ye(function(t,e){e=rt(e,!1,!1);var r=e.length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var n=e[r];t[n]=ho(t[n],t)}return t});function js(t,e){var r=function(n){var o=r.cache,i=""+(e?e.apply(this,arguments):n);return Ge(o,i)||(o[i]=t.apply(this,arguments)),o[i]};return r.cache={},r}const xo=ye(function(t,e,r){return setTimeout(function(){return t.apply(null,r)},e)}),Ks=ht(xo,re,1);function Js(t,e,r){var n,o,i,s,a=0;r||(r={});var u=function(){a=r.leading===!1?0:Lt(),n=null,s=t.apply(o,i),n||(o=i=null)},l=function(){var f=Lt();!a&&r.leading===!1&&(a=f);var c=e-(f-a);return o=this,i=arguments,c<=0||c>e?(n&&(clearTimeout(n),n=null),a=f,s=t.apply(o,i),n||(o=i=null)):!n&&r.trailing!==!1&&(n=setTimeout(u,c)),s};return l.cancel=function(){clearTimeout(n),a=0,n=o=i=null},l}function ea(t,e,r){var n,o,i,s,a,u=function(){var f=Lt()-o;e>f?n=setTimeout(u,e-f):(n=null,r||(s=t.apply(a,i)),n||(i=a=null))},l=ye(function(f){return a=this,i=f,o=Lt(),n||(n=setTimeout(u,e),r&&(s=t.apply(a,i))),s});return l.cancel=function(){clearTimeout(n),n=i=a=null},l}function ta(t,e){return ht(e,t)}function qr(t){return function(){return!t.apply(this,arguments)}}function ra(){var t=arguments,e=t.length-1;return function(){for(var r=e,n=t[e].apply(this,arguments);r--;)n=t[r].call(this,n);return n}}function na(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function vo(t,e){var r;return function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=null),r}}const oa=ht(vo,2);function Eo(t,e,r){e=be(e,r);for(var n=Ae(t),o,i=0,s=n.length;i<s;i++)if(o=n[i],e(t[o],o,t))return o}function Co(t){return function(e,r,n){r=be(r,n);for(var o=De(e),i=t>0?0:o-1;i>=0&&i<o;i+=t)if(r(e[i],i,e))return i;return-1}}const Wr=Co(1),yo=Co(-1);function Do(t,e,r,n){r=be(r,n,1);for(var o=r(e),i=0,s=De(t);i<s;){var a=Math.floor((i+s)/2);r(t[a])<o?i=a+1:s=a}return i}function bo(t,e,r){return function(n,o,i){var s=0,a=De(n);if(typeof i=="number")t>0?s=i>=0?i:Math.max(i+a,s):a=i>=0?Math.min(i+1,a):i+a+1;else if(r&&i&&a)return i=r(n,o),n[i]===o?i:-1;if(o!==o)return i=e(St.call(n,s,a),Xn),i>=0?i+s:-1;for(i=t>0?s:a-1;i>=0&&i<a;i+=t)if(n[i]===o)return i;return-1}}const Fo=bo(1,Wr,Do),ia=bo(-1,yo);function zr(t,e,r){var n=Be(t)?Wr:Eo,o=n(t,e,r);if(o!==void 0&&o!==-1)return t[o]}function sa(t,e){return zr(t,Nt(e))}function Ve(t,e,r){e=Ot(e,r);var n,o;if(Be(t))for(n=0,o=t.length;n<o;n++)e(t[n],n,t);else{var i=Ae(t);for(n=0,o=i.length;n<o;n++)e(t[i[n]],i[n],t)}return t}function nt(t,e,r){e=be(e,r);for(var n=!Be(t)&&Ae(t),o=(n||t).length,i=Array(o),s=0;s<o;s++){var a=n?n[s]:s;i[s]=e(t[a],a,t)}return i}function wo(t){var e=function(r,n,o,i){var s=!Be(r)&&Ae(r),a=(s||r).length,u=t>0?0:a-1;for(i||(o=r[s?s[u]:u],u+=t);u>=0&&u<a;u+=t){var l=s?s[u]:u;o=n(o,r[l],l,r)}return o};return function(r,n,o,i){var s=arguments.length>=3;return e(r,Ot(n,i,4),o,s)}}const Qr=wo(1),To=wo(-1);function xt(t,e,r){var n=[];return e=be(e,r),Ve(t,function(o,i,s){e(o,i,s)&&n.push(o)}),n}function aa(t,e,r){return xt(t,qr(be(e)),r)}function Bo(t,e,r){e=be(e,r);for(var n=!Be(t)&&Ae(t),o=(n||t).length,i=0;i<o;i++){var s=n?n[i]:i;if(!e(t[s],s,t))return!1}return!0}function So(t,e,r){e=be(e,r);for(var n=!Be(t)&&Ae(t),o=(n||t).length,i=0;i<o;i++){var s=n?n[i]:i;if(e(t[s],s,t))return!0}return!1}function qe(t,e,r,n){return Be(t)||(t=mt(t)),(typeof r!="number"||n)&&(r=0),Fo(t,e,r)>=0}const ua=ye(function(t,e,r){var n,o;return ve(e)?o=e:(e=Pt(e),n=e.slice(0,-1),e=e[e.length-1]),nt(t,function(i){var s=o;if(!s){if(n&&n.length&&(i=Lr(i,n)),i==null)return;s=i[e]}return s==null?s:s.apply(i,r)})});function Hr(t,e){return nt(t,Mr(e))}function la(t,e){return xt(t,Nt(e))}function ko(t,e,r){var n=-1/0,o=-1/0,i,s;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=Be(t)?t:mt(t);for(var a=0,u=t.length;a<u;a++)i=t[a],i!=null&&i>n&&(n=i)}else e=be(e,r),Ve(t,function(l,f,c){s=e(l,f,c),(s>o||s===-1/0&&n===-1/0)&&(n=l,o=s)});return n}function ca(t,e,r){var n=1/0,o=1/0,i,s;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=Be(t)?t:mt(t);for(var a=0,u=t.length;a<u;a++)i=t[a],i!=null&&i<n&&(n=i)}else e=be(e,r),Ve(t,function(l,f,c){s=e(l,f,c),(s<o||s===1/0&&n===1/0)&&(n=l,o=s)});return n}var fa=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Ro(t){return t?tt(t)?St.call(t):Fr(t)?t.match(fa):Be(t)?nt(t,Ir):mt(t):[]}function Po(t,e,r){if(e==null||r)return Be(t)||(t=mt(t)),t[Ur(t.length-1)];var n=Ro(t),o=De(n);e=Math.max(Math.min(e,o),0);for(var i=o-1,s=0;s<e;s++){var a=Ur(s,i),u=n[s];n[s]=n[a],n[a]=u}return n.slice(0,e)}function da(t){return Po(t,1/0)}function Aa(t,e,r){var n=0;return e=be(e,r),Hr(nt(t,function(o,i,s){return{value:o,index:n++,criteria:e(o,i,s)}}).sort(function(o,i){var s=o.criteria,a=i.criteria;if(s!==a){if(s>a||s===void 0)return 1;if(s<a||a===void 0)return-1}return o.index-i.index}),"value")}function Jt(t,e){return function(r,n,o){var i=e?[[],[]]:{};return n=be(n,o),Ve(r,function(s,a){var u=n(s,a,r);t(i,s,u)}),i}}const ga=Jt(function(t,e,r){Ge(t,r)?t[r].push(e):t[r]=[e]}),pa=Jt(function(t,e,r){t[r]=e}),ma=Jt(function(t,e,r){Ge(t,r)?t[r]++:t[r]=1}),ha=Jt(function(t,e,r){t[r?0:1].push(e)},!0);function xa(t){return t==null?0:Be(t)?t.length:Ae(t).length}function va(t,e,r){return e in r}const No=ye(function(t,e){var r={},n=e[0];if(t==null)return r;ve(n)?(e.length>1&&(n=Ot(n,e[1])),e=Rt(t)):(n=va,e=rt(e,!1,!1),t=Object(t));for(var o=0,i=e.length;o<i;o++){var s=e[o],a=t[s];n(a,s,t)&&(r[s]=a)}return r}),Ea=ye(function(t,e){var r=e[0],n;return ve(r)?(r=qr(r),e.length>1&&(n=e[1])):(e=nt(rt(e,!1,!1),String),r=function(o,i){return!qe(e,i)}),No(t,r,n)});function Oo(t,e,r){return St.call(t,0,Math.max(0,t.length-(e==null||r?1:e)))}function Xr(t,e,r){return t==null||t.length<1?e==null||r?void 0:[]:e==null||r?t[0]:Oo(t,t.length-e)}function er(t,e,r){return St.call(t,e==null||r?1:e)}function Ca(t,e,r){return t==null||t.length<1?e==null||r?void 0:[]:e==null||r?t[t.length-1]:er(t,Math.max(0,t.length-e))}function ya(t){return xt(t,Boolean)}function Da(t,e){return rt(t,e,!1)}const Lo=ye(function(t,e){return e=rt(e,!0,!0),xt(t,function(r){return!qe(e,r)})}),ba=ye(function(t,e){return Lo(t,e)});function Gr(t,e,r,n){Un(e)||(n=r,r=e,e=!1),r!=null&&(r=be(r,n));for(var o=[],i=[],s=0,a=De(t);s<a;s++){var u=t[s],l=r?r(u,s,t):u;e&&!r?((!s||i!==l)&&o.push(u),i=l):r?qe(i,l)||(i.push(l),o.push(u)):qe(o,u)||o.push(u)}return o}const Fa=ye(function(t){return Gr(rt(t,!0,!0))});function wa(t){for(var e=[],r=arguments.length,n=0,o=De(t);n<o;n++){var i=t[n];if(!qe(e,i)){var s;for(s=1;s<r&&qe(arguments[s],i);s++);s===r&&e.push(i)}}return e}function Yr(t){for(var e=t&&ko(t,De).length||0,r=Array(e),n=0;n<e;n++)r[n]=Hr(t,n);return r}const Ta=ye(Yr);function Ba(t,e){for(var r={},n=0,o=De(t);n<o;n++)e?r[t[n]]=e[n]:r[t[n][0]]=t[n][1];return r}function Sa(t,e,r){e==null&&(e=t||0,t=0),r||(r=e<t?-1:1);for(var n=Math.max(Math.ceil((e-t)/r),0),o=Array(n),i=0;i<n;i++,t+=r)o[i]=t;return o}function ka(t,e){if(e==null||e<1)return[];for(var r=[],n=0,o=t.length;n<o;)r.push(St.call(t,n,n+=e));return r}function Zr(t,e){return t._chain?re(e).chain():e}function Io(t){return Ve(Nr(t),function(e){var r=re[e]=t[e];re.prototype[e]=function(){var n=[this._wrapped];return es.apply(n,arguments),Zr(this,r.apply(re,n))}}),re}Ve(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=Zt[t];re.prototype[t]=function(){var r=this._wrapped;return r!=null&&(e.apply(r,arguments),(t==="shift"||t==="splice")&&r.length===0&&delete r[0]),Zr(this,r)}}),Ve(["concat","join","slice"],function(t){var e=Zt[t];re.prototype[t]=function(){var r=this._wrapped;return r!=null&&(r=e.apply(r,arguments)),Zr(this,r)}});var K=Io(Object.freeze(Object.defineProperty({__proto__:null,VERSION:Sn,after:na,all:Bo,allKeys:Rt,any:So,assign:Kt,before:vo,bind:ho,bindAll:$s,chain:Zs,chunk:ka,clone:Rs,collect:nt,compact:ya,compose:ra,constant:Gn,contains:qe,countBy:ma,create:ks,debounce:ea,default:re,defaults:ao,defer:Ks,delay:xo,detect:zr,difference:Lo,drop:er,each:Ve,escape:Ms,every:Bo,extend:so,extendOwn:Kt,filter:xt,find:zr,findIndex:Wr,findKey:Eo,findLastIndex:yo,findWhere:sa,first:Xr,flatten:Da,foldl:Qr,foldr:To,forEach:Ve,functions:Nr,get:co,groupBy:ga,has:Ns,head:Xr,identity:Ir,include:qe,includes:qe,indexBy:pa,indexOf:Fo,initial:Oo,inject:Qr,intersection:wa,invert:io,invoke:ua,isArguments:Br,isArray:tt,isArrayBuffer:Wn,isBoolean:Un,isDataView:$t,isDate:ls,isElement:us,isEmpty:Es,isEqual:Cs,isError:fs,isFinite:ps,isFunction:ve,isMap:bs,isMatch:Kn,isNaN:Xn,isNull:as,isNumber:Vn,isObject:et,isRegExp:cs,isSet:ws,isString:Fr,isSymbol:qn,isTypedArray:$n,isUndefined:_n,isWeakMap:Fs,isWeakSet:Ts,iteratee:_r,keys:Ae,last:Ca,lastIndexOf:ia,map:nt,mapObject:Os,matcher:Nt,matches:Nt,max:ko,memoize:js,methods:Nr,min:ca,mixin:Io,negate:qr,noop:Ao,now:Lt,object:Ba,omit:Ea,once:oa,pairs:Bs,partial:ht,partition:ha,pick:No,pluck:Hr,property:Mr,propertyOf:Ls,random:Ur,range:Sa,reduce:Qr,reduceRight:To,reject:aa,rest:er,restArguments:ye,result:Xs,sample:Po,select:xt,shuffle:da,size:xa,some:So,sortBy:Aa,sortedIndex:Do,tail:er,take:Xr,tap:Ps,template:Hs,templateSettings:Vs,throttle:Js,times:Is,toArray:Ro,toPath:lo,transpose:Yr,unescape:Us,union:Fa,uniq:Gr,unique:Gr,uniqueId:Ys,unzip:Yr,values:mt,where:la,without:ba,wrap:ta,zip:Ta},Symbol.toStringTag,{value:"Module"})));K._=K;function Mo(t){return t?t.replace(/^\s+|\s+$/g,""):""}const $r=function(t){if(!t||t.substr(0,4)=="rtmp")return"";function e(n){let o="";return/[(,]format=mpd-/i.test(n)?o="mpd":/[(,]format=m3u8-/i.test(n)&&(o="m3u8"),o}let r=e(t);return r||(t=t.split("?")[0].split("#")[0],t.lastIndexOf(".")>-1?t.substr(t.lastIndexOf(".")+1,t.length).toLowerCase():"")};function It(t){let e=parseInt(t,10);if(!t)return"00:00";let r=Math.floor(e/3600),n=Math.floor((e-r*3600)/60),o=e-r*3600-n*60;return n<10&&(n="0"+n),o<10&&(o="0"+o),r>0?r+":"+n+":"+o:n+":"+o}function _o(t,e){if(!t)return 0;if(K.isNumber(t)&&!K.isNaN(t))return t;t=t.replace(",",".");let r=t.split(":"),n=r.length,o=0;if(t.slice(-1)==="s")o=parseFloat(t);else if(t.slice(-1)==="m")o=parseFloat(t)*60;else if(t.slice(-1)==="h")o=parseFloat(t)*3600;else if(n>1){var i=n-1;n===4&&(i-=1),o+=parseFloat(r[i]),o+=parseFloat(r[i-1])*60,n>=3&&(o+=parseFloat(r[i-2])*3600)}else o=parseFloat(t);return K.isNaN(o)?0:o}function Ra(t){var e={},r=t.split(`\r
`);r.length===1&&(r=t.split(`
`));var n=1;if(r[0].indexOf(" --> ")>0&&(n=0),r.length>n+1&&r[n+1]){var o=r[n],i=o.indexOf(" --> ");i>0&&(e.start=_o(o.substr(0,i)),e.end=_o(o.substr(i+5)),e.text=r.slice(n+1).join(`\r
`))}return e}const Pa=function(t){var e=[];t=Mo(t);var r=t.split(`\r
\r
`);r.length===1&&(r=t.split(`

`));for(var n=0;n<r.length;n++)if(r[n]!=="WEBVTT"){var o=Ra(r[n]);o.text&&e.push(o)}return e};let tr=window.VTTCue;var Na="auto",Oa={"":!0,lr:!0,rl:!0},La={start:!0,middle:!0,end:!0,left:!0,right:!0};function Ia(t){if(typeof t!="string")return!1;var e=Oa[t.toLowerCase()];return e?t.toLowerCase():!1}function jr(t){if(typeof t!="string")return!1;var e=La[t.toLowerCase()];return e?t.toLowerCase():!1}function Fe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}tr||(tr=function(t,e,r){var n=this,o=/MSIE\s8\.0/.test(navigator.userAgent),i={};o?n=document.createElement("custom"):i.enumerable=!0,n.hasBeenReset=!1;var s="",a=!1,u=t,l=e,f=r,c=null,p="",g=!0,h="auto",x="start",A=50,y="middle",F=50,O="middle";if(Object.defineProperty(n,"id",Fe({},i,{get:function(){return s},set:function(b){s=""+b}})),Object.defineProperty(n,"pauseOnExit",Fe({},i,{get:function(){return a},set:function(b){a=!!b}})),Object.defineProperty(n,"startTime",Fe({},i,{get:function(){return u},set:function(b){if(typeof b!="number")throw new TypeError("Start time must be set to a number.");u=b,this.hasBeenReset=!0}})),Object.defineProperty(n,"endTime",Fe({},i,{get:function(){return l},set:function(b){if(typeof b!="number")throw new TypeError("End time must be set to a number.");l=b,this.hasBeenReset=!0}})),Object.defineProperty(n,"text",Fe({},i,{get:function(){return f},set:function(b){f=""+b,this.hasBeenReset=!0}})),Object.defineProperty(n,"region",Fe({},i,{get:function(){return c},set:function(b){c=b,this.hasBeenReset=!0}})),Object.defineProperty(n,"vertical",Fe({},i,{get:function(){return p},set:function(b){var w=Ia(b);if(w===!1)throw new SyntaxError("An invalid or illegal string was specified.");p=w,this.hasBeenReset=!0}})),Object.defineProperty(n,"snapToLines",Fe({},i,{get:function(){return g},set:function(b){g=!!b,this.hasBeenReset=!0}})),Object.defineProperty(n,"line",Fe({},i,{get:function(){return h},set:function(b){if(typeof b!="number"&&b!==Na)throw new SyntaxError("An invalid number or illegal string was specified.");h=b,this.hasBeenReset=!0}})),Object.defineProperty(n,"lineAlign",Fe({},i,{get:function(){return x},set:function(b){var w=jr(b);if(!w)throw new SyntaxError("An invalid or illegal string was specified.");x=w,this.hasBeenReset=!0}})),Object.defineProperty(n,"position",Fe({},i,{get:function(){return A},set:function(b){if(b<0||b>100)throw new Error("Position must be between 0 and 100.");A=b,this.hasBeenReset=!0}})),Object.defineProperty(n,"positionAlign",Fe({},i,{get:function(){return y},set:function(b){var w=jr(b);if(!w)throw new SyntaxError("An invalid or illegal string was specified.");y=w,this.hasBeenReset=!0}})),Object.defineProperty(n,"size",Fe({},i,{get:function(){return F},set:function(b){if(b<0||b>100)throw new Error("Size must be between 0 and 100.");F=b,this.hasBeenReset=!0}})),Object.defineProperty(n,"align",Fe({},i,{get:function(){return O},set:function(b){var w=jr(b);if(!w)throw new SyntaxError("An invalid or illegal string was specified.");O=w,this.hasBeenReset=!0}})),n.displayState=void 0,o)return n},tr.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)});const Uo=tr;let Vo="";var Ma={"":!0,up:!0};function _a(t){if(typeof t!="string")return!1;var e=Ma[t.toLowerCase()];return e?t.toLowerCase():!1}function Mt(t){return typeof t=="number"&&t>=0&&t<=100}Vo=function(){var t=100,e=3,r=0,n=100,o=0,i=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(a){if(!Mt(a))throw new Error("Width must be between 0 and 100.");t=a}},lines:{enumerable:!0,get:function(){return e},set:function(a){if(typeof a!="number")throw new TypeError("Lines must be set to a number.");e=a}},regionAnchorY:{enumerable:!0,get:function(){return n},set:function(a){if(!Mt(a))throw new Error("RegionAnchorX must be between 0 and 100.");n=a}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(a){if(!Mt(a))throw new Error("RegionAnchorY must be between 0 and 100.");r=a}},viewportAnchorY:{enumerable:!0,get:function(){return i},set:function(a){if(!Mt(a))throw new Error("ViewportAnchorY must be between 0 and 100.");i=a}},viewportAnchorX:{enumerable:!0,get:function(){return o},set:function(a){if(!Mt(a))throw new Error("ViewportAnchorX must be between 0 and 100.");o=a}},scroll:{enumerable:!0,get:function(){return s},set:function(a){var u=_a(a);if(u===!1)throw new SyntaxError("An invalid or illegal string was specified.");s=u}}})};const Ua=Vo;let ot=function(){};function Kr(t,e){return e===void 0&&(e=1),"rgba("+[parseInt(t.substring(0,2),16),parseInt(t.substring(2,4),16),parseInt(t.substring(4,6),16),e].join(",")+")"}var Va=["webvtt.font.color","webvtt.font.opacity","webvtt.font.scale","webvtt.bg.color","webvtt.bg.opacity","webvtt.edge.color","webvtt.edge.type"],qo=1;function Wo(t,e,r){switch(r){case"webvtt.font.color":case"webvtt.font.opacity":var n=Services.prefs.getCharPref("webvtt.font.color"),o=Services.prefs.getIntPref("webvtt.font.opacity")/100;it.fontSet=Kr(n,o);break;case"webvtt.font.scale":qo=Services.prefs.getIntPref("webvtt.font.scale")/100;break;case"webvtt.bg.color":case"webvtt.bg.opacity":var i=Services.prefs.getCharPref("webvtt.bg.color"),s=Services.prefs.getIntPref("webvtt.bg.opacity")/100;it.backgroundSet=Kr(i,s);break;case"webvtt.edge.color":case"webvtt.edge.type":var a=["","0px 0px ","4px 4px 4px ","-2px -2px ","2px 2px "],u=Services.prefs.getIntPref("webvtt.edge.type"),l=Services.prefs.getCharPref("webvtt.edge.color");it.edgeSet=a[u]+Kr(l);break}}if(typeof Services<"u"){var it={};Va.forEach(function(t){Wo(void 0,void 0,t),Services.prefs.addObserver(t,Wo,!1)})}var Jr=Object.create||(function(){function t(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}})();function Se(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}Se.prototype=Jr(Error.prototype),Se.prototype.constructor=Se,Se.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function zo(t){function e(n,o,i,s){return(n|0)*3600+(o|0)*60+(i|0)+(s|0)/1e3}var r=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return r?r[3]?e(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?e(r[1],r[2],0,r[4]):e(0,r[1],r[2],r[4]):null}function rr(){this.values=Jr(null)}rr.prototype={set:function(t,e){!this.get(t)&&e!==""&&(this.values[t]=e)},get:function(t,e,r){return r?this.has(t)?this.values[t]:e[r]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,r){for(var n=0;n<r.length;++n)if(e===r[n]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(t,e),!0):!1}};function en(t,e,r,n){var o=n?t.split(n):[t];for(var i in o)if(typeof o[i]=="string"){var s=o[i].split(r);if(s.length===2){var a=s[0],u=s[1];e(a,u)}}}function qa(t,e,r){var n=t;function o(){var a=zo(t);if(a===null)throw new Se(Se.Errors.BadTimeStamp,"Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),a}function i(a,u){var l=new rr;en(a,function(f,c){switch(f){case"region":for(var p=r.length-1;p>=0;p--)if(r[p].id===c){l.set(f,r[p].region);break}break;case"vertical":l.alt(f,c,["rl","lr"]);break;case"line":var g=c.split(","),h=g[0];l.integer(f,h),l.percent(f,h)&&l.set("snapToLines",!1),l.alt(f,h,["auto"]),g.length===2&&l.alt("lineAlign",g[1],["start","middle","end"]);break;case"position":g=c.split(","),l.percent(f,g[0]),g.length===2&&l.alt("positionAlign",g[1],["start","middle","end"]);break;case"size":l.percent(f,c);break;case"align":l.alt(f,c,["start","middle","end","left","right"]);break}},/:/,/\s/)}function s(){t=t.replace(/^\s+/,"")}if(s(),e.startTime=o(),s(),t.substr(0,3)!=="-->")throw new Se(Se.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+n);t=t.substr(3),s(),e.endTime=o(),s(),i(t)}var Wa={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},za={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},Qa={v:"title",lang:"lang"},Qo={rt:"ruby"};function Ho(t,e){function r(){if(!e)return null;function h(A){return e=e.substr(A.length),A}var x=e.match(/^([^<]*)(<[^>]+>?)?/);return h(x[1]?x[1]:x[2])}function n(h){return Wa[h]}function o(h){for(;g=h.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)h=h.replace(g[0],n);return h}function i(h,x){return!Qo[x.localName]||Qo[x.localName]===h.localName}function s(h,x){var A=za[h];if(!A)return null;var y=t.document.createElement(A);y.localName=A;var F=Qa[h];return F&&x&&(y[F]=x.trim()),y}for(var a=t.document.createElement("div"),u=a,l,f=[];(l=r())!==null;){if(l[0]==="<"){if(l[1]==="/"){f.length&&f[f.length-1]===l.substr(2).replace(">","")&&(f.pop(),u=u.parentNode);continue}var c=zo(l.substr(1,l.length-2)),p;if(c){p=t.document.createProcessingInstruction("timestamp",c),u.appendChild(p);continue}var g=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!g||(p=s(g[1],g[3]),!p)||!i(u,p))continue;g[2]&&(p.className=g[2].substr(1).replace("."," ")),f.push(g[1]),u.appendChild(p),u=p;continue}u.appendChild(t.document.createTextNode(o(l)))}return a}var Xo=[1470,1472,1475,1478,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1520,1521,1522,1523,1524,1544,1547,1549,1563,1566,1567,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1645,1646,1647,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740,1741,1742,1743,1744,1745,1746,1747,1748,1749,1765,1766,1774,1775,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800,1801,1802,1803,1804,1805,1807,1808,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1969,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2036,2037,2042,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2074,2084,2088,2096,2097,2098,2099,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2110,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2142,2208,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,8207,64285,64287,64288,64289,64290,64291,64292,64293,64294,64295,64296,64298,64299,64300,64301,64302,64303,64304,64305,64306,64307,64308,64309,64310,64312,64313,64314,64315,64316,64318,64320,64321,64323,64324,64326,64327,64328,64329,64330,64331,64332,64333,64334,64335,64336,64337,64338,64339,64340,64341,64342,64343,64344,64345,64346,64347,64348,64349,64350,64351,64352,64353,64354,64355,64356,64357,64358,64359,64360,64361,64362,64363,64364,64365,64366,64367,64368,64369,64370,64371,64372,64373,64374,64375,64376,64377,64378,64379,64380,64381,64382,64383,64384,64385,64386,64387,64388,64389,64390,64391,64392,64393,64394,64395,64396,64397,64398,64399,64400,64401,64402,64403,64404,64405,64406,64407,64408,64409,64410,64411,64412,64413,64414,64415,64416,64417,64418,64419,64420,64421,64422,64423,64424,64425,64426,64427,64428,64429,64430,64431,64432,64433,64434,64435,64436,64437,64438,64439,64440,64441,64442,64443,64444,64445,64446,64447,64448,64449,64467,64468,64469,64470,64471,64472,64473,64474,64475,64476,64477,64478,64479,64480,64481,64482,64483,64484,64485,64486,64487,64488,64489,64490,64491,64492,64493,64494,64495,64496,64497,64498,64499,64500,64501,64502,64503,64504,64505,64506,64507,64508,64509,64510,64511,64512,64513,64514,64515,64516,64517,64518,64519,64520,64521,64522,64523,64524,64525,64526,64527,64528,64529,64530,64531,64532,64533,64534,64535,64536,64537,64538,64539,64540,64541,64542,64543,64544,64545,64546,64547,64548,64549,64550,64551,64552,64553,64554,64555,64556,64557,64558,64559,64560,64561,64562,64563,64564,64565,64566,64567,64568,64569,64570,64571,64572,64573,64574,64575,64576,64577,64578,64579,64580,64581,64582,64583,64584,64585,64586,64587,64588,64589,64590,64591,64592,64593,64594,64595,64596,64597,64598,64599,64600,64601,64602,64603,64604,64605,64606,64607,64608,64609,64610,64611,64612,64613,64614,64615,64616,64617,64618,64619,64620,64621,64622,64623,64624,64625,64626,64627,64628,64629,64630,64631,64632,64633,64634,64635,64636,64637,64638,64639,64640,64641,64642,64643,64644,64645,64646,64647,64648,64649,64650,64651,64652,64653,64654,64655,64656,64657,64658,64659,64660,64661,64662,64663,64664,64665,64666,64667,64668,64669,64670,64671,64672,64673,64674,64675,64676,64677,64678,64679,64680,64681,64682,64683,64684,64685,64686,64687,64688,64689,64690,64691,64692,64693,64694,64695,64696,64697,64698,64699,64700,64701,64702,64703,64704,64705,64706,64707,64708,64709,64710,64711,64712,64713,64714,64715,64716,64717,64718,64719,64720,64721,64722,64723,64724,64725,64726,64727,64728,64729,64730,64731,64732,64733,64734,64735,64736,64737,64738,64739,64740,64741,64742,64743,64744,64745,64746,64747,64748,64749,64750,64751,64752,64753,64754,64755,64756,64757,64758,64759,64760,64761,64762,64763,64764,64765,64766,64767,64768,64769,64770,64771,64772,64773,64774,64775,64776,64777,64778,64779,64780,64781,64782,64783,64784,64785,64786,64787,64788,64789,64790,64791,64792,64793,64794,64795,64796,64797,64798,64799,64800,64801,64802,64803,64804,64805,64806,64807,64808,64809,64810,64811,64812,64813,64814,64815,64816,64817,64818,64819,64820,64821,64822,64823,64824,64825,64826,64827,64828,64829,64848,64849,64850,64851,64852,64853,64854,64855,64856,64857,64858,64859,64860,64861,64862,64863,64864,64865,64866,64867,64868,64869,64870,64871,64872,64873,64874,64875,64876,64877,64878,64879,64880,64881,64882,64883,64884,64885,64886,64887,64888,64889,64890,64891,64892,64893,64894,64895,64896,64897,64898,64899,64900,64901,64902,64903,64904,64905,64906,64907,64908,64909,64910,64911,64914,64915,64916,64917,64918,64919,64920,64921,64922,64923,64924,64925,64926,64927,64928,64929,64930,64931,64932,64933,64934,64935,64936,64937,64938,64939,64940,64941,64942,64943,64944,64945,64946,64947,64948,64949,64950,64951,64952,64953,64954,64955,64956,64957,64958,64959,64960,64961,64962,64963,64964,64965,64966,64967,65008,65009,65010,65011,65012,65013,65014,65015,65016,65017,65018,65019,65020,65136,65137,65138,65139,65140,65142,65143,65144,65145,65146,65147,65148,65149,65150,65151,65152,65153,65154,65155,65156,65157,65158,65159,65160,65161,65162,65163,65164,65165,65166,65167,65168,65169,65170,65171,65172,65173,65174,65175,65176,65177,65178,65179,65180,65181,65182,65183,65184,65185,65186,65187,65188,65189,65190,65191,65192,65193,65194,65195,65196,65197,65198,65199,65200,65201,65202,65203,65204,65205,65206,65207,65208,65209,65210,65211,65212,65213,65214,65215,65216,65217,65218,65219,65220,65221,65222,65223,65224,65225,65226,65227,65228,65229,65230,65231,65232,65233,65234,65235,65236,65237,65238,65239,65240,65241,65242,65243,65244,65245,65246,65247,65248,65249,65250,65251,65252,65253,65254,65255,65256,65257,65258,65259,65260,65261,65262,65263,65264,65265,65266,65267,65268,65269,65270,65271,65272,65273,65274,65275,65276,67584,67585,67586,67587,67588,67589,67592,67594,67595,67596,67597,67598,67599,67600,67601,67602,67603,67604,67605,67606,67607,67608,67609,67610,67611,67612,67613,67614,67615,67616,67617,67618,67619,67620,67621,67622,67623,67624,67625,67626,67627,67628,67629,67630,67631,67632,67633,67634,67635,67636,67637,67639,67640,67644,67647,67648,67649,67650,67651,67652,67653,67654,67655,67656,67657,67658,67659,67660,67661,67662,67663,67664,67665,67666,67667,67668,67669,67671,67672,67673,67674,67675,67676,67677,67678,67679,67840,67841,67842,67843,67844,67845,67846,67847,67848,67849,67850,67851,67852,67853,67854,67855,67856,67857,67858,67859,67860,67861,67862,67863,67864,67865,67866,67867,67872,67873,67874,67875,67876,67877,67878,67879,67880,67881,67882,67883,67884,67885,67886,67887,67888,67889,67890,67891,67892,67893,67894,67895,67896,67897,67903,67968,67969,67970,67971,67972,67973,67974,67975,67976,67977,67978,67979,67980,67981,67982,67983,67984,67985,67986,67987,67988,67989,67990,67991,67992,67993,67994,67995,67996,67997,67998,67999,68e3,68001,68002,68003,68004,68005,68006,68007,68008,68009,68010,68011,68012,68013,68014,68015,68016,68017,68018,68019,68020,68021,68022,68023,68030,68031,68096,68112,68113,68114,68115,68117,68118,68119,68121,68122,68123,68124,68125,68126,68127,68128,68129,68130,68131,68132,68133,68134,68135,68136,68137,68138,68139,68140,68141,68142,68143,68144,68145,68146,68147,68160,68161,68162,68163,68164,68165,68166,68167,68176,68177,68178,68179,68180,68181,68182,68183,68184,68192,68193,68194,68195,68196,68197,68198,68199,68200,68201,68202,68203,68204,68205,68206,68207,68208,68209,68210,68211,68212,68213,68214,68215,68216,68217,68218,68219,68220,68221,68222,68223,68352,68353,68354,68355,68356,68357,68358,68359,68360,68361,68362,68363,68364,68365,68366,68367,68368,68369,68370,68371,68372,68373,68374,68375,68376,68377,68378,68379,68380,68381,68382,68383,68384,68385,68386,68387,68388,68389,68390,68391,68392,68393,68394,68395,68396,68397,68398,68399,68400,68401,68402,68403,68404,68405,68416,68417,68418,68419,68420,68421,68422,68423,68424,68425,68426,68427,68428,68429,68430,68431,68432,68433,68434,68435,68436,68437,68440,68441,68442,68443,68444,68445,68446,68447,68448,68449,68450,68451,68452,68453,68454,68455,68456,68457,68458,68459,68460,68461,68462,68463,68464,68465,68466,68472,68473,68474,68475,68476,68477,68478,68479,68608,68609,68610,68611,68612,68613,68614,68615,68616,68617,68618,68619,68620,68621,68622,68623,68624,68625,68626,68627,68628,68629,68630,68631,68632,68633,68634,68635,68636,68637,68638,68639,68640,68641,68642,68643,68644,68645,68646,68647,68648,68649,68650,68651,68652,68653,68654,68655,68656,68657,68658,68659,68660,68661,68662,68663,68664,68665,68666,68667,68668,68669,68670,68671,68672,68673,68674,68675,68676,68677,68678,68679,68680,126464,126465,126466,126467,126469,126470,126471,126472,126473,126474,126475,126476,126477,126478,126479,126480,126481,126482,126483,126484,126485,126486,126487,126488,126489,126490,126491,126492,126493,126494,126495,126497,126498,126500,126503,126505,126506,126507,126508,126509,126510,126511,126512,126513,126514,126516,126517,126518,126519,126521,126523,126530,126535,126537,126539,126541,126542,126543,126545,126546,126548,126551,126553,126555,126557,126559,126561,126562,126564,126567,126568,126569,126570,126572,126573,126574,126575,126576,126577,126578,126580,126581,126582,126583,126585,126586,126587,126588,126590,126592,126593,126594,126595,126596,126597,126598,126599,126600,126601,126603,126604,126605,126606,126607,126608,126609,126610,126611,126612,126613,126614,126615,126616,126617,126618,126619,126625,126626,126627,126629,126630,126631,126632,126633,126635,126636,126637,126638,126639,126640,126641,126642,126643,126644,126645,126646,126647,126648,126649,126650,126651,1114109];function Ha(t){var e=[],r="",n;if(!t||!t.childNodes)return"ltr";function o(u,l){for(var f=l.childNodes.length-1;f>=0;f--)u.push(l.childNodes[f])}function i(u){if(!u||!u.length)return null;var l=u.pop(),f=l.textContent||l.innerText;if(f){var c=f.match(/^.*(\n|\r)/);return c?(u.length=0,c[0]):f}if(l.tagName==="ruby")return i(u);if(l.childNodes)return o(u,l),i(u)}for(o(e,t);r=i(e);)for(var s=0;s<r.length;s++){n=r.charCodeAt(s);for(var a=0;a<Xo.length;a++)if(Xo[a]===n)return"rtl"}return"ltr"}function Xa(t){if(typeof t.line=="number"&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,r=e.textTrackList,n=0,o=0;o<r.length&&r[o]!==e;o++)r[o].mode==="showing"&&n++;return++n*-1}function nr(){}nr.prototype.applyStyles=function(t,e){e=e||this.div;for(var r in t)t.hasOwnProperty(r)&&(e.style[r]=t[r])},nr.prototype.formatStyle=function(t,e){return t===0?0:t+e};function or(t,e,r){var n=typeof navigator<"u"&&/MSIE\s8\.0/.test(navigator.userAgent),o="rgba(255, 255, 255, 1)",i="rgba(0, 0, 0, 0.8)",s="";typeof it<"u"&&(o=it.fontSet,i=it.backgroundSet,s=it.edgeSet),n&&(o="rgb(255, 255, 255)",i="rgb(0, 0, 0)"),nr.call(this),this.cue=e,this.cueDiv=Ho(t,e.text);var a={color:o,backgroundColor:i,textShadow:s,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};n||(a.writingMode=e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",a.unicodeBidi="plaintext"),this.applyStyles(a,this.cueDiv),this.div=t.document.createElement("div"),a={textAlign:e.align==="middle"?"center":e.align,font:r.font,whiteSpace:"pre-line",position:"absolute"},n||(a.direction=Ha(this.cueDiv),a.writingMode=e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(a),this.div.appendChild(this.cueDiv);var u=0;switch(e.positionAlign){case"start":u=e.position;break;case"middle":u=e.position-e.size/2;break;case"end":u=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(u,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(u,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(l){this.applyStyles({top:this.formatStyle(l.top,"px"),bottom:this.formatStyle(l.bottom,"px"),left:this.formatStyle(l.left,"px"),right:this.formatStyle(l.right,"px"),height:this.formatStyle(l.height,"px"),width:this.formatStyle(l.width,"px")})}}or.prototype=Jr(nr.prototype),or.prototype.constructor=or;function Ee(t){var e=typeof navigator<"u"&&/MSIE\s8\.0/.test(navigator.userAgent),r,n,o,i;if(t.div){n=t.div.offsetHeight,o=t.div.offsetWidth,i=t.div.offsetTop;var s=(s=t.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();t=t.div.getBoundingClientRect(),r=s?Math.max(s[0]&&s[0].height||0,t.height/s.length):0}this.left=t.left,this.right=t.right,this.top=t.top||i,this.height=t.height||n,this.bottom=t.bottom||i+(t.height||n),this.width=t.width||o,this.lineHeight=r!==void 0?r:t.lineHeight,e&&!this.lineHeight&&(this.lineHeight=13)}Ee.prototype.move=function(t,e){switch(e=e!==void 0?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}},Ee.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},Ee.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},Ee.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},Ee.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},Ee.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),r=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),n=e*r;return n/(this.height*this.width)},Ee.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},Ee.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,r=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,n=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var o={left:t.left,right:t.right,top:t.top||n,height:t.height||e,bottom:t.bottom||n+(t.height||e),width:t.width||r};return o};function Ga(t,e,r,n){function o(A,y){for(var F,O=new Ee(A),b=1,w=0;w<y.length;w++){for(;A.overlapsOppositeAxis(r,y[w])||A.within(r)&&A.overlapsAny(n);)A.move(y[w]);if(A.within(r))return A;var R=A.intersectPercentage(r);b>R&&(F=new Ee(A),b=R),A=new Ee(O)}return F||O}var i=new Ee(e),s=e.cue,a=Xa(s),u=[];if(s.snapToLines){var l;switch(s.vertical){case"":u=["+y","-y"],l="height";break;case"rl":u=["+x","-x"],l="width";break;case"lr":u=["-x","+x"],l="width";break}var f=i.lineHeight,c=f*Math.round(a),p=r[l]+f,g=u[0];Math.abs(c)>p&&(c=c<0?-1:1,c*=Math.ceil(p/f)*f),a<0&&(c+=s.vertical===""?r.height:r.width,u=u.reverse()),i.move(g,c)}else{var h=i.lineHeight/r.height*100;switch(s.lineAlign){case"middle":a-=h/2;break;case"end":a-=h;break}switch(s.vertical){case"":e.applyStyles({top:e.formatStyle(a,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(a,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(a,"%")});break}u=["+y","-x","+x","-y"],i=new Ee(e)}var x=o(i,u);e.move(x.toCSSCompatValues(r))}ot.StringDecoder=function(){return{decode:function(t){if(!t)return"";if(typeof t!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},ot.convertCueToDOMTree=function(t,e){return!t||!e?null:Ho(t,e)};var Ya=.05,Za="sans-serif",$a="1.5%";ot.processCues=function(t,e,r){if(!t||!e||!r)return null;for(;r.firstChild;)r.removeChild(r.firstChild);var n=t.document.createElement("div");n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin=$a,r.appendChild(n);function o(f){for(var c=0;c<f.length;c++)if(f[c].hasBeenReset||!f[c].displayState)return!0;return!1}if(!o(e)){for(var i=0;i<e.length;i++)n.appendChild(e[i].displayState);return}var s=[],a=Ee.getSimpleBoxPosition(n),u=Math.round(a.height*Ya*100)/100,l={font:u*qo+"px "+Za};(function(){for(var f,c,p=0;p<e.length;p++)c=e[p],f=new or(t,c,l),n.appendChild(f.div),Ga(t,f,a,s),c.displayState=f.div,s.push(Ee.getSimpleBoxPosition(f))})()},ot.Parser=function(t,e){this.window=t,this.state="INITIAL",this.buffer="",this.decoder=e||new TextDecoder("utf8"),this.regionList=[]},ot.Parser.prototype={reportOrThrowError:function(t){if(t instanceof Se)this.onparsingerror&&this.onparsingerror(t);else throw t},parse:function(t,e){var r=this;t&&(r.buffer+=r.decoder.decode(t,{stream:!0}));function n(){for(var f=r.buffer,c=0;c<f.length&&f[c]!=="\r"&&f[c]!==`
`;)++c;var p=f.substr(0,c);return f[c]==="\r"&&++c,f[c]===`
`&&++c,r.buffer=f.substr(c),p}function o(f){var c=new rr;if(en(f,function(g,h){switch(g){case"id":c.set(g,h);break;case"width":c.percent(g,h);break;case"lines":c.integer(g,h);break;case"regionanchor":case"viewportanchor":var x=h.split(",");if(x.length!==2)break;var A=new rr;if(A.percent("x",x[0]),A.percent("y",x[1]),!A.has("x")||!A.has("y"))break;c.set(g+"X",A.get("x")),c.set(g+"Y",A.get("y"));break;case"scroll":c.alt(g,h,["up"]);break}},/=/,/\s/),c.has("id")){var p=new Ua;p.width=c.get("width",100),p.lines=c.get("lines",3),p.regionAnchorX=c.get("regionanchorX",0),p.regionAnchorY=c.get("regionanchorY",100),p.viewportAnchorX=c.get("viewportanchorX",0),p.viewportAnchorY=c.get("viewportanchorY",100),p.scroll=c.get("scroll",""),r.onregion&&r.onregion(p),r.regionList.push({id:c.get("id"),region:p})}}function i(f){en(f,function(c,p){switch(c){case"Region":o(p);break}},/:/)}try{var s;if(r.state==="INITIAL"){if(!/\r\n|\n/.test(r.buffer))return this;s=n();var a=s.match(/^WEBVTT([ \t].*)?$/);if(!a||!a[0])throw new Se(Se.Errors.BadSignature);r.state="HEADER"}for(var u=!1;r.buffer;){if(!/\r\n|\n/.test(r.buffer))return this;switch(u?u=!1:s=n(),r.state){case"HEADER":/:/.test(s)?i(s):s||(r.state="ID");continue;case"NOTE":s||(r.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){r.state="NOTE";break}if(!s)continue;if(r.cue=new Uo(0,0,""),r.state="CUE",s.indexOf("-->")===-1){r.cue.id=s;continue}case"CUE":try{qa(s,r.cue,r.regionList)}catch(f){r.reportOrThrowError(f),r.cue=null,r.state="BADCUE";continue}r.state="CUETEXT";continue;case"CUETEXT":var l=s.indexOf("-->")!==-1;if(!s||l&&(u=!0)){r.oncue&&r.oncue(r.cue),r.cue=null,r.state="ID";continue}r.cue.text&&(r.cue.text+=`
`),r.cue.text+=s;continue;case"BADCUE":s||(r.state="ID");continue}}if(!e)return r.state==="CUETEXT"&&r.cue&&r.oncue&&r.oncue(r.cue),r.flush(),this}catch(f){r.reportOrThrowError(f),r.state==="CUETEXT"&&r.cue&&r.oncue&&r.oncue(r.cue),r.cue=null,r.state=r.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||t.state==="HEADER")&&(t.buffer+=`

`,t.parse(null,!0)),t.state==="INITIAL")throw new Se(Se.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};const ja=function(){let t=window.navigator,e=["language","browserLanguage","systemLanguage","userLanguage"],r,n;if(Array.isArray(t.languages)){for(r=0;r<t.languages.length;r++)if(n=t.languages[r],n&&n.length)return n}for(r=0;r<e.length;r++)if(n=t[e[r]],n&&n.length)return n;return null},tn=function(){let t="-",e="";if(screen.width){let y=screen.width?screen.width:"",F=screen.height?screen.height:"";e+=""+y+" x "+F}let r=navigator.appVersion,n=navigator.userAgent,o=navigator.appName,i=""+parseFloat(navigator.appVersion),s=parseInt(navigator.appVersion,10),a,u,l;(u=n.indexOf("Opera"))!=-1&&(o="Opera",i=n.substring(u+6),(u=n.indexOf("Version"))!=-1&&(i=n.substring(u+8))),(u=n.indexOf("OPR"))!=-1?(o="Opera",i=n.substring(u+4)):(u=n.indexOf("SamsungBrowser"))!=-1?(o="SamsungBrowser",i=n.substring(u+15)):(u=n.indexOf("Edge"))!=-1?(o="Microsoft Edge",i=n.substring(u+5)):(u=n.indexOf("MSIE"))!=-1?(o="Microsoft Internet Explorer",i=n.substring(u+5),n.indexOf("Trident/")!==-1&&n.indexOf("rv:")!==-1&&(i=n.substring(n.indexOf("rv:")+3))):(u=n.indexOf("Chrome"))!=-1?(o="Chrome",i=n.substring(u+7)):(u=n.indexOf("CriOS"))!=-1?(o="Chrome",i=n.substring(u+6)):(u=n.indexOf("Firefox"))!=-1?(o="Firefox",i=n.substring(u+8)):(u=n.indexOf("FxiOS"))!=-1?(o="Firefox",i=n.substring(u+6)):(u=n.indexOf("Safari"))!=-1?(o="Safari",i=n.substring(u+7),(u=n.indexOf("Version"))!=-1&&(i=n.substring(u+8))):n.indexOf("Trident/")!==-1?(o="Microsoft Internet Explorer",i=n.substring(n.indexOf("rv:")+3)):(a=n.lastIndexOf(" ")+1)<(u=n.lastIndexOf("/"))&&(o=n.substring(a,u),i=n.substring(u+1),o.toLowerCase()==o.toUpperCase()&&(o=navigator.appName)),n.indexOf(" wv")>0,(l=i.indexOf(";"))!=-1&&(i=i.substring(0,l)),(l=i.indexOf(" "))!=-1&&(i=i.substring(0,l)),(l=i.indexOf(")"))!=-1&&(i=i.substring(0,l)),s=parseInt(""+i,10),isNaN(s)&&(i=""+parseFloat(navigator.appVersion),s=parseInt(navigator.appVersion,10));var f=/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(r),c=!!navigator.cookieEnabled;typeof navigator.cookieEnabled>"u"&&!c&&(document.cookie="testcookie",c=document.cookie.indexOf("testcookie")!=-1);var p=t,g=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS XI",r:/Mac OS X 11/},{s:"Mac OS X",r:/Mac OS X 10/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var h in g){var x=g[h];if(x.r.test(n)){p=x.s;break}}var A=t;switch(/Windows/.test(p)&&(A=/Windows (.*)/.exec(p)[1],p="Windows"),p){case"Mac OS XI":A=/Mac OS X (11[\.\_\d]+)/.exec(n)[1];break;case"Mac OS X":A=/Mac OS X (10[\.\_\d]+)/.exec(n)[1];break;case"Android":A=/Android ([\.\_\d]+)/.exec(n)[1];break;case"iOS":A=/OS (\d+)_(\d+)_?(\d+)?/.exec(r),A?A=A[1]+"."+A[2]+"."+(A[3]|0):A="";break}return{screen:e,browser:o,browserVersion:i,browserMajorVersion:s,mobile:f,ua:n,os:p,osVersion:A,cookies:c}},Ka=/<sync|<\/body|<\/sami/i,rn=/\r\n?|\n/g,Ja=/<[a-z]*[^>]*<[a-z]*/g,eu=/<sync[^>]+?start[^=]*=[^0-9]*([0-9]*)["^0-9"]*/i,tu=/<br[^>]*>/ig,ru=function(t,e){e=(((e||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var r=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,n=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;return t.replace(n,"").replace(r,function(o,i){return e.indexOf("<"+i.toLowerCase()+">")>-1?o:""})},Go=function(t){return t.sort(function(e,r){var n;return(n=e.start-r.start)===0?e.end-r.end:n})},nu=function(t,e){var r,n,o,i,s,a,u,l,f,c,p;if(u=function(){var g,h,x,A,y,F,O,b,w,R,C,N,E,S,I,L;for(h=function(_){var M;return M=new Error(_),M.line=O,M.context=g,o.push(M)},O=1,w=[],E={},N=t;R=N.search(),!(b<=0||R<0);)b=N.slice(R+1).search(Ka)+1,b>0?g=N.slice(R,R+b):g=N.slice(R),O+=((S=N.slice(0,R).match(rn))!=null?S.length:void 0)||0,Ja.test(g)&&h("ERROR_BROKEN_TAGS"),N=N.slice(R+b),C=+((I=g.match(eu))!=null?parseFloat(I[1]/1e3):void 0),(C===null||C<0)&&h("ERROR_INVALID_TIME"),y=i(g),y||h("ERROR_INVALID_LANGUAGE"),O+=((L=g.match(rn))!=null?L.length:void 0)||0,g=g.replace(rn,""),g=g.replace(tu,`
`),x=ru(g).trim(),A={start:C,text:"",contents:x},y&&(A.text=x),E[y]||(E[y]=[]),A.start&&E[y].push(A);p=p||ja();let q=Object.keys(E);return q&&q.length>0&&(q.indexOf(p)>-1?F=E[p]:F=E[q.filter(function(_){return _!=="undefined"})[0]],F=Go(F),F=a(F),w=w.concat(F)),w=Go(w),w},i=function(g){var h,x;if(g){for(h in r)if(x=r[h],x.reClassName.test(g))return x.lang}},a=function(g){var h,x,A;for(h=g.length;h--;)x=g[h],(A=g[h-1])!=null&&(A.end=x.start),!x.contents||x.contents==="&nbsp;"?g.splice(h,1):(delete g[h].contents,x.end||(x.end=x.start+n));return g},o=[],r={KRCC:{lang:"ko",reClassName:new RegExp(`class[^=]*?=["'S]*(KRCC)['"S]?`,"i")},KOCC:{lang:"ko",reClassName:new RegExp(`class[^=]*?=["'S]*(KOCC)['"S]?`,"i")},KR:{lang:"ko",reClassName:new RegExp(`class[^=]*?=["'S]*(KR)['"S]?`,"i")},ENCC:{lang:"en",reClassName:new RegExp(`class[^=]*?=["'S]*(ENCC)['"S]?`,"i")},EGCC:{lang:"en",reClassName:new RegExp(`class[^=]*?=["'S]*(EGCC)['"S]?`,"i")},EN:{lang:"en",reClassName:new RegExp(`class[^=]*?=["'S]*(EN)['"S]?`,"i")},JPCC:{lang:"ja",reClassName:new RegExp(`class[^=]*?=["'S]*(JPCC)['"S]?`,"i")}},e?.definedLangs){c=e.definedLangs;for(s in c)f=c[s],r[s]=f}return n=e?.duration||10,p=e.fixedLang,t=t.trim(),l=u(),{result:l,errors:o}},ou=function(){const t={},e=function(r){return r.map(n=>new Uo(n.start,n.end,n.text))};return t.load=(r,n,o,i)=>{fetch(r.file).then(function(s){s.ok?s.text().then(function(a){let u=[],l=[];if(a.indexOf("WEBVTT")>=0){OvenPlayerConsole.log("WEBVTT LOADED");let f=new ot.Parser(window,ot.StringDecoder());l=[],f.oncue=function(c){l.push(c)},f.onflush=function(){o(l)},f.parse(a),f.flush()}else if(a.indexOf("SAMI")>=0){OvenPlayerConsole.log("SAMI LOADED");let f=nu(a,{fixedLang:n});l=e(f.result),o(l)}else OvenPlayerConsole.log("SRT LOADED"),u=Pa(a),l=e(u),o(l)}).catch(function(a){i(a)}):i(s.status)}).catch(function(s){i(s)})},t},Ce="idle",he="complete",Ye="paused",pe="playing",vt="error",We="loading",ir="stalled",iu="adLoading",nn="adLoaded",we="adPlaying",Ze="adPaused",Et="adComplete",sr="adError",su="adclick",_t="html5",ar="webrtc",Ut="dash",Ct="hls",au="rtmp",uu=he,st="ready",Yo="destroy",lu="seek",cu="bufferFull",ur="playlistChanged",fu="seeked",on="allPlaylistEnded",Zo="unstableNetwork",du="hlsPrepared",Au="hlsDestroyed",gu="dashPrepared",pu="dashDestroyed",mu="peerConnectionPrepared",hu="peerConnectionDestroyed",ke="error",at="stateChanged",xu=he,$o="pause",lr="play",jo="clicked",Vt="resized",vu="fullscreenRequested",Ko="fullscreenChanged",sn="warning",an="zoomChanged",yt="adChanged",cr="adTime",un="bufferChanged",Le="time",Dt="volumeChanged",qt="mute",bt="metaChanged",Eu="metaData",Cu="sei",fr="sourceChanged",ze="qualityLevelChanged",yu="durationChanged",Du="playbackRateChanged",ln="cueChanged",cn="captionChanged",fn="timeDisplayModeChanged",dr="p2pMode",Wt="audioTrackChanged",bu="vast",Jo=100,ei=101,ti=103,Fu=105,wu=106,Ar=107,Tu=300,Bu=301,dn=302,Su=303,ku=304,ri=305,Ru=306,Pu=307,Nu=308,ni=501,oi=502,ii=503,Ou=504,Lu=505,Iu=506,Mu=510,si=511,_u=512,Uu="Please touch here to turn on the sound.",ai={volume_mute:"volume-mute",op_warning:"op-warning"},te={codes:""},gr=[{lang:"en",ui:{context:"About OvenPlayer",controls:{live:"Live Streaming",low_latency_live:"Sub-Second Latency Streaming",low_latency_p2p:"Sub-Second Latency P2P"},playlist:"Playlist",quality:{auto:"Auto"},setting:{title:"Settings",speed:"Speed",speedUnit:"x",source:"Source",quality:"Quality",audioTrack:"Audio",caption:"Caption",display:"Display",zoom:"Zoom"}},api:{message:{muted_play:"Please touch here to turn on the sound."},error:{100:{code:100,message:"Can not load due to unknown reasons.",reason:"Can not load due to unknown reasons."},101:{code:101,message:"Can not load due to playable media not found.",reason:"Can not load due to playable media not found."},102:{code:102,message:"Flash fetching process aborted. </br><a href='http://www.adobe.com/go/getflashplayer' target='_self'><img src='http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif' alt='Get Adobe Flash player'></a>",reason:"It looks like not found swf or your environment is localhost."},103:{code:103,message:"Can not load due to dash.js. Please use the latest dash.js.",reason:"dash.js version is old."},104:{code:104,message:"Can not load due to google ima for Ads. ",reason:"Please check the google ima library."},105:{code:105,message:"Error initializing DASH.",reason:"Error initializing DASH."},106:{code:106,message:"Error initializing HLS.",reason:"Error initializing HLS."},107:{code:107,message:"Error initializing DRM.",reason:"Error initializing DRM."},300:{code:300,message:"Can not play due to unknown reasons.",reason:"Can not play due to unknown reasons."},301:{code:301,message:"Fetching process aborted by user.",reason:"Fetching process aborted by user."},302:{code:302,message:"Some of the media could not be downloaded due to a network error.",reason:"Error occurred when downloading."},303:{code:303,message:"Unable to load media. This may be due to a server or network error, or due to an unsupported format.",reason:"Error occurred when decoding."},304:{code:304,message:"Media playback has been canceled. It looks like your media is corrupted or your browser does not support the features your media uses.",reason:"Media playback not supported."},305:{code:305,message:"Can not load captions due to unknown reasons.",reason:"Can not load captions due to unknown reasons."},306:{code:306,message:"Unable to load media. This may be due to a server or network error, or due to an unsupported format.",reason:"The server cannot or will not process the request."},307:{code:307,message:"Unable to load media. This may be due to a server or network error, or due to an unsupported format.",reason:"The server refused the request."},308:{code:308,message:"Unable to load media. This may be due to a server or network error, or due to an unsupported format.",reason:"The server do not accept the request."},501:{code:501,message:"Connection with low-latency(OME) server failed.",reason:"WebSocket connection failed."},502:{code:502,message:"Connection with low-latency(OME) server failed.",reason:"WebRTC addIceCandidate failed."},503:{code:503,message:"Connection with low-latency(OME) server failed.",reason:"WebRTC setRemoteDescription failed."},504:{code:504,message:"Connection with low-latency(OME) server failed.",reason:"WebRTC peer createOffer failed."},505:{code:505,message:"Connection with low-latency(OME) server failed.",reason:"WebRTC setLocalDescription failed."},506:{code:506,message:"Connection with low-latency(OME) server failed.",reason:"WebRTC internal error."},510:{code:510,message:"Network connection is unstable. Check the network connection.",reason:"Network is slow."},511:{code:511,message:"Connection with low-latency(OME) terminated unexpectedly.",reason:"Unexpected end of connection."},512:{code:512,message:"Connection with low-latency(OME) server failed.",reason:"Connection timeout."}}}},{lang:"ko",ui:{context:"오븐플레이어에 관하여",controls:{live:"라이브",low_latency_live:"초저지연 라이브",low_latency_p2p:"초저지연 P2P"},playlist:"플레이리스트",quality:{auto:"자동"},setting:{title:"설정",speed:"재생 속도",speedUnit:"x",source:"소스",quality:"품질",audioTrack:"오디오",caption:"자막",display:"표시",zoom:"Zoom"}},api:{message:{muted_play:"눌러서 소리 켜기"},error:{100:{code:100,message:"알 수 없는 이유로 로드 할 수 없습니다.",reason:"알 수 없는 이유로 로드 할 수 없습니다."},101:{code:101,message:"지원되는 미디어를 찾지 못해 로드 할 수 없습니다.",reason:"Can not load due to playable media not found."},102:{code:102,message:"플레시 로드가 중단 되었습니다. </br><a href='http://www.adobe.com/go/getflashplayer' target='_self'><img src='http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif' alt='Get Adobe Flash player'></a>",reason:"It looks like not found swf or your environment is localhost."},103:{code:103,message:"DashJS로 인해 로드 할 수 없습니다. 최신 dash.js를 사용해 주세요.",reason:"dash.js version is old."},104:{code:104,message:"Google IMA 라이브러리가 없어 로드 할 수 없습니다.",reason:"Please check the google ima library."},105:{code:105,message:"DASH 초기화 중 오류가 발생했습니다.",reason:"Error initializing DASH."},106:{code:106,message:"HLS 초기화 중 오류가 발생했습니다.",reason:"Error initializing HLS."},107:{code:107,message:"DRM 초기화 중 오류가 발생했습니다.",reason:"Error initializing DRM."},300:{code:300,message:"알 수 없는 이유로 재생할 수 없습니다.",reason:"Can not play due to unknown reasons."},301:{code:301,message:"사용자에 의한 프로세스 중단.",reason:"Fetching process aborted by user."},302:{code:302,message:"네트워크 오류로 인해 일부 미디어를 다운로드 할 수 없습니다.",reason:"Error occurred when downloading."},303:{code:303,message:"미디어를 로드 할 수 없습니다. 서버 또는 네트워크 오류 또는 지원되지 않는 형식으로 인해 발생할 수 있습니다.",reason:"Error occurred when decoding."},304:{code:304,message:"미디어 재생이 취소되었습니다. 미디어가 손상되었거나 브라우저가 미디어에서 사용하는 기능을 지원하지 않는 것 같습니다.",reason:"Media playback not supported."},305:{code:305,message:"알 수 없는 이유로 자막을 로드 할 수 없습니다.",reason:"Can not load captions due to unknown reasons."},306:{code:306,message:"미디어를 로드 할 수 없습니다. 서버 또는 네트워크 오류 또는 지원되지 않는 형식으로 인해 발생할 수 있습니다.",reason:"The server cannot or will not process the request."},307:{code:307,message:"미디어를 로드 할 수 없습니다. 서버 또는 네트워크 오류 또는 지원되지 않는 형식으로 인해 발생할 수 있습니다.",reason:"The server refused the request."},308:{code:308,message:"미디어를 로드 할 수 없습니다. 서버 또는 네트워크 오류 또는 지원되지 않는 형식으로 인해 발생할 수 있습니다.",reason:"The server do not accept the request."},501:{code:501,message:"웹소켓 연결 실패",reason:"WebSocket connection failed."},502:{code:502,message:"저지연(OME) 서버와 연결에 실패했습니다.",reason:"WebRTC addIceCandidate failed."},503:{code:503,message:"저지연(OME) 서버와 연결에 실패했습니다.",reason:"WebRTC setRemoteDescription failed."},504:{code:504,message:"저지연(OME) 서버와 연결에 실패했습니다.",reason:"WebRTC peer createOffer failed."},505:{code:505,message:"저지연(OME) 서버와 연결에 실패했습니다.",reason:"WebRTC setLocalDescription failed."},506:{code:506,message:"저지연(OME) 서버와 연결에 실패했습니다.",reason:"WebRTC internal error."},510:{code:510,message:"네트워크 연결이 불안정합니다. 네트워크 연결을 확인하십시오.",reason:"Network is slow."},511:{code:511,message:"저지연(OME) 서버와 연결에 실패했습니다.",reason:"Unexpected end of connection."},512:{code:512,message:"저지연(OME) 서버와 연결에 실패했습니다.",reason:"Connection timeout."}}}},{lang:"pl",ui:{context:"O OvenPlayer",controls:{live:"Transmisja na żywo",low_latency_live:"Transmisja z niskim opóźnieniem",low_latency_p2p:"Transmisja z niskim opóźnieniem P2P"},playlist:"Playlista",quality:{auto:"Auto"},setting:{title:"Ustawienia",speed:"Prędkość",speedUnit:"x",source:"Źrodło",quality:"Jakość",audioTrack:"Audio",caption:"Podtytuł",display:"Wyświetlacz",zoom:"Zoom"}},api:{message:{muted_play:"Naciśnij tutaj, aby aktywować dźwięk"},error:{100:{code:100,message:"Nie można załadować z nieznanego powodu.",reason:"Can not load due to unknown reasons."},101:{code:101,message:"Nie można załadować, ponieważ nie znaleziono multimediów, który można odtworzyć.",reason:"Can not load due to playable media not found."},102:{code:102,message:"Flash fetching process aborted. </br><a href='http://www.adobe.com/go/getflashplayer' target='_self'><img src='http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif' alt='Get Adobe Flash player'></a>",reason:"It looks like not found swf or your environment is localhost."},103:{code:103,message:"Nie można załadować, ponieważ wersja dash.js jest za stara.",reason:"dash.js version is old."},104:{code:104,message:"Can not load due to google ima for Ads. ",reason:"Please check the google ima library."},105:{code:105,message:"Nie można załadować, nie znaleziono DASH.",reason:"Error initializing DASH."},106:{code:106,message:"Nie można załadować, nie znaleziono hlsjs.",reason:"Error initializing HLS"},107:{code:107,message:"Nie można załadować, nie znaleziono DRM.",reason:"Error initializing DRM"},300:{code:300,message:"Nie można odtworzyć z nieznanego powodu.",reason:"Can not play due to unknown reasons."},301:{code:301,message:"Proces pobierania przerwany przez użytkownika.",reason:"Fetching process aborted by user."},302:{code:302,message:"Nie udało się pobrać niektórych multimediów z powodu błędu sieci.",reason:"Error occurred when downloading."},303:{code:303,message:"Nie udało się załadować niektórych multimediów. Może być to spowodowane problemem z serwerem, siecią lub niewspieranym formatem.",reason:"Error occurred when decoding."},304:{code:304,message:"Odtwarzanie zostało anulowane. Wygląda na to, że plik jest uszkodzony lub Twoja przeglądarka nie obsługuje tego pliku.",reason:"Media playback not supported."},305:{code:305,message:"Nie można wczytać napisów z nieznanego powodu.",reason:"Can not load captions due to unknown reasons."},306:{code:306,message:"Nie udało się załadować niektórych multimediów. Może być to spowodowane problemem z serwerem, siecią lub niewspieranym formatem.",reason:"The server cannot or will not process the request."},307:{code:307,message:"Nie udało się załadować niektórych multimediów. Może być to spowodowane problemem z serwerem, siecią lub niewspieranym formatem.",reason:"The server refused the request."},308:{code:308,message:"Nie udało się załadować niektórych multimediów. Może być to spowodowane problemem z serwerem, siecią lub niewspieranym formatem.",reason:"The server do not accept the request."},501:{code:501,message:"Połączenie z serwerem niskiego opóźnienia (OME) nie powiodło się.",reason:"WebSocket connection failed."},502:{code:502,message:"Połączenie z serwerem niskiego opóźnienia (OME) nie powiodło się.",reason:"WebRTC addIceCandidate failed."},503:{code:503,message:"Połączenie z serwerem niskiego opóźnienia (OME) nie powiodło się.",reason:"WebRTC setRemoteDescription failed."},504:{code:504,message:"Połączenie z serwerem niskiego opóźnienia (OME) nie powiodło się.",reason:"WebRTC peer createOffer failed."},505:{code:505,message:"Połączenie z serwerem niskiego opóźnienia (OME) nie powiodło się.",reason:"WebRTC setLocalDescription failed."},506:{code:506,message:"Połączenie z serwerem niskiego opóźnienia (OME) nie powiodło się.",reason:"WebRTC internal error."},510:{code:510,message:"Połączenie sieciowe jest niestabilne. Sprawdź swoją sieć.",reason:"Network is slow."},511:{code:511,message:"Połączenie z serwerem niskiego opóźnienia (OME) nieoczekiwanie zakończone.",reason:"Unexpected end of connection."},512:{code:512,message:"Połączenie z serwerem niskiego opóźnienia (OME) nie powiodło się.",reason:"Connection timeout."}}}}],ui=function(t){return t==="subtitles"||t==="captions"},Vu=function(t,e){const r={};let n=[],o=-1,i=ou(),s=!0;OvenPlayerConsole.log("Caption Manager >> ",e);let a=function(l,f){return l.data=f||[],l.name=l.label||l.name||l.language,l.id=(function(c,p){var g,h=c.kind||"cc";return c.default||c.defaulttrack?g="default":g=c.id||h+p,s&&(u(n.length||0),s=!1),g})(l,n.length),n.push(l),l.id},u=function(l){o=l,t.trigger(cn,o)};if(t.getConfig().playlist&&t.getConfig().playlist.length>0){let l=t.getConfig().playlist[e];if(l&&l.tracks&&l.tracks.length>0)for(let f=0;f<l.tracks.length;f++){const c=l.tracks[f];ui(c.kind)&&!K.findWhere(c,{file:c.file})&&i.load(c,c.lang,function(p){p&&p.length>0&&a(c,p)},function(p){let g=te.codes[ri];g.error=p,t.trigger(ke,g)})}}return t.on(Le,function(l){let f=l.position;if(o>-1&&n[o]){let c=K.filter(n[o].data,function(p){return f>=p.startTime&&(!p.endTime||f)<=p.endTime});c&&c.length>0&&t.trigger(ln,c[0])}}),r.flushCaptionList=l=>{n=[],u(l)},r.getCaptionList=()=>n||[],r.getCurrentCaption=()=>o,r.setCurrentCaption=l=>{if(l>-2&&l<n.length)u(l);else return null},r.addCaption=l=>{ui(l.kind)&&!K.findWhere(i,{file:l.file})&&i.load(l,function(f){f&&f.length>0&&a(l,f)},function(f){let c=errors[ri];c.error=f,t.trigger(ke,c)})},r.removeCaption=l=>l>-1&&l<n.length?(n.splice(l,1),n):null,r.destroy=()=>{n=[],i=null,t.off(Le,null,r)},r};function An(t,e){for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(typeof e[r]=="object"&&e[r]!==null&&typeof t[r]=="object"&&t[r]!==null?An(t[r],e[r]):t[r]=e[r]);return t}const qu=function(t,e){const r=function(i){const s={mediaContainer:"",playbackRates:[2,1.5,1,.5,.25],playbackRate:1,mute:!1,volume:100,loop:!1,controls:!0,autoStart:!1,autoFallback:!0,timecode:!0,sourceIndex:-1,browser:"",hidePlaylistIcon:!1,rtmpBufferTime:1,rtmpBufferTimeMax:3,adClient:"googleima",currentProtocolOnly:!1,systemText:null,lang:"en",loadingRetryCount:0,expandFullScreenUI:!0,fullscreenOption:null,showBigPlayButton:!0,doubleTapToSeek:!1,showZoomSettings:!1,legacyUI:!1,parseStream:{enabled:!1}},a=function(g){if(g===void 0)return null;if(typeof g=="string"&&g.length<6){const h=g.toLowerCase();if(h==="true")return!0;if(h==="false")return!1;if(!isNaN(Number(g))&&!isNaN(parseFloat(g)))return Number(g)}return g};(function(g){Object.keys(g).forEach(h=>{h!=="id"&&(g[h]=a(g[h]))})})(i);let l=Object.assign({},s,i),f=[];l.systemText&&(f=K.isArray(l.systemText)?l.systemText:[l.systemText]);for(let g=0;g<f.length;g++)if(f[g].lang){let h=K.findWhere(gr,{lang:f[g].lang});if(h)An(h,f[g]);else{h=K.findWhere(gr,{lang:"en"}),h.lang=f[g].lang;const x=An({},h,f[g]);gr.push(x)}}l.systemText=K.findWhere(gr,{lang:l.lang});let c=l.playbackRates;c=c.filter(g=>K.isNumber(g)&&g>=.25&&g<=4).map(g=>Math.round(g*4)/4),c.indexOf(1)<0&&c.push(1),c.sort(),l.playbackRates=c,l.rtmpBufferTime=l.rtmpBufferTime>10?10:l.rtmpBufferTime,l.rtmpBufferTimeMax=l.rtmpBufferTimeMax>50?50:l.rtmpBufferTimeMax,l.playbackRates.indexOf(l.playbackRate)<0&&(l.playbackRate=1);const p=l.playlist;if(p)K.isArray(p.playlist)&&(l.feedData=p,l.playlist=p.playlist);else{const g=K.pick(l,["title","description","type","image","file","sources","tracks","host","application","stream","adTagUrl"]);l.playlist=[g]}return delete l.duration,l};OvenPlayerConsole.log("Configurator loaded.",t);let n=r(t);const o={};return o.getConfig=()=>n,o.getAdClient=()=>n.adClient,o.setConfig=(i,s)=>{n[i]=s},o.getContainer=()=>n.mediaContainer,o.getPlaybackRate=()=>n.playbackRate,o.setPlaybackRate=i=>(n.playbackRate=i,i),o.getZoomFactor=()=>n.zoomFactor,o.setZoomFactor=i=>(n.zoomFactor=i,i),o.getQualityLabel=()=>n.qualityLabel,o.setQualityLabel=i=>{n.qualityLabel=i},o.isCurrentProtocolOnly=()=>n.currentProtocolOnly,o.getSourceIndex=()=>n.sourceIndex,o.setSourceIndex=i=>{n.sourceIndex=i},o.setTimecodeMode=i=>{n.timecode!==i&&(n.timecode=i,e.trigger(fn,i))},o.isTimecodeMode=()=>n.timecode,o.getRtmpBufferTime=()=>n.rtmpBufferTime,o.getRtmpBufferTimeMax=()=>n.rtmpBufferTimeMax,o.setMute=i=>{n.mute=i},o.isMute=()=>n.mute,o.getVolume=()=>n.volume,o.setVolume=i=>{n.volume=i},o.isLoop=()=>n.loop,o.isAutoStart=()=>n.autoStart,o.isControls=()=>n.controls,o.getPlaybackRates=()=>n.playbackRates,o.getBrowser=()=>n.browser,o.getSystemText=()=>n.systemText,o.getLanguage=()=>n.lang,o.getPlaylist=()=>n.playlist,o.setPlaylist=i=>(K.isArray(i)?n.playlist=i:n.playlist=[i],n.playlist),o},li=function(t){let e=t,r=[];const n=function(o,i,s){let a=0,u=o.length;for(a=0;a<u;a++){let l=o[a];l.listener.apply(l.context||s,i)}};return e.on=function(o,i,s){return(r[o]||(r[o]=[])).push({listener:i,context:s}),e},e.trigger=function(o){if(!r)return!1;const i=[].slice.call(arguments,1),s=r[o],a=r.all;s&&n(s,i,e),a&&n(a,arguments,e)},e.off=function(o,i,s){if(!r)return!1;if(!o&&!i&&!s)return r=[],e;const a=o?[o]:Object.keys(r);for(let u=0,l=a.length;u<l;u++){o=a[u];const f=r[o];if(f){const c=r[o]=[];if(i||s)for(let p=0,g=f.length;p<g;p++){const h=f[p];(i&&i!==h.listener&&i!==h.listener.listener&&i!==h.listener._listener||s&&s!==h.context)&&c.push(h)}c.length||delete r[o]}}return e},e.once=function(o,i,s){let a=0;const u=function(){a++||(e.off(o,u),i.apply(e,arguments))};return u._listener=i,e.on(o,u,s)},e},Z=function(t){const e={};let r=null;const n=function(o,i){let s=o.querySelectorAll(i);return s.length>1?s:s[0]};return K.isElement(t)||K.every(t,function(o){return K.isElement(o)})?r=t:t==="document"?r=document:t==="window"?r=window:r=n(document,t),r?(e.show=()=>{r.style.display="block"},e.hide=()=>{r.style.display="none"},e.addClass=o=>{r.classList?r.classList.add(o):r.className.split(" ").indexOf(o)===-1&&(r.className+=" "+o)},e.after=o=>{r.insertAdjacentHTML("afterend",o)},e.append=o=>{r.appendChild(o)},e.before=o=>{r.insertAdjacentHTML("beforebegin",o)},e.children=()=>r.children||[],e.contains=o=>r!==o&&r.contains(o),e.empty=()=>{r.innerHTML=""},e.find=o=>Z(n(r,o)),e.css=(o,i)=>{if(i)r.length>0?r.forEach(function(s){s.style[o]=i}):r.style[o]=i;else return r.style[o]},e.removeClass=o=>{r.classList?r.classList.remove(o):r.className=r.className.replace(new RegExp("(^|\\b)"+o.split(" ").join("|")+"(\\b|$)","gi")," ")},e.removeAttribute=o=>{r.removeAttribute(o)},e.text=o=>{if(o===void 0)return r.textContent;r.textContent=o},e.html=o=>{r.innerHTML=o},e.hasClass=o=>r.classList?r.classList.contains(o):new RegExp("(^| )"+o+"( |$)","gi").test(r.name),e.is=o=>r===o,e.offset=()=>{const o=r.getBoundingClientRect();return{top:o.top+document.body.scrollTop,left:o.left+document.body.scrollLeft}},e.width=()=>r.clientWidth,e.height=()=>r.clientHeight,e.attr=o=>r.getAttribute(o),e.replace=o=>{r.replaceWith(o)},e.remove=()=>{r.length>1?r.parentElement.removeChild(r):r.remove()},e.removeChild=o=>{if(o)r.removeChild(o);else for(;r.hasChildNodes();)r.removeChild(r.firstChild)},e.get=()=>r,e.closest=o=>{r.closest=function(s){let a=r;do{if(a.matches(s))return a;a=a.parentElement||a.parentNode}while(a!==null&&a.nodeType===1);return null};let i=r.closest(o);return i?Z(i):null},e):null},Wu=function(t,e){const r={};let n=Z(t),o="";OvenPlayerConsole.log("MediaManager loaded. browser : ",e);const i=function(s,a){return o=document.createElement("video"),o.setAttribute("preload","auto"),o.setAttribute("disableremoteplayback",""),o.setAttribute("webkit-playsinline","true"),o.setAttribute("playsinline","true"),s&&o.setAttribute("loop",""),a&&o.setAttribute("autoplay",""),n.append(o),o};return r.createMedia=(s,a)=>(r.empty(),i(a.isLoop(),a.isAutoStart())),r.createAdContainer=()=>{let s=document.createElement("div");return s.setAttribute("class","op-ads"),n.append(s),s},r.empty=()=>{OvenPlayerConsole.log("MediaManager removeElement()"),n.removeChild(o),o=null},r.destroy=()=>{n.removeChild(),n=null,o!=null&&o!==""&&(o.srcObject=null),o=null},r},Ft=function(t,e){if(t)return t.indexOf("rtmp:")==0||e=="rtmp"},zt=function(t,e){return t?t.indexOf("ws:")===0||t.indexOf("wss:")===0||e==="webrtc":!1},pr=function(t,e){if(t)return e==="hls"||e==="m3u8"||e==="application/vnd.apple.mpegurl"||$r(t)=="m3u8"},ci=function(t,e){if(t)return e==="mpd"||e==="dash"||e==="application/dash+xml"||$r(t)=="mpd"},fi=function(t){if(!t)return null;let e=null;if(typeof t=="string")e=document.getElementById(t);else if(t.nodeType)e=t;else return null;return e},di=function(){const t={};OvenPlayerConsole.log("SupportChecker loaded.");let e=tn();const r=[{name:"html5",checkSupport:function(n){const o={aac:"audio/mp4",mp4:"video/mp4",f4v:"video/mp4",m4v:"video/mp4",mov:"video/mp4",mp3:"audio/mpeg",mpeg:"audio/mpeg",ogv:"video/ogg",ogg:"video/ogg",oga:"video/ogg",vorbis:"video/ogg",webm:"video/webm",f4a:"video/aac",m3u8:"application/vnd.apple.mpegurl",m3u:"application/vnd.apple.mpegurl",hls:"application/vnd.apple.mpegurl"},i=(function(){return document.createElement("video")})();if(!i.canPlayType)return!1;const s=n.file,a=n.type,u=n.overrideNative;if(!a)return!1;const l=n.mimeType||o[a];return pr(s,a)&&e.os!=="iOS"||pr(s,a)&&(e.browser==="Microsoft Edge"||e.os==="Android")||pr(s,a)&&u||Ft(s,a)||zt(s,a)||!l?!1:!!i.canPlayType(l)}},{name:"webrtc",checkSupport:function(n){if(!(function(){return document.createElement("video")})().canPlayType)return!1;const i=n.file,s=n.type;return Ft(i,s)?!1:!!zt(i,s)}},{name:"dash",checkSupport:function(n){const o=n.file,i=n.type;return Ft(o,i)?!1:!!(typeof(window.MediaSource||window.WebKitMediaSource)=="function"&&ci(o,i))}},{name:"hls",checkSupport:function(n){(function(){return document.createElement("video")})();const o=n.file,i=n.type;return Ft(o,i)?!1:(()=>{function a(){if(typeof window<"u")return window.MediaSource||window.WebKitMediaSource}var u=a(),l=window.SourceBuffer||window.WebKitSourceBuffer,f=u&&typeof u.isTypeSupported=="function"&&u.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),c=!l||l.prototype&&typeof l.prototype.appendBuffer=="function"&&typeof l.prototype.remove=="function";return!!f&&!!c})()}},{name:"rtmp",checkSupport:function(n){const o=n.file,i=n.type;function s(){var u=!1;if("ActiveXObject"in window)try{u=!!new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch{u=!1}else u=!!navigator.mimeTypes["application/x-shockwave-flash"];return u}function a(){return!(e.browser==="Microsoft Edge"||e.os==="Android"||e.os==="iOS"||e.browser==="Safari")}return!!(Ft(o,i)&&s()&&a())}}];return t.findProviderNameBySource=n=>{OvenPlayerConsole.log("SupportChecker : findProviderNameBySource()",n);const o=n===Object(n)?n:{};for(var i=0;i<r.length;i++)if(r[i].checkSupport(o))return r[i].name},t.findProviderNamesByPlaylist=n=>{OvenPlayerConsole.log("SupportChecker : findProviderNamesByPlaylist()",n);let o=[];const i=n;if(i&&i.sources){for(let s=0;s<i.sources.length;s++){let a=i.sources[s];if(a){const u=t.findProviderNameBySource(a);u&&o.push(u)}}return o}return null},t},zu=function(t){const e={};let r={playlist:[],currentIndex:0},n=di();OvenPlayerConsole.log("PlaylistManager loaded.");const o=function(i){if(!i||!i.file&&!(i.host||i.application||i.stream))return;let s=Object.assign({},{default:!1},i);s.file=Mo(""+s.file),s.host&&s.application&&s.stream&&(s.file=s.host+"/"+s.application+"/stream/"+s.stream,delete s.host,delete s.application,delete s.stream);const a=/^[^/]+\/(?:x-)?([^/]+)$/;if(a.test(s.type)&&(s.mimeType=s.type,s.type=s.type.replace(a,"$1")),Ft(s.file)?s.type="rtmp":zt(s.file)?s.type="webrtc":pr(s.file,s.type)?s.type="hls":ci(s.file,s.type)?s.type="dash":s.type||(s.type=$r(s.file)),s.lowLatency&&(s.lowLatency=s.lowLatency),!!s.type){switch(s.type){case"m3u8":case"vnd.apple.mpegurl":s.type="hls";break;case"m4a":s.type="aac";break;case"smil":s.type="rtmp";break}return Object.keys(s).forEach(function(u){s[u]===""&&delete s[u]}),s}};return e.initPlaylist=(i,s)=>{OvenPlayerConsole.log("PlaylistManager setPlaylist() ",i);const a=(K.isArray(i)?i:[i]).map(function(u){K.isArray(u.tracks)||delete u.tracks;let l=Object.assign({},{sources:[],tracks:[],title:""},u);l.sources===Object(l.sources)&&!K.isArray(l.sources)&&(l.sources=[o(l.sources)]),(!K.isArray(l.sources)||l.sources.length===0)&&(l.sources=[o(l)]),(!K.isArray(l.sources)||l.sources.length===0)&&(u.levels?l.sources=u.levels:l.sources=[o(u)]);for(let c=0;c<l.sources.length;c++){let p=l.sources[c],g="";if(!p)continue;let h=p.default;h?p.default=h.toString()==="true":p.default=!1,l.sources[c].label||(l.sources[c].label=l.sources[c].type+"-"+c.toString()),g=o(l.sources[c]),n.findProviderNameBySource(g)?l.sources[c]=g:l.sources[c]=null}l.sources=l.sources.filter(c=>!!c),!l.title&&l.sources[0]&&l.sources[0].label&&(l.title=l.sources[0].label);function f(c){if(c){let p=l.sources[0].type;return K.filter(c,{type:p})}}return s.isCurrentProtocolOnly()&&(l.sources=f(l.sources)),K.isArray(l.tracks)||(l.tracks=[]),K.isArray(l.captions)&&(l.tracks=l.tracks.concat(l.captions),delete l.captions),l.tracks=l.tracks.map(function(c){return!c||!c.file?!1:Object.assign({},{kind:"captions",default:!1},c)}).filter(c=>!!c),l}).filter(function(u){return u.sources&&u.sources.length>0})||[];return r.playlist=a,a},e.getPlaylist=()=>(OvenPlayerConsole.log("PlaylistManager getPlaylist() ",r.playlist),r.playlist),e.getCurrentPlayList=()=>r.playlist[r.currentIndex]?r.playlist[r.currentIndex]:[],e.getCurrentPlaylistIndex=()=>r.currentIndex,e.setCurrentPlaylist=i=>(r.playlist[i]&&(r.currentIndex=i,t.trigger(ur,r.currentIndex)),r.currentIndex),e.getCurrentSources=()=>r.playlist[r.currentIndex]?(OvenPlayerConsole.log("PlaylistManager getCurrentSources() ",r.playlist[r.currentIndex].sources),r.playlist[r.currentIndex].sources):null,e.getCurrentAdTag=()=>{if(r.playlist[r.currentIndex])return r.playlist[r.currentIndex].adTagUrl||""},e},Qu=function(t,e,r,n){let o={},i={},s=null;const a=google.ima.AdEvent.Type.AD_BUFFERING,u=google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,l=google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,f=google.ima.AdErrorEvent.Type.AD_ERROR,c=google.ima.AdEvent.Type.ALL_ADS_COMPLETED,p=google.ima.AdEvent.Type.CLICK,g=google.ima.AdEvent.Type.SKIPPED,h=google.ima.AdEvent.Type.COMPLETE,x=google.ima.AdEvent.Type.FIRST_QUARTILE,A=google.ima.AdEvent.Type.LOADED,y=google.ima.AdEvent.Type.MIDPOINT,F=google.ima.AdEvent.Type.PAUSED,O=google.ima.AdEvent.Type.RESUMED,b=google.ima.AdEvent.Type.STARTED,w=google.ima.AdEvent.Type.USER_CLOSE,R=google.ima.AdEvent.Type.THIRD_QUARTILE;let C=!1,N=null;return OvenPlayerConsole.log("IMA : Listener Created"),i[u]=E=>{OvenPlayerConsole.log("IMA LISTENER : ",E.type),r.started&&(r.active=!0,e.pause())},i[l]=E=>{OvenPlayerConsole.log("IMA LISTENER : ",E.type),r.active=!1,r.started&&(e.getPosition()===0||!r.isVideoEnded)&&e.play()},i[f]=E=>{C=!0,n(E)},i[c]=E=>{OvenPlayerConsole.log("IMA LISTENER : ",E.type),C=!0,r.isVideoEnded&&e.setState(he)},i[p]=E=>{OvenPlayerConsole.log(E.type),e.trigger(jo,{type:su})},i[x]=E=>{OvenPlayerConsole.log(E.type)},i[a]=E=>{OvenPlayerConsole.log("AD_BUFFERING",E.type)},i[A]=E=>{OvenPlayerConsole.log(E.type);let S=t.getRemainingTime(),I=E.getAd();e.trigger(nn,{remaining:S,isLinear:I.isLinear()})},i[y]=E=>{OvenPlayerConsole.log(E.type)},i[F]=E=>{OvenPlayerConsole.log(E.type),e.setState(Ze)},i[O]=E=>{OvenPlayerConsole.log(E.type),e.setState(we)},i[b]=E=>{OvenPlayerConsole.log(E.type);let S=E.getAd();N=S;let I={isLinear:S.isLinear(),duration:S.getDuration(),skipTimeOffset:S.getSkipTimeOffset()};e.trigger(yt,I),S.isLinear()?(e.setState(we),r.started=!0,s=setInterval(function(){let L=t.getRemainingTime(),q=S.getDuration();e.trigger(cr,{duration:q,skipTimeOffset:S.getSkipTimeOffset(),remaining:L,position:q-L,skippable:t.getAdSkippableState()})},300)):e.play()},i[h]=E=>{OvenPlayerConsole.log(E.type),E.getAd().isLinear()&&clearInterval(s),e.trigger(Et)},i[g]=E=>{OvenPlayerConsole.log(E.type),E.getAd().isLinear()&&clearInterval(s),e.trigger(Et)},i[w]=E=>{OvenPlayerConsole.log(E.type),E.getAd().isLinear()&&clearInterval(s),e.trigger(Et)},i[R]=E=>{OvenPlayerConsole.log(E.type)},Object.keys(i).forEach(E=>{t.removeEventListener(E,i[E]),t.addEventListener(E,i[E])}),o.setAdCompleteCallback=E=>{},o.isAllAdComplete=()=>C,o.isLinearAd=()=>N?N.isLinear():!0,o.destroy=()=>{OvenPlayerConsole.log("IMAEventListener : destroy()"),Object.keys(i).forEach(E=>{t.removeEventListener(E,i[E])})},o},Ai="data:video/mp4;base64, AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw",Hu=function(t,e,r,n,o){const i="autoplayNotAllowed",s="admanagerLoadingTimeout";let a="",u="",l={},f=!1,c=!1,p={started:!1,active:!1,isVideoEnded:!1},g=null,h=null,x=null,A=null,y=null,F=null,O=null,b=!1,w=!1,R=r.getBrowser(),C=R.os==="Android"||R.os==="iOS";const N=function(){e.trigger(sn,{message:Uu,timer:10*1e3,iconClass:ai.volume_mute,onClickCallback:function(){e.setMute(!1)}})};OvenPlayerConsole.log("IMA : started ","isMobile : ",C,n);try{a=google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,u=google.ima.AdErrorEvent.Type.AD_ERROR,google.ima.settings.setLocale(r.getLanguage()),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0);const E=()=>{let _=document.createElement("div");return _.setAttribute("class","op-ads"),_.setAttribute("id","op-ads"),r.getContainer().append(_),_};h=function(_){console.log(_.getError().getVastErrorCode(),_.getError().getMessage()),c=!0;let M=_.getError().getInnerError();if(M)try{console.log(M.getErrorCode(),M.getMessage())}catch{}e.trigger(sr,{code:_.getError().getVastErrorCode(),message:_.getError().getMessage()}),p.active=!1,p.started=!0,e.play()},g=function(_){OvenPlayerConsole.log("IMA : OnManagerLoaded ");let M=new google.ima.AdsRenderingSettings;M.restoreCustomPlaybackStateOnAdBreakComplete=!0,y&&(OvenPlayerConsole.log("IMA : destroy adsManager----"),F.destroy(),F=null,y.destroy(),y=null),y=_.getAdsManager(t,M),F=Qu(y,e,p,h),OvenPlayerConsole.log("IMA : created admanager and listner "),f=!0};let S=E();x=new google.ima.AdDisplayContainer(S,t),A=new google.ima.AdsLoader(x),A.addEventListener(a,g,!1),A.addEventListener(u,h,!1),OvenPlayerConsole.log("IMA : adDisplayContainer initialized"),e.on(Dt,function(_){y&&(_.mute?y.setVolume(0):y.setVolume(_.volume/100))},l);const I=function(){O&&(OvenPlayerConsole.log("IMA : setADWillAutoPlay ","autoplayAllowed",b,"autoplayRequiresMuted",w),O.setAdWillAutoPlay(b),O.setAdWillPlayMuted(w),w&&N())},L=function(){f=!1,OvenPlayerConsole.log("IMA : initRequest() AutoPlay Support : ","autoplayAllowed",b,"autoplayRequiresMuted",w),O=new google.ima.AdsRequest,O.forceNonLinearFullSlot=!1,I(),O.adTagUrl=n,A.requestAds(O),OvenPlayerConsole.log("IMA : requestAds Complete")},q=function(){OvenPlayerConsole.log("IMA : checkAutoplaySupport() ");let _=document.createElement("video");_.setAttribute("playsinline","true"),_.src=Ai,_.load(),C&&e.getName()!==Ut&&t.load();const M=function(G,H){b=G,w=H,_.pause(),_.remove(),I()};return new Promise(function(G,H){if(!_.play)OvenPlayerConsole.log("IMA : !temporarySupportCheckVideo.play"),M(!0,!1),G();else{let Y=_.play();Y!==void 0?Y.then(function(){OvenPlayerConsole.log("IMA : auto play allowed."),M(!0,!1),G()}).catch(function(P){OvenPlayerConsole.log("IMA : auto play failed",P.message),M(!1,!1),G()}):(OvenPlayerConsole.log("IMA : promise not support"),M(!0,!1),G())}})};return l.isActive=()=>p.active,l.started=()=>p.started,l.play=()=>p.started?new Promise(function(_,M){try{y.resume(),_()}catch(G){M(G)}}):(x.initialize(),new Promise(function(_,M){let G=0;const H=function(){G++,f?(OvenPlayerConsole.log("IMA : ad start!"),y.init("100%","100%",google.ima.ViewMode.NORMAL),y.start(),p.started=!0,_()):c?M(new Error(s)):G<150?setTimeout(H,100):M(new Error(s))};q().then(function(){r.isAutoStart()&&!b?(OvenPlayerConsole.log("IMA : autoplayAllowed : false"),p.started=!1,M(new Error(i))):(L(),H())})})),l.pause=()=>{y.pause()},l.videoEndedCallback=_=>{F&&(F.isAllAdComplete()||!F.isLinearAd())||c?_():(p.isVideoEnded=!0,A.contentComplete())},l.destroy=()=>{A&&(A.removeEventListener(a,g),A.removeEventListener(u,h)),y&&y.destroy(),x&&x.destroy(),F&&F.destroy();let _=Z(r.getContainer()).find(".op-ads");_&&_.remove(),e.off(Dt,null,l)},l}catch{return null}};function gn(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{id:t.id||null,adId:t.adId||null,sequence:t.sequence||null,apiFramework:t.apiFramework||null,universalAdIds:[],creativeExtensions:[]}}const Xu=["ADCATEGORIES","ADCOUNT","ADPLAYHEAD","ADSERVINGID","ADTYPE","APIFRAMEWORKS","APPBUNDLE","ASSETURI","BLOCKEDADCATEGORIES","BREAKMAXADLENGTH","BREAKMAXADS","BREAKMAXDURATION","BREAKMINADLENGTH","BREAKMINDURATION","BREAKPOSITION","CLICKPOS","CLICKTYPE","CLIENTUA","CONTENTID","CONTENTPLAYHEAD","CONTENTURI","DEVICEIP","DEVICEUA","DOMAIN","EXTENSIONS","GDPRCONSENT","IFA","IFATYPE","INVENTORYSTATE","LATLONG","LIMITADTRACKING","MEDIAMIME","MEDIAPLAYHEAD","OMIDPARTNER","PAGEURL","PLACEMENTTYPE","PLAYERCAPABILITIES","PLAYERSIZE","PLAYERSTATE","PODSEQUENCE","REGULATIONS","SERVERSIDE","SERVERUA","TRANSACTIONID","UNIVERSALADID","VASTVERSIONS","VERIFICATIONVENDORS"];function gi(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=[],o=hi(t);!e.ERRORCODE||r.isCustomCode||/^[0-9]{3}$/.test(e.ERRORCODE)||(e.ERRORCODE=900),e.CACHEBUSTING=yi(Math.round(1e8*Math.random())),e.TIMESTAMP=new Date().toISOString(),e.RANDOM=e.random=e.CACHEBUSTING;for(const i in e)e[i]=Ci(e[i]);for(const i in o){const s=o[i];typeof s=="string"&&n.push(pi(s,e))}return n}function pi(t,e){const r=(t=mi(t,e)).match(/[^[\]]+(?=])/g);if(!r)return t;let n=r.filter((o=>Xu.indexOf(o)>-1));return n.length===0?t:(n=n.reduce(((o,i)=>(o[i]=-1,o)),{}),mi(t,n))}function mi(t,e){let r=t;for(const n in e){const o=e[n];r=r.replace(new RegExp("(?:\\[|%%)(".concat(n,")(?:\\]|%%)"),"g"),o)}return r}function hi(t){return Array.isArray(t)?t.map((e=>e&&e.hasOwnProperty("url")?e.url:e)):t}function xi(t){return/^(https?:\/\/|\/\/)/.test(t)}function vi(t,e){for(let r=0;r<e.length;r++)if(Ei(e[r],t))return!0;return!1}function Ei(t,e){if(t&&e){const r=Object.getOwnPropertyNames(t),n=Object.getOwnPropertyNames(e);return r.length===n.length&&t.id===e.id&&t.url===e.url}return!1}function Ci(t){return encodeURIComponent(t).replace(/[!'()*]/g,(e=>"%".concat(e.charCodeAt(0).toString(16))))}function yi(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:8;return t.toString().padStart(e,"0")}const ae={track:function(t,e,r){gi(t,e,r).forEach((n=>{typeof window<"u"&&window!==null&&(new Image().src=n)}))},resolveURLTemplates:gi,extractURLsFromTemplates:hi,filterUrlTemplates:function(t){return t.reduce(((e,r)=>{const n=r.url||r;return xi(n)?e.validUrls.push(n):e.invalidUrls.push(n),e}),{validUrls:[],invalidUrls:[]})},containsTemplateObject:vi,isTemplateObjectEqual:Ei,encodeURIComponentRFC3986:Ci,replaceUrlMacros:pi,isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},flatten:function t(e){return e.reduce(((r,n)=>r.concat(Array.isArray(n)?t(n):n)),[])},joinArrayOfUniqueTemplateObjs:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const r=Array.isArray(t)?t:[],n=Array.isArray(e)?e:[];return r.concat(n).reduce(((o,i)=>(vi(i,o)||o.push(i),o)),[])},isValidTimeValue:function(t){return Number.isFinite(t)&&t>=-2},addLeadingZeros:yi,isValidUrl:xi,isBrowserEnvironment:function(){return typeof window<"u"},formatMacrosValues:function(t){return typeof t!="object"?t:JSON.stringify(t)}};function Di(t){return["true","TRUE","True","1"].includes(t)}function Gu(t){if(t==null)return-1;if(ae.isNumeric(t))return parseInt(t);const e=t.split(":");if(e.length!==3)return-1;const r=e[2].split(".");let n=parseInt(r[0]);r.length===2&&(n+=parseFloat("0.".concat(r[1])));const o=parseInt(60*e[1]),i=parseInt(60*e[0]*60);return isNaN(i)||isNaN(o)||isNaN(n)||o>3600||n>60?-1:i+o+n}const k={childByName:function(t,e){return Array.from(t.childNodes).find((r=>r.nodeName===e))},childrenByName:function(t,e){return Array.from(t.childNodes).filter((r=>r.nodeName===e))},resolveVastAdTagURI:function(t,e){if(!e)return t;if(t.startsWith("//")){const{protocol:r}=location;return"".concat(r).concat(t)}if(!t.includes("://")){const r=e.slice(0,e.lastIndexOf("/"));return"".concat(r,"/").concat(t)}return t},parseBoolean:Di,parseNodeText:function(t){return t&&(t.textContent||t.text||"").trim()},copyNodeAttribute:function(t,e,r){const n=e.getAttribute(t);n&&r.setAttribute(t,n)},parseAttributes:function(t){return Array.from(t.attributes).reduce(((e,r)=>(e[r.nodeName]=r.nodeValue,e)),{})},parseDuration:Gu,getStandAloneAds:function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).filter((t=>!parseInt(t.sequence,10)))},getSortedAdPods:function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).filter((t=>parseInt(t.sequence,10))).sort(((t,e)=>t.sequence-e.sequence))},assignAttributes:function(t,e){t&&Array.from(t).forEach((r=>{let{nodeName:n,nodeValue:o}=r;if(n&&o&&e.hasOwnProperty(n)){let i=o;typeof e[n]=="boolean"&&(i=Di(i)),e[n]=i}}))},mergeWrapperAdData:function(t,e){var r;t.errorURLTemplates=e.errorURLTemplates.concat(t.errorURLTemplates),t.impressionURLTemplates=e.impressionURLTemplates.concat(t.impressionURLTemplates),t.extensions=e.extensions.concat(t.extensions),e.viewableImpression.length>0&&(t.viewableImpression=[...t.viewableImpression,...e.viewableImpression]),t.followAdditionalWrappers=e.followAdditionalWrappers,t.allowMultipleAds=e.allowMultipleAds,t.fallbackOnNoAd=e.fallbackOnNoAd;const n=(e.creatives||[]).filter((a=>a&&a.type==="companion")),o=n.reduce(((a,u)=>((u.variations||[]).forEach((l=>{(l.companionClickTrackingURLTemplates||[]).forEach((f=>{ae.containsTemplateObject(f,a)||a.push(f)}))})),a)),[]);t.creatives=n.concat(t.creatives);const i=e.videoClickTrackingURLTemplates&&e.videoClickTrackingURLTemplates.length,s=e.videoCustomClickURLTemplates&&e.videoCustomClickURLTemplates.length;if(t.creatives.forEach((a=>{if(e.trackingEvents&&e.trackingEvents[a.type])for(const u in e.trackingEvents[a.type]){const l=e.trackingEvents[a.type][u];Array.isArray(a.trackingEvents[u])||(a.trackingEvents[u]=[]),a.trackingEvents[u]=a.trackingEvents[u].concat(l)}a.type==="linear"&&(i&&(a.videoClickTrackingURLTemplates=a.videoClickTrackingURLTemplates.concat(e.videoClickTrackingURLTemplates)),s&&(a.videoCustomClickURLTemplates=a.videoCustomClickURLTemplates.concat(e.videoCustomClickURLTemplates)),!e.videoClickThroughURLTemplate||a.videoClickThroughURLTemplate!==null&&a.videoClickThroughURLTemplate!==void 0||(a.videoClickThroughURLTemplate=e.videoClickThroughURLTemplate)),a.type==="companion"&&o.length&&(a.variations||[]).forEach((u=>{u.companionClickTrackingURLTemplates=ae.joinArrayOfUniqueTemplateObjs(u.companionClickTrackingURLTemplates,o)}))})),e.adVerifications&&(t.adVerifications=t.adVerifications.concat(e.adVerifications)),e.blockedAdCategories&&(t.blockedAdCategories=t.blockedAdCategories.concat(e.blockedAdCategories)),(r=e.creatives)!==null&&r!==void 0&&r.length){const a=e.creatives.filter((u=>{var l;return((l=u.icons)===null||l===void 0?void 0:l.length)&&!u.mediaFiles.length}));a.length&&(t.creatives=t.creatives.concat(a))}}};function Yu(t,e){const r=(function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{id:o,adId:i,sequence:s,apiFramework:a}=gn(n);return{id:o,adId:i,sequence:s,apiFramework:a,type:"companion",required:null,variations:[]}})(e);return r.required=t.getAttribute("required")||null,r.variations=k.childrenByName(t,"Companion").map((n=>{const o=(function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{id:a.id||null,adType:"companionAd",width:a.width||0,height:a.height||0,assetWidth:a.assetWidth||null,assetHeight:a.assetHeight||null,expandedWidth:a.expandedWidth||null,expandedHeight:a.expandedHeight||null,apiFramework:a.apiFramework||null,adSlotId:a.adSlotId||null,pxratio:a.pxratio||"1",renderingMode:a.renderingMode||"default",staticResources:[],htmlResources:[],iframeResources:[],adParameters:null,altText:null,companionClickThroughURLTemplate:null,companionClickTrackingURLTemplates:[],trackingEvents:{}}})(k.parseAttributes(n));o.htmlResources=k.childrenByName(n,"HTMLResource").reduce(((a,u)=>{const l=k.parseNodeText(u);return l?a.concat(l):a}),[]),o.iframeResources=k.childrenByName(n,"IFrameResource").reduce(((a,u)=>{const l=k.parseNodeText(u);return l?a.concat(l):a}),[]),o.staticResources=k.childrenByName(n,"StaticResource").reduce(((a,u)=>{const l=k.parseNodeText(u);return l?a.concat({url:l,creativeType:u.getAttribute("creativeType")||null}):a}),[]),o.altText=k.parseNodeText(k.childByName(n,"AltText"))||null;const i=k.childByName(n,"TrackingEvents");i&&k.childrenByName(i,"Tracking").forEach((a=>{const u=a.getAttribute("event"),l=k.parseNodeText(a);u&&l&&(Array.isArray(o.trackingEvents[u])||(o.trackingEvents[u]=[]),o.trackingEvents[u].push(l))})),o.companionClickTrackingURLTemplates=k.childrenByName(n,"CompanionClickTracking").map((a=>({id:a.getAttribute("id")||null,url:k.parseNodeText(a)}))),o.companionClickThroughURLTemplate=k.parseNodeText(k.childByName(n,"CompanionClickThrough"))||null;const s=k.childByName(n,"AdParameters");return s&&(o.adParameters={value:k.parseNodeText(s),xmlEncoded:s.getAttribute("xmlEncoded")||null}),o})),r}function Zu(t,e){let r;const n=(function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{id:l,adId:f,sequence:c,apiFramework:p}=gn(u);return{id:l,adId:f,sequence:c,apiFramework:p,type:"linear",duration:0,skipDelay:null,mediaFiles:[],mezzanine:null,interactiveCreativeFile:null,closedCaptionFiles:[],videoClickThroughURLTemplate:null,videoClickTrackingURLTemplates:[],videoCustomClickURLTemplates:[],adParameters:null,icons:[],trackingEvents:{}}})(e);n.duration=k.parseDuration(k.parseNodeText(k.childByName(t,"Duration")));const o=t.getAttribute("skipoffset");if(o==null)n.skipDelay=null;else if(o.charAt(o.length-1)==="%"&&n.duration!==-1){const u=parseInt(o,10);n.skipDelay=n.duration*(u/100)}else n.skipDelay=k.parseDuration(o);const i=k.childByName(t,"VideoClicks");if(i){const u=k.childByName(i,"ClickThrough");n.videoClickThroughURLTemplate=u?{id:u.getAttribute("id")||null,url:k.parseNodeText(u)}:null,k.childrenByName(i,"ClickTracking").forEach((l=>{n.videoClickTrackingURLTemplates.push({id:l.getAttribute("id")||null,url:k.parseNodeText(l)})})),k.childrenByName(i,"CustomClick").forEach((l=>{n.videoCustomClickURLTemplates.push({id:l.getAttribute("id")||null,url:k.parseNodeText(l)})}))}const s=k.childByName(t,"AdParameters");s&&(n.adParameters={value:k.parseNodeText(s),xmlEncoded:s.getAttribute("xmlEncoded")||null}),k.childrenByName(t,"TrackingEvents").forEach((u=>{k.childrenByName(u,"Tracking").forEach((l=>{let f=l.getAttribute("event");const c=k.parseNodeText(l);if(f&&c){if(f==="progress"){if(r=l.getAttribute("offset"),!r)return;f=r.charAt(r.length-1)==="%"?"progress-".concat(r):"progress-".concat(k.parseDuration(r))}Array.isArray(n.trackingEvents[f])||(n.trackingEvents[f]=[]),n.trackingEvents[f].push(c)}}))})),k.childrenByName(t,"MediaFiles").forEach((u=>{k.childrenByName(u,"MediaFile").forEach((g=>{n.mediaFiles.push((function(h){const x={id:null,fileURL:null,fileSize:0,deliveryType:"progressive",mimeType:null,mediaType:null,codec:null,bitrate:0,minBitrate:0,maxBitrate:0,width:0,height:0,apiFramework:null,scalable:null,maintainAspectRatio:null};x.id=h.getAttribute("id"),x.fileURL=k.parseNodeText(h),x.deliveryType=h.getAttribute("delivery"),x.codec=h.getAttribute("codec"),x.mimeType=h.getAttribute("type"),x.mediaType=h.getAttribute("mediaType")||"2D",x.apiFramework=h.getAttribute("apiFramework"),x.fileSize=parseInt(h.getAttribute("fileSize")||0),x.bitrate=parseInt(h.getAttribute("bitrate")||0),x.minBitrate=parseInt(h.getAttribute("minBitrate")||0),x.maxBitrate=parseInt(h.getAttribute("maxBitrate")||0),x.width=parseInt(h.getAttribute("width")||0),x.height=parseInt(h.getAttribute("height")||0);const A=h.getAttribute("scalable");A&&typeof A=="string"&&(x.scalable=k.parseBoolean(A));const y=h.getAttribute("maintainAspectRatio");return y&&typeof y=="string"&&(x.maintainAspectRatio=k.parseBoolean(y)),x})(g))}));const l=k.childByName(u,"InteractiveCreativeFile");l&&(n.interactiveCreativeFile=(function(g){const h=(function(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{type:x.type||null,apiFramework:x.apiFramework||null,variableDuration:k.parseBoolean(x.variableDuration),fileURL:null}})(k.parseAttributes(g));return h.fileURL=k.parseNodeText(g),h})(l));const f=k.childByName(u,"ClosedCaptionFiles");f&&k.childrenByName(f,"ClosedCaptionFile").forEach((g=>{const h=(function(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{type:x.type||null,language:x.language||null,fileURL:null}})(k.parseAttributes(g));h.fileURL=k.parseNodeText(g),n.closedCaptionFiles.push(h)}));const c=k.childByName(u,"Mezzanine"),p=(function(g,h){const x={};let A=!1;return h.forEach((y=>{g&&g.getAttribute(y)?x[y]=g.getAttribute(y):A=!0})),A?null:x})(c,["delivery","type","width","height"]);if(p){const g={id:null,fileURL:null,delivery:null,codec:null,type:null,width:0,height:0,fileSize:0,mediaType:"2D"};g.id=c.getAttribute("id"),g.fileURL=k.parseNodeText(c),g.delivery=p.delivery,g.codec=c.getAttribute("codec"),g.type=p.type,g.width=parseInt(p.width,10),g.height=parseInt(p.height,10),g.fileSize=parseInt(c.getAttribute("fileSize"),10),g.mediaType=c.getAttribute("mediaType")||"2D",n.mezzanine=g}}));const a=k.childByName(t,"Icons");return a&&k.childrenByName(a,"Icon").forEach((u=>{n.icons.push((function(l){const f={program:null,height:0,width:0,xPosition:0,yPosition:0,apiFramework:null,offset:null,duration:0,type:null,staticResource:null,htmlResource:null,iframeResource:null,pxratio:"1",iconClickThroughURLTemplate:null,iconClickTrackingURLTemplates:[],iconViewTrackingURLTemplate:null,iconClickFallbackImages:[],altText:null,hoverText:null};f.program=l.getAttribute("program"),f.height=parseInt(l.getAttribute("height")||0),f.width=parseInt(l.getAttribute("width")||0),f.xPosition=(function(p){return["left","right"].indexOf(p)!==-1?p:parseInt(p||0)})(l.getAttribute("xPosition")),f.yPosition=(function(p){return["top","bottom"].indexOf(p)!==-1?p:parseInt(p||0)})(l.getAttribute("yPosition")),f.apiFramework=l.getAttribute("apiFramework"),f.pxratio=l.getAttribute("pxratio")||"1",f.offset=k.parseDuration(l.getAttribute("offset")),f.duration=k.parseDuration(l.getAttribute("duration")),f.altText=l.getAttribute("altText"),f.hoverText=l.getAttribute("hoverText"),k.childrenByName(l,"HTMLResource").forEach((p=>{f.type=p.getAttribute("creativeType")||"text/html",f.htmlResource=k.parseNodeText(p)})),k.childrenByName(l,"IFrameResource").forEach((p=>{f.type=p.getAttribute("creativeType")||0,f.iframeResource=k.parseNodeText(p)})),k.childrenByName(l,"StaticResource").forEach((p=>{f.type=p.getAttribute("creativeType")||0,f.staticResource=k.parseNodeText(p)}));const c=k.childByName(l,"IconClicks");if(c){f.iconClickThroughURLTemplate=k.parseNodeText(k.childByName(c,"IconClickThrough")),k.childrenByName(c,"IconClickTracking").forEach((g=>{f.iconClickTrackingURLTemplates.push({id:g.getAttribute("id")||null,url:k.parseNodeText(g)})}));const p=k.childByName(c,"IconClickFallbackImages");p&&k.childrenByName(p,"IconClickFallbackImage").forEach((g=>{f.iconClickFallbackImages.push({url:k.parseNodeText(g)||null,width:g.getAttribute("width")||null,height:g.getAttribute("height")||null})}))}return f.iconViewTrackingURLTemplate=k.parseNodeText(k.childByName(l,"IconViewTracking")),f})(u))})),n}function $u(t,e){const r=(function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{id:o,adId:i,sequence:s,apiFramework:a}=gn(n);return{id:o,adId:i,sequence:s,apiFramework:a,type:"nonlinear",variations:[],trackingEvents:{}}})(e);return k.childrenByName(t,"TrackingEvents").forEach((n=>{let o,i;k.childrenByName(n,"Tracking").forEach((s=>{o=s.getAttribute("event"),i=k.parseNodeText(s),o&&i&&(Array.isArray(r.trackingEvents[o])||(r.trackingEvents[o]=[]),r.trackingEvents[o].push(i))}))})),k.childrenByName(t,"NonLinear").forEach((n=>{const o={id:null,width:0,height:0,expandedWidth:0,expandedHeight:0,scalable:!0,maintainAspectRatio:!0,minSuggestedDuration:0,apiFramework:"static",adType:"nonLinearAd",type:null,staticResource:null,htmlResource:null,iframeResource:null,nonlinearClickThroughURLTemplate:null,nonlinearClickTrackingURLTemplates:[],adParameters:null};o.id=n.getAttribute("id")||null,o.width=n.getAttribute("width"),o.height=n.getAttribute("height"),o.expandedWidth=n.getAttribute("expandedWidth"),o.expandedHeight=n.getAttribute("expandedHeight"),o.scalable=k.parseBoolean(n.getAttribute("scalable")),o.maintainAspectRatio=k.parseBoolean(n.getAttribute("maintainAspectRatio")),o.minSuggestedDuration=k.parseDuration(n.getAttribute("minSuggestedDuration")),o.apiFramework=n.getAttribute("apiFramework"),k.childrenByName(n,"HTMLResource").forEach((s=>{o.type=s.getAttribute("creativeType")||"text/html",o.htmlResource=k.parseNodeText(s)})),k.childrenByName(n,"IFrameResource").forEach((s=>{o.type=s.getAttribute("creativeType")||0,o.iframeResource=k.parseNodeText(s)})),k.childrenByName(n,"StaticResource").forEach((s=>{o.type=s.getAttribute("creativeType")||0,o.staticResource=k.parseNodeText(s)}));const i=k.childByName(n,"AdParameters");i&&(o.adParameters={value:k.parseNodeText(i),xmlEncoded:i.getAttribute("xmlEncoded")||null}),o.nonlinearClickThroughURLTemplate=k.parseNodeText(k.childByName(n,"NonLinearClickThrough")),k.childrenByName(n,"NonLinearClickTracking").forEach((s=>{o.nonlinearClickTrackingURLTemplates.push({id:s.getAttribute("id")||null,url:k.parseNodeText(s)})})),r.variations.push(o)})),r}function bi(t){const e=[];return t.forEach((r=>{const n=Fi(r);n&&e.push(n)})),e}function Fi(t){if(t.nodeName==="#comment")return null;const e={name:null,value:null,attributes:{},children:[]},r=t.attributes,n=t.childNodes;if(e.name=t.nodeName,t.attributes){for(const i in r)if(r.hasOwnProperty(i)){const s=r[i];s.nodeName&&s.nodeValue&&(e.attributes[s.nodeName]=s.nodeValue)}}for(const i in n)if(n.hasOwnProperty(i)){const s=Fi(n[i]);s&&e.children.push(s)}if(e.children.length===0||e.children.length===1&&["#cdata-section","#text"].indexOf(e.children[0].name)>=0){const i=k.parseNodeText(t);i!==""&&(e.value=i),e.children=[]}return(o=e).value===null&&Object.keys(o.attributes).length===0&&o.children.length===0?null:e;var o}function ju(t){return t.getAttribute("AdID")||t.getAttribute("adID")||t.getAttribute("adId")||null}const mr={Wrapper:{subElements:["VASTAdTagURI","Impression"]},BlockedAdCategories:{attributes:["authority"]},InLine:{subElements:["AdSystem","AdTitle","Impression","AdServingId","Creatives"]},Category:{attributes:["authority"]},Pricing:{attributes:["model","currency"]},Verification:{oneOfinLineResources:["JavaScriptResource","ExecutableResource"],attributes:["vendor"]},UniversalAdId:{attributes:["idRegistry"]},JavaScriptResource:{attributes:["apiFramework","browserOptional"]},ExecutableResource:{attributes:["apiFramework","type"]},Tracking:{attributes:["event"]},Creatives:{subElements:["Creative"]},Creative:{subElements:["UniversalAdId"]},Linear:{subElements:["MediaFiles","Duration"]},MediaFiles:{subElements:["MediaFile"]},MediaFile:{attributes:["delivery","type","width","height"]},Mezzanine:{attributes:["delivery","type","width","height"]},NonLinear:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"],attributes:["width","height"]},Companion:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"],attributes:["width","height"]},StaticResource:{attributes:["creativeType"]},Icons:{subElements:["Icon"]},Icon:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"]}};function wi(t,e){if(!mr[t.nodeName]||!mr[t.nodeName].attributes)return;const r=mr[t.nodeName].attributes.filter((n=>!t.getAttribute(n)));r.length>0&&Qt({name:t.nodeName,parentName:t.parentNode.nodeName,attributes:r},e)}function Ti(t,e,r){const n=mr[t.nodeName],o=!r&&t.nodeName!=="Wrapper";if(!(!n||o)){if(n.subElements){const i=n.subElements.filter((s=>!k.childByName(t,s)));i.length>0&&Qt({name:t.nodeName,parentName:t.parentNode.nodeName,subElements:i},e)}!r||!n.oneOfinLineResources||n.oneOfinLineResources.some((i=>k.childByName(t,i)))||Qt({name:t.nodeName,parentName:t.parentNode.nodeName,oneOfResources:n.oneOfinLineResources},e)}}function Bi(t){return t.children&&t.children.length!==0}function Qt(t,e){let{name:r,parentName:n,attributes:o,subElements:i,oneOfResources:s}=t,a="Element '".concat(r,"'");a+=o?" missing required attribute(s) '".concat(o.join(", "),"' "):i?" missing required sub element(s) '".concat(i.join(", "),"' "):s?" must provide one of the following '".concat(s.join(", "),"' "):" is empty",e("VAST-warning",{message:a,parentElement:n,specVersion:4.1})}const Ku={verifyRequiredValues:function t(e,r,n){if(e&&e.nodeName)if(e.nodeName==="InLine"&&(n=!0),wi(e,r),Bi(e)){Ti(e,r,n);for(let o=0;o<e.children.length;o++)t(e.children[o],r,n)}else k.parseNodeText(e).length===0&&Qt({name:e.nodeName,parentName:e.parentNode.nodeName},r)},hasSubElements:Bi,emitMissingValueWarning:Qt,verifyRequiredAttributes:wi,verifyRequiredSubElements:Ti};function Ju(t,e){let{allowMultipleAds:r,followAdditionalWrappers:n}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const o=Array.from(t.childNodes).filter((i=>{const s=i.nodeName.toLowerCase();return s==="inline"||n!==!1&&s==="wrapper"}));for(const i of o){if(k.copyNodeAttribute("id",t,i),k.copyNodeAttribute("sequence",t,i),k.copyNodeAttribute("adType",t,i),i.nodeName==="Wrapper")return{ad:tl(i,e),type:"WRAPPER"};if(i.nodeName==="InLine")return{ad:el(i,e,{allowMultipleAds:r}),type:"INLINE"};const s=i.nodeName.toLowerCase();e("VAST-warning",{message:"<".concat(i.nodeName,s==="inline"?"> must be written <InLine>":"> must be written <Wrapper>"),wrongNode:i})}}function el(t,e){let{allowMultipleAds:r}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r===!1&&t.getAttribute("sequence")?null:Si(t,e)}function Si(t,e){let r=[];e&&Ku.verifyRequiredValues(t,e);const n=Array.from(t.childNodes),o=(function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{id:i.id||null,sequence:i.sequence||null,adType:i.adType||null,adServingId:null,categories:[],expires:null,viewableImpression:[],system:null,title:null,description:null,advertiser:null,pricing:null,survey:null,errorURLTemplates:[],impressionURLTemplates:[],creatives:[],extensions:[],adVerifications:[],blockedAdCategories:[],followAdditionalWrappers:!0,allowMultipleAds:!1,fallbackOnNoAd:null}})(k.parseAttributes(t));return n.forEach((i=>{switch(i.nodeName){case"Error":o.errorURLTemplates.push(k.parseNodeText(i));break;case"Impression":o.impressionURLTemplates.push({id:i.getAttribute("id")||null,url:k.parseNodeText(i)});break;case"Creatives":o.creatives=(function(s){const a=[];return s.forEach((u=>{const l={id:u.getAttribute("id")||null,adId:ju(u),sequence:u.getAttribute("sequence")||null,apiFramework:u.getAttribute("apiFramework")||null},f=[];let c;k.childrenByName(u,"UniversalAdId").forEach((g=>{const h={idRegistry:g.getAttribute("idRegistry")||"unknown",value:k.parseNodeText(g)};f.push(h)}));const p=k.childByName(u,"CreativeExtensions");p&&(c=bi(k.childrenByName(p,"CreativeExtension")));for(const g in u.childNodes){const h=u.childNodes[g];let x;switch(h.nodeName){case"Linear":x=Zu(h,l);break;case"NonLinearAds":x=$u(h,l);break;case"CompanionAds":x=Yu(h,l)}x&&(f&&(x.universalAdIds=f),c&&(x.creativeExtensions=c),a.push(x))}})),a})(k.childrenByName(i,"Creative"));break;case"Extensions":{const s=k.childrenByName(i,"Extension");o.extensions=bi(s),o.adVerifications.length||(r=(function(a){let u=null,l=[];return a.some((f=>u=k.childByName(f,"AdVerifications"))),u&&(l=ki(k.childrenByName(u,"Verification"))),l})(s));break}case"AdVerifications":o.adVerifications=ki(k.childrenByName(i,"Verification"));break;case"AdSystem":o.system={value:k.parseNodeText(i),version:i.getAttribute("version")||null};break;case"AdTitle":o.title=k.parseNodeText(i);break;case"AdServingId":o.adServingId=k.parseNodeText(i);break;case"Category":o.categories.push({authority:i.getAttribute("authority")||null,value:k.parseNodeText(i)});break;case"Expires":o.expires=parseInt(k.parseNodeText(i),10);break;case"ViewableImpression":o.viewableImpression.push((function(s){const a=(u,l)=>{const f=k.parseNodeText(l);return f&&u.push(f),u};return{id:s.getAttribute("id")||null,viewable:k.childrenByName(s,"Viewable").reduce(a,[]),notViewable:k.childrenByName(s,"NotViewable").reduce(a,[]),viewUndetermined:k.childrenByName(s,"ViewUndetermined").reduce(a,[])}})(i));break;case"Description":o.description=k.parseNodeText(i);break;case"Advertiser":o.advertiser={id:i.getAttribute("id")||null,value:k.parseNodeText(i)};break;case"Pricing":o.pricing={value:k.parseNodeText(i),model:i.getAttribute("model")||null,currency:i.getAttribute("currency")||null};break;case"Survey":o.survey={value:k.parseNodeText(i),type:i.getAttribute("type")||null};break;case"BlockedAdCategories":o.blockedAdCategories.push({authority:i.getAttribute("authority")||null,value:k.parseNodeText(i)})}})),r.length&&(o.adVerifications=o.adVerifications.concat(r)),o}function tl(t,e){const r=Si(t,e),n=t.getAttribute("followAdditionalWrappers"),o=t.getAttribute("allowMultipleAds"),i=t.getAttribute("fallbackOnNoAd");r.followAdditionalWrappers=!n||k.parseBoolean(n),r.allowMultipleAds=!!o&&k.parseBoolean(o),r.fallbackOnNoAd=i?k.parseBoolean(i):null;let s=k.childByName(t,"VASTAdTagURI");if(s?r.nextWrapperURL=k.parseNodeText(s):(s=k.childByName(t,"VASTAdTagURL"),s&&(r.nextWrapperURL=k.parseNodeText(k.childByName(s,"URL")))),r.creatives.forEach((a=>{if(["linear","nonlinear"].includes(a.type)){if(a.trackingEvents){r.trackingEvents||(r.trackingEvents={}),r.trackingEvents[a.type]||(r.trackingEvents[a.type]={});for(const u in a.trackingEvents){const l=a.trackingEvents[u];Array.isArray(r.trackingEvents[a.type][u])||(r.trackingEvents[a.type][u]=[]),l.forEach((f=>{r.trackingEvents[a.type][u].push(f)}))}}a.videoClickTrackingURLTemplates&&(Array.isArray(r.videoClickTrackingURLTemplates)||(r.videoClickTrackingURLTemplates=[]),a.videoClickTrackingURLTemplates.forEach((u=>{r.videoClickTrackingURLTemplates.push(u)}))),a.videoClickThroughURLTemplate&&(r.videoClickThroughURLTemplate=a.videoClickThroughURLTemplate),a.videoCustomClickURLTemplates&&(Array.isArray(r.videoCustomClickURLTemplates)||(r.videoCustomClickURLTemplates=[]),a.videoCustomClickURLTemplates.forEach((u=>{r.videoCustomClickURLTemplates.push(u)})))}})),r.nextWrapperURL)return r}function ki(t){const e=[];return t.forEach((r=>{const n={resource:null,vendor:null,browserOptional:!1,apiFramework:null,type:null,parameters:null,trackingEvents:{}},o=Array.from(r.childNodes);k.assignAttributes(r.attributes,n),o.forEach((s=>{let{nodeName:a,textContent:u,attributes:l}=s;switch(a){case"JavaScriptResource":case"ExecutableResource":n.resource=u.trim(),k.assignAttributes(l,n);break;case"VerificationParameters":n.parameters=u.trim()}}));const i=k.childByName(r,"TrackingEvents");i&&k.childrenByName(i,"Tracking").forEach((s=>{const a=s.getAttribute("event"),u=k.parseNodeText(s);a&&u&&(Array.isArray(n.trackingEvents[a])||(n.trackingEvents[a]=[]),n.trackingEvents[a].push(u))})),e.push(n)})),e}class Ri{constructor(){this._handlers=[]}on(e,r){if(typeof r!="function")throw new TypeError("The handler argument must be of type Function. Received type ".concat(typeof r));if(!e)throw new TypeError("The event argument must be of type String. Received type ".concat(typeof e));return this._handlers.push({event:e,handler:r}),this}once(e,r){return this.on(e,(function(n,o,i){const s={fired:!1,wrapFn:void 0};function a(){s.fired||(n.off(o,s.wrapFn),s.fired=!0,i.bind(n)(...arguments))}return s.wrapFn=a,a})(this,e,r))}off(e,r){return this._handlers=this._handlers.filter((n=>n.event!==e||n.handler!==r)),this}emit(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];let i=!1;return this._handlers.forEach((s=>{s.event==="*"&&(i=!0,s.handler(e,...n)),s.event===e&&(i=!0,s.handler(...n))})),i}removeAllListeners(e){return e?(this._handlers=this._handlers.filter((r=>r.event!==e)),this):(this._handlers=[],this)}listenerCount(e){return this._handlers.filter((r=>r.event===e)).length}listeners(e){return this._handlers.reduce(((r,n)=>(n.event===e&&r.push(n.handler),r)),[])}eventNames(){return this._handlers.map((e=>e.event))}}let Pi=0,pn=0;const Ni=(t,e)=>{!t||!e||t<=0||e<=0||(pn=(pn*Pi+8*t/e)/++Pi)},rl={ERRORCODE:900,extensions:[]},Oi="VAST response version not supported";class nl extends Ri{constructor(){let{fetcher:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),this.maxWrapperDepth=null,this.rootErrorURLTemplates=[],this.errorURLTemplates=[],this.remainingAds=[],this.parsingOptions={},this.fetcher=e||null}trackVastError(e,r){for(var n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];this.emit("VAST-error",Object.assign({},rl,r,...o)),ae.track(e,r)}getErrorURLTemplates(){return this.rootErrorURLTemplates.concat(this.errorURLTemplates)}getEstimatedBitrate(){return pn}initParsingStatus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.maxWrapperDepth=e.wrapperLimit||10,this.parsingOptions={allowMultipleAds:e.allowMultipleAds},this.rootURL="",this.resetParsingStatus(),Ni(e.byteLength,e.requestDuration)}resetParsingStatus(){this.errorURLTemplates=[],this.rootErrorURLTemplates=[],this.vastVersion=null}getRemainingAds(e){if(this.remainingAds.length===0)return Promise.reject(new Error("No more ads are available for the given VAST"));const r=e?this.remainingAds:[this.remainingAds.shift()];return this.errorURLTemplates=[],this.resolveAds(r,{wrapperDepth:0,url:this.rootURL}).then((n=>this.buildVASTResponse(n)))}parseVAST(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.initParsingStatus(r),r.isRootVAST=!0,this.parse(e,r).then((n=>this.buildVASTResponse(n)))}buildVASTResponse(e){const r=(function(n){let{ads:o,errorURLTemplates:i,version:s}=n;return{ads:o||[],errorURLTemplates:i||[],version:s||null}})({ads:e,errorURLTemplates:this.getErrorURLTemplates(),version:this.vastVersion});return this.completeWrapperResolving(r),r}parseVastXml(e,r){let{isRootVAST:n=!1,url:o=null,wrapperDepth:i=0,allowMultipleAds:s,followAdditionalWrappers:a}=r;if(!e||!e.documentElement||e.documentElement.nodeName!=="VAST"){var u;this.emit("VAST-ad-parsed",{type:"ERROR",url:o,wrapperDepth:i});const p=(e==null||(u=e.documentElement)===null||u===void 0?void 0:u.nodeName)==="VideoAdServingTemplate";throw new Error(p?Oi:"Invalid VAST XMLDocument")}const l=[],f=e.documentElement.childNodes,c=e.documentElement.getAttribute("version");n&&c&&(this.vastVersion=c);for(const p in f){const g=f[p];if(g.nodeName==="Error"){const h=k.parseNodeText(g);n?this.rootErrorURLTemplates.push(h):this.errorURLTemplates.push(h)}else if(g.nodeName==="Ad"){if(this.vastVersion&&parseFloat(this.vastVersion)<3)s=!0;else if(s===!1&&l.length>1)break;const h=Ju(g,this.emit.bind(this),{allowMultipleAds:s,followAdditionalWrappers:a});h.ad?(l.push(h.ad),this.emit("VAST-ad-parsed",{type:h.type,url:o,wrapperDepth:i,adIndex:l.length-1,vastVersion:c})):this.trackVastError(this.getErrorURLTemplates(),{ERRORCODE:101})}}return l}parse(e){let{url:r=null,resolveAll:n=!0,wrapperSequence:o=null,previousUrl:i=null,wrapperDepth:s=0,isRootVAST:a=!1,followAdditionalWrappers:u,allowMultipleAds:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=[];this.vastVersion&&parseFloat(this.vastVersion)<3&&a&&(l=!0);try{f=this.parseVastXml(e,{isRootVAST:a,url:r,wrapperDepth:s,allowMultipleAds:l,followAdditionalWrappers:u})}catch(c){return Promise.reject(c)}if(f.length===1&&o!=null&&(f[0].sequence=o),n===!1){const c=k.getSortedAdPods(f),p=k.getStandAloneAds(f);c.length?f=c:p.length&&(f=[p.shift()]),this.remainingAds=p}return this.resolveAds(f,{wrapperDepth:s,previousUrl:i,url:r})}resolveAds(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{wrapperDepth:r,previousUrl:n,url:o}=arguments.length>1?arguments[1]:void 0;const i=[];return n=o,e.forEach((s=>{const a=this.resolveWrappers(s,r,n);i.push(a)})),Promise.all(i).then((s=>ae.flatten(s)))}resolveWrappers(e,r,n){const o={...e};return new Promise((i=>{var s;if(r++,!o.nextWrapperURL)return delete o.nextWrapperURL,i(o);if(!this.fetcher)return o.VASTAdTagURI=o.nextWrapperURL,delete o.nextWrapperURL,i(o);if(r>=this.maxWrapperDepth)return o.errorCode=302,delete o.nextWrapperURL,i(o);o.nextWrapperURL=k.resolveVastAdTagURI(o.nextWrapperURL,n);const a=(s=this.parsingOptions.allowMultipleAds)!==null&&s!==void 0?s:o.allowMultipleAds,u=o.sequence;this.fetcher.fetchVAST({url:o.nextWrapperURL,emitter:this.emit.bind(this),maxWrapperDepth:this.maxWrapperDepth}).then((l=>this.parse(l,{url:o.nextWrapperURL,previousUrl:n,wrapperSequence:u,wrapperDepth:r,followAdditionalWrappers:o.followAdditionalWrappers,allowMultipleAds:a}).then((f=>{if(delete o.nextWrapperURL,f.length===0)return o.creatives=[],i(o);f.forEach((c=>{c&&k.mergeWrapperAdData(c,o)})),i(f)})))).catch((l=>{o.errorCode=l.message===Oi?102:301,o.errorMessage=l.message,i(o)}))}))}completeWrapperResolving(e){if(e.ads.length===0)this.trackVastError(e.errorURLTemplates,{ERRORCODE:303});else for(let r=e.ads.length-1;r>=0;r--){const n=e.ads[r],o=!n.creatives.some((i=>{var s,a;return((s=i.mediaFiles)===null||s===void 0?void 0:s.length)>0||((a=i.variations)===null||a===void 0?void 0:a.length)>0}));!n.errorCode&&!o||n.VASTAdTagURI||(this.trackVastError(n.errorURLTemplates.concat(e.errorURLTemplates),{ERRORCODE:n.errorCode||303},{ERRORMESSAGE:n.errorMessage||""},{extensions:n.extensions},{system:n.system}),e.ads.splice(r,1))}}}let Qe=null;const ol={data:{},length:0,getItem(t){return this.data[t]},setItem(t,e){this.data[t]=e,this.length=Object.keys(this.data).length},removeItem(t){delete this.data[t],this.length=Object.keys(this.data).length},clear(){this.data={},this.length=0}};class il{constructor(){this.storage=this.initStorage()}initStorage(){if(Qe)return Qe;try{Qe=typeof window<"u"&&window!==null?window.localStorage||window.sessionStorage:null}catch{Qe=null}return Qe&&!this.isStorageDisabled(Qe)||(Qe=ol,Qe.clear()),Qe}isStorageDisabled(e){const r="__VASTStorage__";try{if(e.setItem(r,r),e.getItem(r)!==r)return e.removeItem(r),!0}catch{return!0}return e.removeItem(r),!1}getItem(e){return this.storage.getItem(e)}setItem(e,r){return this.storage.setItem(e,r)}removeItem(e){return this.storage.removeItem(e)}clear(){return this.storage.clear()}}const mn=12e4,sl={get:async function(t,e){try{const r=new AbortController,n=setTimeout((()=>{throw r.abort(),new Error("URLHandler: Request timed out after ".concat(e.timeout||mn," ms (408)"))}),e.timeout||mn),o=await fetch(t,{...e,signal:r.signal,credentials:e.withCredentials?"include":"omit"}).finally((()=>{clearTimeout(n)})),i=(function(s){return ae.isBrowserEnvironment()&&window.location.protocol==="https:"&&s.url.includes("http://")?"URLHandler: Cannot go from HTTPS to HTTP.":s.status===200&&s.ok?null:"URLHandler: ".concat(s.statusText," (").concat(s.status,")")})(o);return i?{error:new Error(i),statusCode:o.status}:(async function(s){const a=await s.text();let u;return u=ae.isBrowserEnvironment()?new DOMParser:new(await Promise.resolve().then(()=>wc)).DOMParser,{xml:u.parseFromString(a,"text/xml"),details:{byteLength:a.length,statusCode:s.status,rawXml:a}}})(o)}catch(r){return{error:r,statusCode:r.name==="AbortError"?408:null}}}};class al{constructor(){this.URLTemplateFilters=[]}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.urlHandler=e.urlHandler||e.urlhandler||sl,this.fetchingOptions={...e.fetchOptions,timeout:e.timeout||mn,withCredentials:!!e.withCredentials}}addURLTemplateFilter(e){typeof e=="function"&&this.URLTemplateFilters.push(e)}removeLastURLTemplateFilter(){this.URLTemplateFilters.pop()}countURLTemplateFilters(){return this.URLTemplateFilters.length}clearURLTemplateFilters(){this.URLTemplateFilters=[]}async fetchVAST(e){var r;let{url:n,maxWrapperDepth:o,emitter:i,wrapperDepth:s=0,previousUrl:a=null,wrapperAd:u=null}=e;const l=Date.now();this.URLTemplateFilters.forEach((p=>{n=p(n)})),i("VAST-resolving",{url:n,previousUrl:a,wrapperDepth:s,maxWrapperDepth:o,timeout:this.fetchingOptions.timeout,wrapperAd:u});const f=await this.urlHandler.get(n,this.fetchingOptions),c=Math.round(Date.now()-l);if(i("VAST-resolved",{url:n,previousUrl:a,wrapperDepth:s,error:f?.error||null,duration:c,statusCode:f?.statusCode||null,...f?.details}),Ni(f==null||(r=f.details)===null||r===void 0?void 0:r.byteLength,c),f.error)throw new Error(f.error);return f.xml}}class ul{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new il;this.cappingFreeLunch=e,this.cappingMinimumTimeInterval=r,this.fetcher=new al,this.vastParser=new nl({fetcher:this.fetcher}),this.storage=n,this.lastSuccessfulAd===void 0&&(this.lastSuccessfulAd=0),this.totalCalls===void 0&&(this.totalCalls=0),this.totalCallsTimeout===void 0&&(this.totalCallsTimeout=0)}addURLTemplateFilter(e){this.fetcher.addURLTemplateFilter(e)}removeLastURLTemplateFilter(){this.fetcher.removeLastURLTemplateFilter()}countURLTemplateFilters(){return this.fetcher.countURLTemplateFilters()}clearURLTemplateFilters(){this.fetcher.clearURLTemplateFilters()}getParser(){return this.vastParser}get lastSuccessfulAd(){return this.storage.getItem("vast-client-last-successful-ad")}set lastSuccessfulAd(e){this.storage.setItem("vast-client-last-successful-ad",e)}get totalCalls(){return this.storage.getItem("vast-client-total-calls")}set totalCalls(e){this.storage.setItem("vast-client-total-calls",e)}get totalCallsTimeout(){return this.storage.getItem("vast-client-total-calls-timeout")}set totalCallsTimeout(e){this.storage.setItem("vast-client-total-calls-timeout",e)}hasRemainingAds(){return this.vastParser.remainingAds.length>0}getNextAds(e){return this.vastParser.getRemainingAds(e)}parseVAST(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.fetcher.setOptions(r),this.vastParser.parseVAST(e,r)}get(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=Date.now();return r.hasOwnProperty("resolveAll")||(r.resolveAll=!1),this.totalCallsTimeout<n?(this.totalCalls=1,this.totalCallsTimeout=n+36e5):this.totalCalls++,new Promise(((o,i)=>{if(this.cappingFreeLunch>=this.totalCalls)return i(new Error("VAST call canceled – FreeLunch capping not reached yet ".concat(this.totalCalls,"/").concat(this.cappingFreeLunch)));const s=n-this.lastSuccessfulAd;if(s<0)this.lastSuccessfulAd=0;else if(s<this.cappingMinimumTimeInterval)return i(new Error("VAST call canceled – (".concat(this.cappingMinimumTimeInterval,")ms minimum interval reached")));this.vastParser.initParsingStatus(r),this.fetcher.setOptions(r),this.vastParser.rootURL=e,this.fetcher.fetchVAST({url:e,emitter:this.vastParser.emit.bind(this.vastParser),maxWrapperDepth:this.vastParser.maxWrapperDepth}).then((a=>(r.previousUrl=e,r.isRootVAST=!0,r.url=e,this.vastParser.parse(a,r).then((u=>{const l=this.vastParser.buildVASTResponse(u);o(l)}))))).catch((a=>i(a)))}))}}class ll extends Ri{constructor(e,r,n){var o;let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=arguments.length>4&&arguments[4]!==void 0&&arguments[4];super(),this.ad=r,this.creative=n,this.variation=i,this.muted=s,this.impressed=!1,this.skippable=!1,this.trackingEvents={},this.trackedProgressEvents=[],this.lastPercentage=0,this._alreadyTriggeredQuartiles={},this.emitAlwaysEvents=["creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","resume","pause","rewind","skip","closeLinear","close"];for(const a in this.creative.trackingEvents){const u=this.creative.trackingEvents[a];this.trackingEvents[a]=u.slice(0)}this.viewableImpressionTrackers=((o=this.ad.viewableImpression)===null||o===void 0?void 0:o.reduce(((a,u)=>(a.notViewable.push(...u.notViewable),a.viewUndetermined.push(...u.viewUndetermined),a.viewable.push(...u.viewable),a)),{notViewable:[],viewUndetermined:[],viewable:[]}))||{},Object.entries(this.viewableImpressionTrackers).forEach((a=>{let[u,l]=a;l.length&&(this.trackingEvents[u]=l)})),(function(a){return a.type==="linear"})(this.creative)?this._initLinearTracking():this._initVariationTracking(),e&&this.on("start",(()=>{e.lastSuccessfulAd=Date.now()}))}_initLinearTracking(){this.linear=!0,this.skipDelay=this.creative.skipDelay,this.setDuration(this.creative.duration),this.clickThroughURLTemplate=this.creative.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=this.creative.videoClickTrackingURLTemplates}_initVariationTracking(){if(this.linear=!1,this.skipDelay=-1,this.variation){for(const e in this.variation.trackingEvents){const r=this.variation.trackingEvents[e];this.trackingEvents[e]?this.trackingEvents[e]=this.trackingEvents[e].concat(r.slice(0)):this.trackingEvents[e]=r.slice(0)}this.variation.adType==="nonLinearAd"?(this.clickThroughURLTemplate=this.variation.nonlinearClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.nonlinearClickTrackingURLTemplates,this.setDuration(this.variation.minSuggestedDuration)):(function(e){return e.adType==="companionAd"})(this.variation)&&(this.clickThroughURLTemplate=this.variation.companionClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.companionClickTrackingURLTemplates)}}setDuration(e){ae.isValidTimeValue(e)?(this.assetDuration=e,this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}):this.emit("TRACKER-error",{message:"the duration provided is not valid. duration: ".concat(e)})}setProgress(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(!ae.isValidTimeValue(e)||typeof r!="object")return void this.emit("TRACKER-error",{message:"One given setProgress parameter has the wrong type. progress: ".concat(e,", macros: ").concat(ae.formatMacrosValues(r))});const o=this.skipDelay||-1;if(o===-1||this.skippable||(o>e?this.emit("skip-countdown",o-e):(this.skippable=!0,this.emit("skip-countdown",0))),this.assetDuration>0){const i=Math.round(e/this.assetDuration*100),s=[];if(e>0){s.push("start");for(let a=this.lastPercentage;a<i;a++)s.push("progress-".concat(a+1,"%"));s.push("progress-".concat(e));for(const a in this.quartiles)this.isQuartileReached(a,this.quartiles[a],e)&&(s.push(a),this._alreadyTriggeredQuartiles[a]=!0);this.lastPercentage=i}s.forEach((a=>{this.track(a,{macros:r,once:n})})),e<this.progress&&(this.track("rewind",{macros:r}),this.trackedProgressEvents&&this.trackedProgressEvents.splice(0))}this.progress=e}isQuartileReached(e,r,n){let o=!1;return r<=n&&!this._alreadyTriggeredQuartiles[e]&&(o=!0),o}setMuted(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof e=="boolean"&&typeof r=="object"?(this.muted!==e&&this.track(e?"mute":"unmute",{macros:r}),this.muted=e):this.emit("TRACKER-error",{message:"One given setMuted parameter has the wrong type. muted: ".concat(e,", macros: ").concat(ae.formatMacrosValues(r))})}setPaused(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof e=="boolean"&&typeof r=="object"?(this.paused!==e&&this.track(e?"pause":"resume",{macros:r}),this.paused=e):this.emit("TRACKER-error",{message:"One given setPaused parameter has the wrong type. paused: ".concat(e,", macros: ").concat(ae.formatMacrosValues(r))})}setFullscreen(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof e=="boolean"&&typeof r=="object"?(this.fullscreen!==e&&this.track(e?"fullscreen":"exitFullscreen",{macros:r}),this.fullscreen=e):this.emit("TRACKER-error",{message:"One given setFullScreen parameter has the wrong type. fullscreen: ".concat(e,", macros: ").concat(ae.formatMacrosValues(r))})}setExpand(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof e=="boolean"&&typeof r=="object"?(this.expanded!==e&&(this.track(e?"expand":"collapse",{macros:r}),this.track(e?"playerExpand":"playerCollapse",{macros:r})),this.expanded=e):this.emit("TRACKER-error",{message:"One given setExpand parameter has the wrong type. expanded: ".concat(e,", macros: ").concat(ae.formatMacrosValues(r))})}setSkipDelay(e){ae.isValidTimeValue(e)?this.skipDelay=e:this.emit("TRACKER-error",{message:"setSkipDelay parameter does not have a valid value. duration: ".concat(e)})}trackImpression(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.impressed||(this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates,e),this.track("creativeView",{macros:e})):this.emit("TRACKER-error",{message:"trackImpression parameter has the wrong type. macros: ".concat(e)})}trackViewableImpression(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];typeof e=="object"?this.track("viewable",{macros:e,once:r}):this.emit("TRACKER-error",{message:"trackViewableImpression given macros has the wrong type. macros: ".concat(e)})}trackNotViewableImpression(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];typeof e=="object"?this.track("notViewable",{macros:e,once:r}):this.emit("TRACKER-error",{message:"trackNotViewableImpression given macros has the wrong type. macros: ".concat(e)})}trackUndeterminedImpression(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];typeof e=="object"?this.track("viewUndetermined",{macros:e,once:r}):this.emit("TRACKER-error",{message:"trackUndeterminedImpression given macros has the wrong type. macros: ".concat(e)})}error(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];typeof e=="object"&&typeof r=="boolean"?this.trackURLs(this.ad.errorURLTemplates,e,{isCustomCode:r}):this.emit("TRACKER-error",{message:"One given error parameter has the wrong type. macros: ".concat(ae.formatMacrosValues(e),", isCustomCode: ").concat(r)})}errorWithCode(e){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];typeof e=="string"&&typeof r=="boolean"?(this.error({ERRORCODE:e},r),console.log("The method errorWithCode is deprecated, please use vast tracker error method instead")):this.emit("TRACKER-error",{message:"One given errorWithCode parameter has the wrong type. errorCode: ".concat(e,", isCustomCode: ").concat(r)})}complete(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.track("complete",{macros:e}):this.emit("TRACKER-error",{message:"complete given macros has the wrong type. macros: ".concat(e)})}notUsed(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?(this.track("notUsed",{macros:e}),this.trackingEvents=[]):this.emit("TRACKER-error",{message:"notUsed given macros has the wrong type. macros: ".concat(e)})}otherAdInteraction(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.track("otherAdInteraction",{macros:e}):this.emit("TRACKER-error",{message:"otherAdInteraction given macros has the wrong type. macros: ".concat(e)})}acceptInvitation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.track("acceptInvitation",{macros:e}):this.emit("TRACKER-error",{message:"acceptInvitation given macros has the wrong type. macros: ".concat(e)})}adExpand(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.track("adExpand",{macros:e}):this.emit("TRACKER-error",{message:"adExpand given macros has the wrong type. macros: ".concat(e)})}adCollapse(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.track("adCollapse",{macros:e}):this.emit("TRACKER-error",{message:"adCollapse given macros has the wrong type. macros: ".concat(e)})}minimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.track("minimize",{macros:e}):this.emit("TRACKER-error",{message:"minimize given macros has the wrong type. macros: ".concat(e)})}verificationNotExecuted(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof e!="string"||typeof r!="object")return void this.emit("TRACKER-error",{message:"One given verificationNotExecuted parameter has to wrong type. vendor: ".concat(e,", macros: ").concat(ae.formatMacrosValues(r))});if(!this.ad||!this.ad.adVerifications||!this.ad.adVerifications.length)throw new Error("No adVerifications provided");if(!e)throw new Error("No vendor provided, unable to find associated verificationNotExecuted");const n=this.ad.adVerifications.find((i=>i.vendor===e));if(!n)throw new Error("No associated verification element found for vendor: ".concat(e));const o=n.trackingEvents;if(o&&o.verificationNotExecuted){const i=o.verificationNotExecuted;this.trackURLs(i,r),this.emit("verificationNotExecuted",{trackingURLTemplates:i})}}overlayViewDuration(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof e=="string"&&typeof r=="object"?(r.ADPLAYHEAD=e,this.track("overlayViewDuration",{macros:r})):this.emit("TRACKER-error",{message:"One given overlayViewDuration parameters has the wrong type. formattedDuration: ".concat(e,", macros: ").concat(ae.formatMacrosValues(r))})}close(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.track(this.linear?"closeLinear":"close",{macros:e}):this.emit("TRACKER-error",{message:"close given macros has the wrong type. macros: ".concat(e)})}skip(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.track("skip",{macros:e}):this.emit("TRACKER-error",{message:"skip given macros has the wrong type. macros: ".concat(e)})}load(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.track("loaded",{macros:e}):this.emit("TRACKER-error",{message:"load given macros has the wrong type. macros: ".concat(e)})}click(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==null&&typeof e!="string"||typeof r!="object")return void this.emit("TRACKER-error",{message:"One given click parameter has the wrong type. fallbackClickThroughURL: ".concat(e,", macros: ").concat(ae.formatMacrosValues(r))});this.clickTrackingURLTemplates&&this.clickTrackingURLTemplates.length&&this.trackURLs(this.clickTrackingURLTemplates,r);const n=this.clickThroughURLTemplate||e,o={...r};if(n){this.progress&&(o.ADPLAYHEAD=this.progressFormatted());const i=ae.resolveURLTemplates([n],o)[0];this.emit("clickthrough",i)}}trackProgressEvents(e,r,n){const o=parseFloat(e.split("-")[1]);Object.entries(this.trackingEvents).filter((i=>{let[s]=i;return s.startsWith("progress-")})).map((i=>{let[s,a]=i;return{name:s,time:parseFloat(s.split("-")[1]),urls:a}})).filter((i=>{let{time:s}=i;return s<=o&&s>this.progress})).forEach((i=>{let{name:s,urls:a}=i;!n&&this.trackedProgressEvents.includes(s)||(this.emit(s,{trackingURLTemplates:a}),this.trackURLs(a,r),n?delete this.trackingEvents[s]:this.trackedProgressEvents.push(s))}))}track(e){let{macros:r={},once:n=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof r!="object")return void this.emit("TRACKER-error",{message:"track given macros has the wrong type. macros: ".concat(r)});e==="closeLinear"&&!this.trackingEvents[e]&&this.trackingEvents.close&&(e="close"),e.startsWith("progress-")&&!e.endsWith("%")&&this.trackProgressEvents(e,r,n);const o=this.trackingEvents[e],i=this.emitAlwaysEvents.indexOf(e)>-1;o?(this.emit(e,{trackingURLTemplates:o}),this.trackURLs(o,r)):i&&this.emit(e,null),n&&(delete this.trackingEvents[e],i&&this.emitAlwaysEvents.splice(this.emitAlwaysEvents.indexOf(e),1))}trackURLs(e){var r;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{validUrls:i,invalidUrls:s}=ae.filterUrlTemplates(e);s.length&&this.emit("TRACKER-error",{message:"Provided urls are malformed. url: ".concat(s)});const a={...n};this.linear&&(this.creative&&this.creative.mediaFiles&&this.creative.mediaFiles[0]&&this.creative.mediaFiles[0].fileURL&&(a.ASSETURI=this.creative.mediaFiles[0].fileURL),this.progress&&(a.ADPLAYHEAD=this.progressFormatted())),(r=this.creative)!==null&&r!==void 0&&(r=r.universalAdIds)!==null&&r!==void 0&&r.length&&(a.UNIVERSALADID=this.creative.universalAdIds.map((u=>u.idRegistry.concat(" ",u.value))).join(",")),this.ad&&(this.ad.sequence&&(a.PODSEQUENCE=this.ad.sequence),this.ad.adType&&(a.ADTYPE=this.ad.adType),this.ad.adServingId&&(a.ADSERVINGID=this.ad.adServingId),this.ad.categories&&this.ad.categories.length&&(a.ADCATEGORIES=this.ad.categories.map((u=>u.value)).join(",")),this.ad.blockedAdCategories&&this.ad.blockedAdCategories.length&&(a.BLOCKEDADCATEGORIES=this.ad.blockedAdCategories.map((u=>u.value)).join(","))),ae.track(i,a,o)}convertToTimecode(e){if(!ae.isValidTimeValue(e))return"";const r=1e3*e,n=Math.floor(r/36e5),o=Math.floor(r/6e4%60),i=Math.floor(r/1e3%60),s=Math.floor(r%1e3);return"".concat(ae.addLeadingZeros(n,2),":").concat(ae.addLeadingZeros(o,2),":").concat(ae.addLeadingZeros(i,2),".").concat(ae.addLeadingZeros(s,3))}progressFormatted(){return this.convertToTimecode(this.progress)}}const cl=function(t,e,r,n,o,i,s){const a={};let u={},f=Z(i),c=Z(o),p=Z(t);r.on(Dt,function(A){A.mute?t.muted=!0:(t.muted=!1,t.volume=A.volume/100)},u);const g=function(){n.active=!1,c.hide(),n.started&&(r.getPosition()===0||!n.isVideoEnded)&&(p.hide(),r.play()),r.trigger(Et)},h=function(){p.show(),c.show()},x=function(A){f.hasClass("videoAdUiAction")&&(e.skip(),t.pause(),g())};return i.addEventListener("click",x,!1),a.error=function(){OvenPlayerConsole.log("VAST : listener : error.",t.error),console.log("VAST : listener : error.",t.error);let A={};const y=t.error&&t.error.code||0;y===2?(A.code=402,A.message="Timeout of MediaFile URI."):y===3?(A.code=405,A.message="Problem displaying MediaFile. Video player found a MediaFile with supported type but couldn’t display it. MediaFile may include: unsupported codecs, different MIME type than MediaFile@type, unsupported delivery method, etc."):y===4?(A.code=403,A.message="Couldn’t find MediaFile that is supported by this video player, based on the attributes of the MediaFile element."):(A.code=400,A.message="General Linear error. Video player is unable to display the Linear Ad."),e.errorWithCode(A.code),s("405")},a.canplay=function(){},a.ended=function(){e.complete(),g()},a.click=function(A){e.click()},a.play=function(){e.setPaused(!1)},a.pause=function(){e.setPaused(!0)},a.timeupdate=function(A){e.setProgress(A.target.currentTime),r.trigger(cr,{duration:t.duration,position:t.currentTime})},a.volumechange=function(A){OvenPlayerConsole.log("VAST : listener : Ad Video Volumechange."),e.setMuted(A.target.muted)},a.loadedmetadata=function(){OvenPlayerConsole.log("VAST : listener : Ad CONTENT LOADED ."),pe===r.getState()&&r.pause(),e.trackImpression(),r.trigger(nn,{remaining:t.duration,isLinear:!0}),t.play()},e.on("skip",()=>{OvenPlayerConsole.log("VAST : listener : skipped")}),e.on("mute",()=>{OvenPlayerConsole.log("VAST : listener : muted")}),e.on("unmute",()=>{OvenPlayerConsole.log("VAST : listener : unmuted")}),e.on("resume",()=>{OvenPlayerConsole.log("VAST : listener : vastTracker resumed."),n.started&&r.setState(we)}),e.on("pause",()=>{OvenPlayerConsole.log("VAST : listener : vastTracker paused."),r.setState(Ze)}),e.on("clickthrough",A=>{OvenPlayerConsole.log("VAST : listener : clickthrough :",A),window.open(A,"_blank")}),e.on("skip-countdown",A=>{A===0?(n.lang==="ko"?f.html("광고 건너뛰기<i class='op-con op-arrow-right btn-right'></i>"):f.html("Ad Skip<i class='op-con op-arrow-right btn-right'></i>"),f.addClass("videoAdUiAction")):n.lang==="ko"?f.html(parseInt(A)+1+"초 후에 이 광고를 건너뛸 수 있습니다."):f.html("You can skip this ad in "+(parseInt(A)+1))}),e.on("rewind",()=>{OvenPlayerConsole.log("VAST : listener : rewind")}),e.on("start",()=>{OvenPlayerConsole.log("VAST : listener : started"),n.started=!0,n.active=!0,h(),r.trigger(yt,{isLinear:!0}),r.setState(we)}),e.on("firstQuartile",()=>{OvenPlayerConsole.log("VAST : listener : firstQuartile")}),e.on("midpoint",()=>{OvenPlayerConsole.log("VAST : listener : midpoint")}),e.on("thirdQuartile",()=>{OvenPlayerConsole.log("VAST : listener : thirdQuartile")}),e.on("creativeView",()=>{OvenPlayerConsole.log("VAST : listener : creativeView")}),Object.keys(a).forEach(A=>{t.removeEventListener(A,a[A]),t.addEventListener(A,a[A])}),u.destroy=()=>{OvenPlayerConsole.log("EventListener : destroy()"),i.removeEventListener("click",x,!1),Object.keys(a).forEach(A=>{t.removeEventListener(A,a[A])})},u},fl=function(t,e,r,n){const o="autoplayNotAllowed";let i={},s={started:!1,active:!1,isVideoEnded:!1,lang:r.getLanguage()},a=null,u="",l=null,f="",c="",p=!1,g=r.getBrowser(),h=g.os==="Android"||g.os==="iOS";u=(()=>{let R=document.createElement("div");return R.setAttribute("class","op-ads"),R.setAttribute("id","op-ads"),r.getContainer().append(R),l=document.createElement("video"),l.setAttribute("playsinline","true"),l.setAttribute("title","Advertisement"),l.setAttribute("class","op-ads-vast-video"),c=document.createElement("div"),c.setAttribute("class","op-ads-button"),f=document.createElement("div"),f.setAttribute("class","op-ads-textview"),c.append(f),R.append(l),R.append(c),R})();let A=new ul,y=null,F=null;const O=function(R){console.log(R),l.style.display="none",e.trigger(sr,{code:R.code,message:R.message}),s.active=!1,s.started=!0,e.play()},b=function(){A.get(n).then(R=>{if(OvenPlayerConsole.log("VAST : initRequest()"),F=R.ads[0],!F)throw{code:401,message:"File not found. Unable to find Linear/MediaFile from URI."};y=new ll(A,F,F.creatives[0]),OvenPlayerConsole.log("VAST : created ad tracker."),a=cl(l,y,e,s,c,f,O);let C="";F.creatives&&F.creatives.length>0&&F.creatives[0].mediaFiles&&F.creatives[0].mediaFiles.length>0&&F.creatives[0].mediaFiles[0].fileURL&&(C=F.creatives[0].mediaFiles[0].fileURL,OvenPlayerConsole.log("VAST : media url : ",C)),l.src=C,l.volume=t.volume,l.muted=t.muted}).catch(function(R){O(R)})},w=function(){OvenPlayerConsole.log("VAST : checkAutoplaySupport() ");let R=document.createElement("video");R.setAttribute("playsinline","true"),R.src=Ai,R.load(),l.load(),h&&e.getName()!==Ut&&t.load();const C=function(N,E){p=N,R.pause(),R.remove()};return new Promise(function(N,E){if(!R.play)OvenPlayerConsole.log("VAST : !temporarySupportCheckVideo.play"),C(!0),N();else{let S=R.play();S!==void 0?S.then(function(){OvenPlayerConsole.log("VAST : auto play allowed."),C(!0),N()}).catch(function(I){OvenPlayerConsole.log("VAST : auto play failed",I.message),C(!1),N()}):(OvenPlayerConsole.log("VAST : promise not support"),C(!0),N())}})};return i.isActive=()=>s.active,i.started=()=>s.started,i.play=()=>s.started?l.play():new Promise(function(R,C){const N=function(){e.metaLoaded()?(OvenPlayerConsole.log("VAST : main contents meta loaded."),w().then(function(){r.isAutoStart()&&!p?(OvenPlayerConsole.log("VAST : autoplayAllowed : false"),s.started=!1,C(new Error(o))):(b(),R())})):setTimeout(N,100)};N()}),i.pause=()=>{l.pause()},i.videoEndedCallback=R=>{R(),s.isVideoEnded=!0},i.destroy=()=>{a&&(a.destroy(),a=null),y=null,A=null,u.remove()},i},ut=function(t,e){e&&(e.setState(vt),e.pause(),e.trigger(ke,t))},hn=(t,e)=>{let r=0;if(t)if(e.getSourceIndex()===-1){for(var n=0;n<t.length;n++)if(t[n].default){r=n;break}}else r=e.getSourceIndex();return r};function hr(t){let e=t.seekable.start(0),r=t.seekable.end(t.seekable.length-1);return{start:e,end:r}}const dl=function(t,e,r,n){const o={};OvenPlayerConsole.log("EventListener loaded.",t,e);const i={};let s=-1,a=t;const u=function(f,c,p){return Math.max(Math.min(f,p),c)},l=function(f,c){return f.toFixed(2)===c.toFixed(2)};return o.canplay=()=>{e.setCanSeek(!0),e.trigger(cu),OvenPlayerConsole.log("EventListener : on canplay")},o.durationchange=()=>{o.progress(),OvenPlayerConsole.log("EventListener : on durationchange"),e.trigger(yu)},o.ended=()=>{OvenPlayerConsole.log("EventListener : on ended"),a.pause(),e.getState()!==Ce&&e.getState()!==he&&e.getState()!==vt&&(r?r(function(){e.setState(he)}):e.setState(he))},o.loadeddata=()=>{},o.loadedmetadata=()=>{let f=e.getSources(),c=e.getCurrentSource(),p=c>-1?f[c].type:"";var g={duration:e.isLive()?1/0:a.duration,type:p};e.setMetaLoaded(),OvenPlayerConsole.log("EventListener : on loadedmetadata",g),e.trigger(bt,g)},o.pause=()=>{if(e.getState()===he||e.getState()===vt||a.ended||a.error||a.currentTime===a.duration)return!1;OvenPlayerConsole.log("EventListener : on pause"),e.setState(Ye)},o.loadstart=()=>{n&&!n.getConfig().showBigPlayButton&&n.getConfig().autoStart&&e.setState(We)},o.play=()=>{s=-1,!a.paused&&e.getState()!==pe&&e.setState(We)},o.playing=()=>{OvenPlayerConsole.log("EventListener : on playing"),s<0&&e.setState(pe)},o.progress=()=>{let f=a.buffered;if(!f)return!1;let c=a.duration,p=a.currentTime,g=u((f.length>0?f.end(f.length-1):0)/c,0,1);e.setBuffer(g*100),e.trigger(un,{bufferPercent:g*100,position:p,duration:c}),OvenPlayerConsole.log("EventListener : on progress",g*100)},o.timeupdate=()=>{let f=a.currentTime,c=a.duration;if(isNaN(c))return;if(f>c){a.pause(),e.setState(he);return}let p=e.getSources()[e.getCurrentSource()].sectionStart;p&&f<p&&e.getState()===pe&&e.seek(p);let g=e.getSources()[e.getCurrentSource()].sectionEnd;if(g&&f>g&&e.getState()===pe){e.stop(),e.setState(he);return}c>9e15&&(c=1/0),!e.isSeeking()&&!a.paused&&(e.getState()===ir||e.getState()===We||e.getState()===we)&&!l(s,f)&&(s=-1,e.setState(pe)),p&&p>0&&(f=f-p,f<0&&(f=0)),g&&(c=g),p&&(c=c-p),(e.getState()===pe||e.isSeeking())&&e.trigger(Le,{position:f,duration:c})},o.seeking=()=>{e.setSeeking(!0),OvenPlayerConsole.log("EventListener : on seeking",a.currentTime),e.trigger(lu,{position:a.currentTime})},o.seeked=()=>{e.isSeeking()&&(OvenPlayerConsole.log("EventListener : on seeked"),e.setSeeking(!1),e.trigger(fu))},o.stalled=()=>{OvenPlayerConsole.log("EventListener : on stalled")},o.waiting=()=>{OvenPlayerConsole.log("EventListener : on waiting",e.getState()),e.isSeeking()?e.setState(We):e.getState()===pe&&(s=a.currentTime,e.setState(ir))},o.volumechange=()=>{OvenPlayerConsole.log("EventListener : on volumechange",Math.round(a.volume*100)),e.trigger(Dt,{volume:Math.round(a.volume*100),mute:a.muted})},o.error=()=>{const f=a.error&&a.error.code||0;let c={0:Tu,1:Bu,2:dn,3:Su,4:ku}[f]||0;OvenPlayerConsole.log("EventListener : on error",c),ut(te.codes[c],e)},Object.keys(o).forEach(f=>{a.removeEventListener(f,o[f]),a.addEventListener(f,o[f])}),i.destroy=()=>{OvenPlayerConsole.log("EventListener : destroy()"),Object.keys(o).forEach(f=>{a.removeEventListener(f,o[f])})},i},xr=function(t,e,r){OvenPlayerConsole.log("[Provider] loaded. ");let n={};li(n);let o=t.element,i=null,s=null;t.adTagUrl&&(OvenPlayerConsole.log("[Provider] Ad Client - ",e.getAdClient()),e.getAdClient()===bu?i=fl(o,n,e,t.adTagUrl):i=Hu(o,n,e,t.adTagUrl),i||console.log("Can not load due to google ima for Ads.")),s=dl(o,n,i?i.videoEndedCallback:null,e),o.playbackRate=o.defaultPlaybackRate=e.getPlaybackRate(),t.zoomFactor=1;const a=u=>{const l=t.sources[t.currentSource];if(t.framerate=l.framerate,n.setVolume(e.getVolume()),t.framerate||e.setTimecodeMode(!0),r)r(l,u);else{OvenPlayerConsole.log("source loaded : ",l,"lastPlayPosition : "+u);let f=o.src;l.file!==f&&(o.src=l.file,(f||f==="")&&o.load()),n.on(bt,function(){u>0&&n.seek(u)})}};return n.getName=()=>t.name,n.getMse=()=>t.mse,n.getMediaElement=()=>t.element,n.canSeek=()=>t.canSeek,n.setCanSeek=u=>{t.canSeek=u},n.isSeeking=()=>t.seeking,n.setSeeking=u=>{t.seeking=u},n.setMetaLoaded=()=>{t.isLoaded=!0},n.metaLoaded=()=>t.isLoaded,n.setState=u=>{if(t.state!==u){let l=t.state;if(OvenPlayerConsole.log("Provider : setState()",u),l===we&&(u===vt||u===Ce))return!1;switch(OvenPlayerConsole.log("Provider : triggerSatatus",u),u){case he:n.trigger(xu);break;case Ye:n.trigger($o,{prevState:t.state,newstate:Ye});break;case Ze:n.trigger($o,{prevState:t.state,newstate:Ze});break;case pe:n.trigger(lr,{prevState:t.state,newstate:pe});break;case we:n.trigger(lr,{prevState:t.state,newstate:we});break}t.state=u,n.trigger(at,{prevstate:l,newstate:t.state})}},n.getState=()=>t.state,n.setBuffer=u=>{t.buffer=u},n.getBuffer=()=>t.buffer,n.isLive=()=>t.isLive?!0:o.duration===1/0,n.getDuration=()=>n.isLive()?1/0:o.duration,n.getDvrWindow=()=>t.dvrWindow,n.getPosition=()=>o?o.currentTime:0,n.setVolume=u=>{if(!o)return!1;o.volume=u/100,e.setVolume(u)},n.getVolume=()=>e.getVolume(),n.setMute=u=>{if(!o)return!1;if(typeof u>"u"){const l=e.isMute();o.muted=!l,e.setMute(!l),n.trigger(qt,{mute:e.isMute()})}else o.muted=u,e.setMute(u),n.trigger(qt,{mute:e.isMute()});return o.muted},n.getMute=()=>e.isMute(),n.preload=(u,l)=>(t.sources=u,t.currentSource=hn(u,e),a(l||0),new Promise(function(f,c){e.isMute()&&n.setMute(!0),e.getVolume()&&n.setVolume(e.getVolume()),f()})),n.load=u=>{t.sources=u,t.currentSource=hn(u,e),a(0)},n.play=()=>{if(OvenPlayerConsole.log("Provider : play()"),!o)return!1;if(n.getState()!==pe)if(i&&i.isActive()||i&&!i.started())i.play().then(u=>{OvenPlayerConsole.log("Provider : ads play success")}).catch(u=>{OvenPlayerConsole.log("Provider : ads play fail",u)});else{let u=o.play();u!==void 0?u.then(function(){OvenPlayerConsole.log("Provider : video play success")}).catch(l=>{OvenPlayerConsole.log("Provider : video play error",l.message)}):OvenPlayerConsole.log("Provider : video play success (ie)")}},n.pause=()=>{if(OvenPlayerConsole.log("Provider : pause()"),!o)return!1;n.getState()===pe?o.pause():n.getState()===we&&i.pause()},n.seek=u=>{if(!o)return!1;o.currentTime=u},n.setPlaybackRate=u=>o?(n.trigger(Du,{playbackRate:u}),o.playbackRate=o.defaultPlaybackRate=u):!1,n.getPlaybackRate=()=>o?o.playbackRate:0,n.getZoomFactor=()=>t.zoomFactor,n.setZoomFactor=u=>(n.trigger(an,{zoomFactor:u}),t.zoomFactor=u),n.getSources=()=>o?t.sources.map(function(u,l){var f={file:u.file,type:u.type,label:u.label,index:l,sectionStart:u.sectionStart,sectionEnd:u.sectionEnd,gridThumbnail:u.gridThumbnail};return u.lowLatency&&(f.lowLatency=u.lowLatency),f}):[],n.getCurrentSource=()=>t.currentSource,n.setCurrentSource=(u,l)=>{if(u>-1&&t.sources&&t.sources.length>u)return OvenPlayerConsole.log("source changed : "+u),t.currentSource=u,e.setSourceIndex(u),n.setState(Ce),l&&a(o.currentTime||0),t.currentSource},n.getQualityLevels=()=>o?t.qualityLevels:[],n.getCurrentQuality=()=>o?t.currentQuality:null,n.setCurrentQuality=u=>{},n.getAudioTracks=()=>o?t.audioTracks:[],n.getCurrentAudioTrack=()=>o?t.currentAudioTrack:[],n.setCurrentAudioTrack=u=>{},n.isAutoQuality=()=>{},n.setAutoQuality=u=>{},n.getFramerate=()=>t.framerate,n.setFramerate=u=>t.framerate=u,n.seekFrame=u=>{let l=t.framerate,c=(o.currentTime*l+u)/l;c=c+1e-5,n.pause(),n.seek(c)},n.stop=()=>{if(!o)return!1;for(OvenPlayerConsole.log("CORE : stop() "),o.removeAttribute("preload"),o.removeAttribute("src");o.firstChild;)o.removeChild(o.firstChild);n.pause(),n.setState(Ce)},n.destroy=()=>{if(!o)return!1;n.stop(),s.destroy(),i&&(i.destroy(),i=null),n.off(),OvenPlayerConsole.log("CORE : destroy() player stop, listener, event destroied")},n.super=u=>{const l=n[u];return function(){return l.apply(n,arguments)}},n};function Al(t){var e=new Uint16Array(t.buffer);return String.fromCharCode.apply(null,e)}function Li(t){var e=window.atob(t),r=e.length,n=new Uint8Array(new ArrayBuffer(r));for(let o=0;o<r;o++)n[o]=e.charCodeAt(o);return n}function gl(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="",n,o,i,s,a,u,l,f=0;f<t.length;)n=t[f++],o=f<t.length?t[f++]:Number.NaN,i=f<t.length?t[f++]:Number.NaN,s=n>>2,a=(n&3)<<4|o>>4,u=(o&15)<<2|i>>6,l=i&63,isNaN(o)?u=l=64:isNaN(i)&&(l=64),r+=e.charAt(s)+e.charAt(a)+e.charAt(u)+e.charAt(l);return r}function pl(t){for(var e=new ArrayBuffer(t.length*2),r=new Uint16Array(e),n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}function ml({id:t,initData:e,cert:r}){try{typeof t=="string"&&(t=pl(t));var n=0,o=new ArrayBuffer(e.byteLength+4+t.byteLength+4+r.byteLength),i=new DataView(o),s=new Uint8Array(o,n,e.byteLength);s.set(e),n+=e.byteLength,i.setUint32(n,t.byteLength,!0),n+=4;var a=new Uint16Array(o,n,t.length);a.set(t),n+=a.byteLength,i.setUint32(n,r.byteLength,!0),n+=4;var u=new Uint8Array(o,n,r.byteLength);u.set(r);var l=new Uint8Array(o,0,o.byteLength);return l}catch{return null}}const hl=function(t,e,r){let o=xr({name:_t,element:t,mse:null,isLoaded:!1,canSeek:!1,isLive:!1,seeking:!1,state:Ce,buffer:0,framerate:0,currentQuality:-1,qualityLevels:[],currentAudioTrack:-1,audioTracks:[],currentSource:-1,sources:[],adTagUrl:r},e,null),i=o.super("destroy");OvenPlayerConsole.log("HTML5 PROVIDER LOADED.");let s=null;function a(p){return new Promise(function(g,h){fetch(p).then(function(x){x.text().then(function(A){g(Li(A))}).catch(function(A){h(A)})}).catch(function(x){h(x)})})}function u(p){return new Promise(function(g,h){const x=e.getConfig().hlsConfig.drmSystems["com.apple.fps"].licenseUrl,A=new Headers({"Content-Type":"application/x-www-form-urlencoded"});e.getConfig().licenseCustomHeader&&A.append(e.getConfig().licenseCustomHeader.key,e.getConfig().licenseCustomHeader.value),fetch(x,{method:"POST",headers:A,body:"spc="+gl(p)}).then(function(y){y.text().then(function(F){g(Li(F))}).catch(function(F){h(F)})}).catch(function(y){h(y)})})}function l(p,g){return new Promise(function(h,x){if(!t.webkitKeys)try{t.webkitSetMediaKeys(new window.WebKitMediaKeys("com.apple.fps.1_0"))}catch(y){x(y);return}let A;try{A=t.webkitKeys.createSession("video/mp4",ml({id:g,initData:p,cert:s}))}catch(y){x(y);return}A.contentId=g,A.addEventListener("webkitkeymessage",function(y){u(y.message).then(function(F){A.update(new Uint8Array(F)),h()}).catch(function(F){x(F)})}),A.addEventListener("webkitkeyadded",function(){}),A.addEventListener("webkitkeyerror",function(){var y=A.error;x(y)})})}function f(p){p.initDataType;const g=p.initData,h=Al(g),x=h.substring(h.indexOf("skd://")+6);l(g,x).catch(function(A){let y=te.codes[Ar];y.message="Could not add add key.",ut(te.codes[Ar],o)})}function c(){return new Promise(function(p,g){const h=e.getConfig().hlsConfig.drmSystems["com.apple.fps"].serverCertificateUrl;a(h).then(function(x){s=x,t.addEventListener("webkitneedkey",f,{once:!0})}).catch(function(x){g(x)})})}return e.getConfig().hlsConfig&&e.getConfig().hlsConfig.emeEnabled&&c().catch(function(p){let g=te.codes[Ar];g.message="Could not load drm certificate.",ut(te.codes[Ar],o)}),o.destroy=()=>{OvenPlayerConsole.log("HTML5 : PROVIDER DESTROYED."),i()},o},xl=function(t,e,r,n,o,i,s,a){let u={},l={},f=null,c=!1,p=null,g=null,h={},x=!1,A=!1,y=null,F=!1;s.getConfig().webrtcConfig&&s.getConfig().webrtcConfig.recoverPacketLoss===!0&&(A=!0);let O=!0;s.getConfig().webrtcConfig&&s.getConfig().webrtcConfig.generatePublicCandidate===!1&&(O=s.getConfig().webrtcConfig.generatePublicCandidate);let b=tn(),w=null;(function(){w=window.onbeforeunload,window.onbeforeunload=function(D){w&&w(D),OvenPlayerConsole.log("This calls auto when browser closed."),P()}})();function R(D){let B=null;return g&&D===g.id?B=g.peerConnection:h[D]&&(B=h[D].peerConnection),B}function C(D){D.statisticsTimer&&clearTimeout(D.statisticsTimer),D.status||(D.status={},D.status.lostPacketsArr=[],D.status.slotLength=8,D.status.prevPacketsLost=0,D.status.avg8Losses=0,D.status.avgMoreThanThresholdCount=0,D.status.threshold=40);let B=D.status.lostPacketsArr,U=D.status.slotLength,z=D.status.prevPacketsLost,Q=D.status.avg8Losses,J=D.status.threshold;D.statisticsTimer=setTimeout(function(){if(!D.peerConnection)return!1;D.peerConnection.getStats().then(function(ee){ee&&s.getConfig().autoFallback&&ee&&(ee.forEach(function(X){if(X.type==="inbound-rtp"&&X.kind==="video"&&!X.isRemote){let j=parseInt(X.packetsLost)-parseInt(z);if(B.push(parseInt(X.packetsLost)-parseInt(z)),B.length>U&&B.shift(),B.length===U)if(Q=K.reduce(B,function(ne,ie){return ne+ie},0)/U,OvenPlayerConsole.log("Last8 LOST PACKET AVG  : "+Q,"Current Packet LOST: "+j,"Total Packet Lost: "+X.packetsLost,B),Q>J){if(D.status.avgMoreThanThresholdCount=D.status.avgMoreThanThresholdCount+1,D.status.avgMoreThanThresholdCount>=60){OvenPlayerConsole.log("NETWORK UNSTABLED!!! ");let ne=te.codes[Mu];P(ne)}}else D.status.avgMoreThanThresholdCount=0;D.status.prevPacketsLost=X.packetsLost}}),C(D))})},2e3)}function N(D){const B=D.split(`\r
`);let U=-1;for(let z=0;z<B.length-1;z++)if(B[z]=B[z].toLowerCase(),B[z].indexOf("a=rtpmap")>-1&&B[z].indexOf("opus")>-1){U=B[z].split(" ")[0].split(":")[1];break}return U}function E(D,B){const U=D.split(`\r
`);let z=!1;for(let Q=0;Q<U.length-1;Q++)if(U[Q]=U[Q].toLowerCase(),U[Q].indexOf("a=fmtp:"+B)>-1){U[Q].indexOf("stereo=1")>-1&&(z=!0);break}return z}function S(D,B){const U=D.split(`\r
`);for(let z=0;z<U.length-1;z++)if(U[z].indexOf("a=fmtp:"+B)>-1){U[z].indexOf("stereo=1")===-1&&(U[z]=U[z]+";stereo=1");break}return U.join(`\r
`)}function I(D,B,U,z,Q){let J={};if(s.getConfig().webrtcConfig&&s.getConfig().webrtcConfig.iceServers)J.iceServers=s.getConfig().webrtcConfig.iceServers,s.getConfig().webrtcConfig.iceTransportPolicy&&(J.iceTransportPolicy=s.getConfig().webrtcConfig.iceTransportPolicy);else if(Q){J.iceServers=[];for(let X=0;X<Q.length;X++){let j=Q[X],ne={};ne.urls=j.urls;let ie=!1,oe=q(e);for(let ge=0;ge<ne.urls.length;ge++)if(ne.urls[ge].indexOf(oe)>-1){ie=!0;break}if(!ie&&ne.urls.length>0){let ge=K.clone(ne.urls[0]),se=_(ge);oe&&se&&ne.urls.push(ge.replace(se,oe))}ne.username=j.username||j.user_name,ne.credential=j.credential,J.iceServers.push(ne)}J.iceTransportPolicy="relay"}else J=u;OvenPlayerConsole.log("Main Peer Connection Config : ",J);let ee=null;try{ee=new RTCPeerConnection(J),t.trigger(mu,ee)}catch(X){let j=te.codes[Iu];j.error=X,P(j);return}g={id:D,peerId:B,peerConnection:ee},ee.setRemoteDescription(new RTCSessionDescription(U)).then(function(){ee.createAnswer().then(function(X){const j=N(U.sdp);j>-1&&E(U.sdp,j)&&(X.sdp=S(X.sdp,j)),OvenPlayerConsole.log("Local SDP",X),W(f,{id:D,peer_id:B,command:"answer",sdp:X}),OvenPlayerConsole.log("create Host Answer : success"),ee.setLocalDescription(X).then(function(){}).catch(function(ne){let ie=te.codes[Lu];ie.error=ne,P(ie)})}).catch(function(X){let j=te.codes[Ou];j.error=X,P(j)})}).catch(function(X){let j=te.codes[ii];j.error=X,P(j)}),z&&G(ee,z),ee.onicecandidate=function(X){X.candidate&&(OvenPlayerConsole.log("WebRTCLoader send candidate to server : ",X.candidate),W(f,{id:D,peer_id:B,command:"candidate",candidates:[X.candidate]}))},ee.onconnectionstatechange=function(X){OvenPlayerConsole.log("[on connection state change]",ee.connectionState,X),ee.connectionState==="connected"&&n&&n()},ee.onicecandidateerror=function(X){},ee.onicegatheringstatechange=function(X){},ee.oniceconnectionstatechange=function(X){if(OvenPlayerConsole.log("[on ice connection state change]",ee.iceConnectionState,X),ee.iceConnectionState==="connected"&&n&&n(),(ee.iceConnectionState==="disconnected"||ee.iceConnectionState==="closed")&&!x&&g){let j=te.codes[si];P(j)}},ee.ontrack=function(X){if(OvenPlayerConsole.log("stream received."),OvenPlayerConsole.log("Recovery On Packet Loss :",A),A&&C(g),r(X),s.getConfig().webrtcConfig&&s.getConfig().webrtcConfig.playoutDelayHint){let j=s.getConfig().webrtcConfig.playoutDelayHint;const ne=g.peerConnection.getReceivers();for(let ie=0;ie<ne.length;ie++){let oe=ne[ie];oe.track.kind==="audio"?(oe.playoutDelayHint=j,oe.jitterBufferDelayHint=j):oe.playoutDelayHint=j,OvenPlayerConsole.log("WebRTC playoutDelayHint",oe,j)}}}}function L(D,B){if(!p){setTimeout(function(){L(D,B)},100);return}let U=new RTCPeerConnection(u);h[B]={id:B,peerId:D,peerConnection:U},U.addStream(p),U.createOffer(z,Q,{});function z(J){U.setLocalDescription(J),W(f,{id:D,peer_id:B,sdp:J,command:"offer_p2p"})}function Q(J){}U.onicecandidate=function(J){J.candidate&&(OvenPlayerConsole.log("WebRTCLoader send candidate to server : "+J.candidate),W(f,{id:D,peer_id:B,command:"candidate_p2p",candidates:[J.candidate]}))}}function q(D){let B="",U;return(U=D.match(/^(?:wss?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:\/\n\?\=]+)/im))&&(B=U[1]),B}function _(D){let B="",U;return(U=D.match(new RegExp("\\b(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\b","gi")))&&(B=U[0]),B}function M(D){let B=K.clone(D),U=q(e),z=_(B.candidate);return new Promise(function(Q,J){(z===""||z===U)&&Q(null),b.browser==="Firefox"&&!_(U)?Q(null):(B.candidate=B.candidate.replace(z,U),Q(B))})}function G(D,B){for(let U=0;U<B.length;U++)if(B[U]&&B[U].candidate){let z=B[U];if(D.addIceCandidate(new RTCIceCandidate(z)).then(function(){OvenPlayerConsole.log("addIceCandidate : success")}).catch(function(Q){let J=te.codes[oi];J.error=Q,P(J)}),O){let Q=M(z);Q&&Q.then(function(J){J&&D.addIceCandidate(new RTCIceCandidate(J)).then(function(){OvenPlayerConsole.log("cloned addIceCandidate : success")}).catch(function(ee){let X=te.codes[oi];X.error=ee,P(X)})})}}}function H(){try{f=new WebSocket(e),f.onopen=function(){c=!0,W(f,{command:"request_offer"})},f.onmessage=function(D){const B=JSON.parse(D.data);if(B.error){let U=te.codes[ni];U.error=B.error,P(U);return}if(Object.keys(B).length===0&&B.constructor===Object){OvenPlayerConsole.log("Empty Message");return}if(B.command==="ping"){W(f,{command:"pong"});return}if(B.command==="offer"){let U=B.iceServers||B.ice_servers;I(B.id,B.peer_id,B.sdp,B.candidates,U),B.peer_id===0?t.trigger(dr,!1):t.trigger(dr,!0)}if(B.command==="request_offer_p2p"&&L(B.id,B.peer_id),B.command==="answer_p2p"&&R(B.peer_id).setRemoteDescription(new RTCSessionDescription(B.sdp)).then(function(z){}).catch(function(z){let Q=te.codes[ii];Q.error=z,P(Q)}),B.command==="candidate"){let U=R(B.id);G(U,B.candidates)}if(B.command==="candidate_p2p"){let U=R(B.peer_id);G(U,B.candidates)}if(B.command==="notification"){if(B.type==="playlist"){const U=B.message.renditions;y=B.message;for(let z=0;z<U.length;z++){let Q=U[z];a.qualityLevels.push({bitrate:Q.video_track.video.bitrate,height:Q.video_track.video.height,width:Q.video_track.video.width,index:z,label:Q.name})}a.currentQuality=0,F=B.message.auto}if(B.type==="rendition_changed"){const U=B.message;B.auto&&(F=B.auto);let z=-1;for(let Q=0;Q<y.renditions.length;Q++)if(U.rendition_name===y.renditions[Q].name){z=Q,a.currentQuality=Q;break}t.trigger(ze,{isAuto:F,currentQuality:z,type:"render"})}}B.command==="stop"&&(g.peerId===B.peer_id?(p=null,g.peerConnection.close(),g=null,t.pause(),W(f,{command:"request_offer"})):h[B.peer_id]&&(h[B.peer_id].peerConnection.close(),delete h[B.peer_id]))},f.onclose=function(D){if(!x){if(n&&!c){P();return}let B=te.codes[ni];g&&(B=te.codes[si]),P(B)}},f.onerror=function(D){}}catch(D){P(D)}}function Y(){OvenPlayerConsole.log("WebRTCLoader connecting..."),OvenPlayerConsole.log("WebRTCLoader url : "+e),H()}function P(D){if(OvenPlayerConsole.log("WebRTC Loader closePeer()"),D||(x=!0),g&&(g.statisticsTimer&&clearTimeout(g.statisticsTimer),p=null,OvenPlayerConsole.log("Closing main peer connection..."),g.peerConnection&&g.peerConnection.close(),g.peerConnection=null,t.trigger(hu),g=null),Object.keys(h).length>0){for(let B in h){let U=h[B].peerConnection;U&&(OvenPlayerConsole.log("Closing client peer connection..."),U.close(),U=null)}h={}}f?(OvenPlayerConsole.log("Closing websocket connection..."),OvenPlayerConsole.log("Send Signaling : Stop."),f.readyState===1&&(x=!0,g&&W(f,{command:"stop",id:g.id}),f.close())):x=!1,f=null,D&&(o&&o(D),i(D,t))}function W(D,B){D&&D.send(JSON.stringify(B))}return t.setCurrentQuality=D=>{if(!y||!g)return-1;let B=y.renditions[D];return B&&(W(f,{command:"change_rendition",id:g.id,rendition_name:B.name,auto:!1}),F=!1,a.currentQuality=D),a.currentQuality},t.isAutoQuality=()=>F,t.setAutoQuality=D=>{g&&(W(f,{command:"change_rendition",id:g.id,auto:D}),F=D)},l.connect=()=>{Y()},l.destroy=()=>{x=!0,P(),window.onbeforeunload=w,w=null},l},vl=`/**\r
 * Created by rock on 2025. 2\r
 */\r
\r
const OVENMEDIAENGINE_SEI_METADATA_UUID = '464d4c475241494e434f4c4f55524201';\r
\r
function removeEmulationPreventionBytes(data) {\r
  const rbsp = [];\r
  for (let i = 0; i < data.length; i++) {\r
\r
    if (i > 2 && data[i - 2] === 0x00 && data[i - 1] === 0x00 && data[i] === 0x03) {\r
      continue; // skip 0x03\r
    }\r
    rbsp.push(data[i]);\r
  }\r
  return new Uint8Array(rbsp);\r
}\r
\r
function parseSEIPayload(rbsp) {\r
\r
  const messages = [];\r
\r
  let i = 0;\r
  const rbspLength = rbsp[rbsp.length - 1] === 0x80 ? rbsp.length - 1 : rbsp.length;\r
\r
  while (i < rbspLength) {\r
\r
    let type = 0;\r
    while (rbsp[i] === 0xFF) {\r
      type += 255;\r
      i++;\r
    }\r
    type += rbsp[i++];\r
\r
    let size = 0;\r
    while (rbsp[i] === 0xFF) {\r
      size += 255;\r
      i++;\r
    }\r
    size += rbsp[i++];\r
\r
    const payload = rbsp.slice(i, i + size);\r
    i += size;\r
\r
    messages.push({ type, size, payload });\r
\r
    return { type, size, payload };\r
  }\r
\r
  return messages;\r
}\r
\r
function toHexString(byteArray, delimiter = '') {\r
  return Array.from(byteArray, byte => {\r
    return ('0' + (byte & 0xFF).toString(16)).slice(-2);\r
  }).join(delimiter);\r
}\r
\r
function toHexArray(byteArray) {\r
  return Array.from(byteArray, byte => {\r
    return ('0' + (byte & 0xFF).toString(16)).slice(-2);\r
  });\r
}\r
\r
function toUUID(byteArray) {\r
  const hexString = toHexString(byteArray);\r
  return [\r
    hexString.slice(0, 8),\r
    hexString.slice(8, 12),\r
    hexString.slice(12, 16),\r
    hexString.slice(16, 20),\r
    hexString.slice(20, 24),\r
    hexString.slice(24, 32)\r
  ].join('-');\r
}\r
\r
function toTimestamp(byteArray) {\r
  const hexString = toHexString(byteArray);\r
  return parseInt(hexString, 16);\r
}\r
\r
function toAsciiString(byteArray) {\r
  return String.fromCharCode.apply(null, byteArray);\r
}\r
\r
function findNalStartIndex(frameData, offset) {\r
  while (offset < frameData.byteLength - 4) {\r
    if ((frameData[offset] === 0x00 && frameData[offset + 1] === 0x00)\r
      && (frameData[offset + 2] === 0x01 || (frameData[offset + 2] === 0x00 && frameData[offset + 3] === 0x01))) {\r
      return offset;\r
    } else {\r
      offset += 1;\r
    }\r
  }\r
  return -1;\r
}\r
\r
function getNalus(frameData) {\r
\r
  let offset = 0;\r
  const headerSize = 1;\r
  const nalus = [];\r
\r
  while (offset < frameData.byteLength - 4) {\r
\r
    const startCodeIndex = findNalStartIndex(frameData, offset);\r
\r
    if (startCodeIndex >= offset) {\r
\r
      const startCodeLength = frameData[startCodeIndex + 2] === 0x01 ? 3 : 4;\r
      const nextStartCodeIndex = findNalStartIndex(frameData, startCodeIndex + startCodeLength + headerSize);\r
\r
      if (nextStartCodeIndex > startCodeIndex) {\r
\r
        nalus.push(frameData.subarray(startCodeIndex, nextStartCodeIndex));\r
        offset = nextStartCodeIndex;\r
      } else {\r
\r
        nalus.push(frameData.subarray(startCodeIndex));\r
        break;\r
      }\r
    } else {\r
      break;\r
    }\r
  }\r
  return nalus;\r
}\r
\r
function createReceiverTransform() {\r
  return new TransformStream({\r
    start() { },\r
    flush() { },\r
    async transform(encodedFrame, controller) {\r
\r
      const nalus = getNalus(new Uint8Array(encodedFrame.data));\r
\r
      nalus.forEach((nalu) => {\r
\r
        const startCodeLength = nalu[2] === 0x01 ? 3 : 4;\r
        const headerCodeLength = 1;\r
        const nalHeader = nalu[startCodeLength];\r
        const nalType = nalHeader & 0x1F;\r
\r
        // NAL Type SEI\r
        if (nalType === 6) {\r
\r
          const rbsp = removeEmulationPreventionBytes(nalu.subarray(startCodeLength + headerCodeLength));\r
\r
          const parsedSei = parseSEIPayload(rbsp);\r
\r
          const eventData = {\r
            nalu: nalu,\r
            sei: parsedSei\r
          };\r
\r
          const uuid = toHexString(parsedSei.payload.subarray(0, 16));\r
\r
          if (uuid === OVENMEDIAENGINE_SEI_METADATA_UUID) {\r
\r
            postMessage({\r
              action: 'sei', data: {\r
                ...eventData,\r
                registered: true,\r
                uuid: toUUID(parsedSei.payload.subarray(0, 16)),\r
                timecode: toTimestamp(parsedSei.payload.subarray(16, 24)),\r
                userdata: parsedSei.payload.subarray(24)\r
              }\r
            });\r
          } else {\r
\r
            postMessage({\r
              action: 'sei', data: {\r
                ...eventData,\r
                registered: false\r
              }\r
            });\r
          }\r
        }\r
      });\r
\r
      controller.enqueue(encodedFrame);\r
    }\r
  })\r
}\r
\r
function setupPipe({ readable, writable }, transform) {\r
  readable\r
    .pipeThrough(transform)\r
    .pipeTo(writable)\r
}\r
\r
addEventListener('rtctransform', (event) => {\r
  setupPipe(event.transformer, createReceiverTransform());\r
});\r
\r
addEventListener('message', (event) => {\r
  const { action } = event.data;\r
\r
  switch (action) {\r
    case 'rtctransform':\r
      setupPipe(event.data, createReceiverTransform())\r
      break;\r
    default:\r
      break;\r
  }\r
});\r
`,El=function(t,e,r){let n={},o=null,i=null,s=null,a=null,u=null,l=null,f={name:ar,element:t,mse:null,listener:null,isLoaded:!1,canSeek:!1,isLive:!1,seeking:!1,state:Ce,buffer:0,framerate:0,currentQuality:-1,currentSource:-1,qualityLevels:[],sources:[],adTagUrl:r},c=1e4,p=0,g=null,h=!1;const x=()=>({isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),iOS:/iPhone|iPad|iPod/i.test(navigator.userAgent)}),A=O=>{let b=x(),w=!1;b.isMobile&&O.state==="suspended"&&document.addEventListener("touchend",()=>{!w&&O.state!=="running"&&(O.resume(),w=!0)})};function y(){if(zt(u.file,u.type)){clearTimeout(g),OvenPlayerConsole.log("WEBRTC : onBeforeLoad : ",u),o&&(o.destroy(),o=null);const O=function(R){t.srcObject&&(t.srcObject=null),l&&(l.close(),l=null);const C=R.streams[0];if(t.srcObject=C,C.getAudioTracks().length>0){const N=window.AudioContext||window.webkitAudioContext;l=new N,A(l),l.createMediaStreamSource(C)}if(R.receiver.track.kind==="video"&&e.getConfig().parseStream.enabled){const N=new Blob([vl],{type:"application/javascript"}),E=URL.createObjectURL(N),S=new Worker(E);if("RTCRtpScriptTransform"in window)R.receiver.transform=new RTCRtpScriptTransform(S);else{const{readable:I,writable:L}=R.receiver.createEncodedStreams();S.postMessage({action:"rtctransform",readable:I,writable:L},[I,L])}S.addEventListener("message",I=>{I.data.action==="sei"&&n.trigger(Eu,{...I.data.data,type:Cu})})}};let b=null,w=null;p>0&&(b=function(){clearTimeout(g)},w=function(){clearTimeout(g),performance.now(),h=!0}),o=xl(n,u.file,O,w,b,ut,e,f),performance.now(),o.connect(),p>0&&(n.once(at,function(R){h||R.newstate===Ce&&(clearTimeout(g),F())}),n.once(ke,function(){h=!1}),g=setTimeout(function(){if(p>0)h||(F(),y());else{F();let R=te.codes[_u];ut(R,n)}p--},c))}}function F(){o&&(o.destroy(),o=null,t.srcObject=null)}return n=xr(f,e,function(O){const b=e.getConfig();b.webrtcConfig&&(typeof b.webrtcConfig.connectionTimeout=="number"&&b.webrtcConfig.connectionTimeout>0&&(c=b.webrtcConfig.connectionTimeout),typeof b.webrtcConfig.timeoutMaxRetry=="number"&&b.webrtcConfig.timeoutMaxRetry>0&&(p=b.webrtcConfig.timeoutMaxRetry)),u=O,y()}),i=n.super("destroy"),s=n.super("play"),a=n.super("stop"),OvenPlayerConsole.log("WEBRTC PROVIDER LOADED."),n.removeStream=()=>{t.srcObject=null},n.destroy=()=>{clearTimeout(g),F(),OvenPlayerConsole.log("WEBRTC :  PROVIDER DESTROYED."),i()},n.play=()=>{(!o||p>0&&!h)&&y(),s()},n.stop=()=>{clearTimeout(g),F(),a()},n},xn=function(t,e,r){let n=1e3;if(Math.abs(t)<n)return t+" B";let o=r,i=["k"+o,"M"+o,"G"+o,"T"+o,"P"+o,"E"+o,"Z"+o,"Y"+o],s=-1;do t/=n,++s;while(Math.abs(t)>=n&&s<i.length-1);return t.toFixed(1)+i[s]},Cl=function(t,e,r){let n={},o=null,i=null,s=null,a=0,u=null,l="";try{if(dashjs.Version<"3.0.0")throw te.codes[ti];const f=function(h){o.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:h}}}})},c=function(){return o.getSettings().streaming.abr.autoSwitchBitrate.video},p=function(){if(o.duration()!==u){u=o.duration();let h=o.getDashMetrics().getCurrentDVRInfo(),x=e.getConfig().lowLatencyMpdLiveDelay;x||(x=3),o.seek(h.range.end-h.range.start-x)}};o=dashjs.MediaPlayer().create(),o.initialize(t,null,!1),window.op_dash=o;let g={name:Ut,element:t,mse:o,listener:null,isLoaded:!1,canSeek:!1,isLive:!1,seeking:!1,state:Ce,buffer:0,framerate:0,currentQuality:-1,currentSource:-1,qualityLevels:[],sources:[],adTagUrl:r};n=xr(g,e,function(h,x){OvenPlayerConsole.log("DASH : Attach File : ",h,"lastPlayPosition : "+x),f(!0),l=h.file,h.lowLatency===!0?(u=null,o.updateSettings({streaming:{lowLatencyEnabled:h.lowLatency}}),e.getConfig().lowLatencyMpdLiveDelay&&typeof e.getConfig().lowLatencyMpdLiveDelay=="number"&&o.updateSettings({streaming:{liveDelay:e.getConfig().lowLatencyMpdLiveDelay}})):o.updateSettings({streaming:{lowLatencyEnabled:!1,liveDelay:void 0}}),o.updateSettings({debug:{logLevel:dashjs.Debug.LOG_LEVEL_NONE}});let A=e.getConfig().dashConfig;A&&o.updateSettings(A),n.trigger(gu,o),o.attachSource(l),a=x}),i=n.super("play"),s=n.super("destroy"),OvenPlayerConsole.log("DASH PROVIDER LOADED."),o.on(dashjs.MediaPlayer.events.ERROR,function(h){let x=te.codes[dn];x.error=h,ut(x,n)}),o.on(dashjs.MediaPlayer.events.QUALITY_CHANGE_REQUESTED,function(h){h&&h.mediaType&&h.mediaType==="video"&&n.trigger(ze,{isAuto:c(),currentQuality:g.currentQuality,type:"request"})}),o.on(dashjs.MediaPlayer.events.QUALITY_CHANGE_RENDERED,function(h){h&&h.mediaType&&h.mediaType==="video"&&(g.currentQuality=h.newQuality,n.trigger(ze,{isAuto:c(),currentQuality:h.newQuality,type:"render"}))}),o.on(dashjs.MediaPlayer.events.PLAYBACK_METADATA_LOADED,function(h){OvenPlayerConsole.log("DASH : PLAYBACK_METADATA_LOADED  : ",o.getQualityFor("video"),o.getBitrateInfoListFor("video"),o.getBitrateInfoListFor("video")[o.getQualityFor("video")]);let x=o.getBitrateInfoListFor("video");g.currentQuality=o.getQualityFor("video");for(let A=0;A<x.length;A++)K.findWhere(g.qualityLevels,{bitrate:x[A].bitrate,height:x[A].height,width:x[A].width})||g.qualityLevels.push({bitrate:x[A].bitrate,height:x[A].height,width:x[A].width,index:x[A].qualityIndex,label:x[A].width+"x"+x[A].height+", "+xn(x[A].bitrate,!0,"bps")});o.isDynamic()&&(g.isLive=!0),a&&!g.isLive&&o.seek(a)}),n.play=h=>{n.getState()===we||n.getState()===Ze||i(h)},n.setCurrentQuality=h=>(n.getState()!==pe&&n.play(),g.currentQuality=h,c()&&f(!1),o.setQualityFor("video",h),g.currentQuality),n.isAutoQuality=()=>c(),n.setAutoQuality=h=>{f(h)},n.destroy=()=>{o.destroy?o.destroy():o.reset(),o=null,n.trigger(pu),OvenPlayerConsole.log("DASH : PROVIDER DESTROYED."),s()}}catch(f){if(f&&f.code&&f.code===ti)throw f;{let c=te.codes[Fu];throw c.error=f,c}}return n},yl=function(t,e,r){let n={},o=null,i=null,s=null,a=null,u=!1,l=!1;try{let f={debug:!1},c=e.getConfig().hlsConfig;if(c)for(let g in c)f[g]=c[g];if(e.getConfig().licenseCustomHeader){const g=function(h,x,A,y){h.setRequestHeader(e.getConfig().licenseCustomHeader.key,e.getConfig().licenseCustomHeader.value)};f.licenseXhrSetup=g}o=new Hls(f),o.attachMedia(t);let p={name:Ct,element:t,mse:o,listener:null,isLoaded:!1,canSeek:!1,isLive:!1,seeking:!1,state:Ce,buffer:0,dvrWindow:0,framerate:0,currentQuality:-1,qualityLevels:[],currentAudioTrack:-1,audioTracks:[],currentSource:-1,sources:[],adTagUrl:r};n=xr(p,e,function(g,h){OvenPlayerConsole.log("HLS : onExtendedLoad : ",g,"lastPlayPosition : "+h),n.trigger(du,o),o.loadSource(g.file),o.once(Hls.Events.MANIFEST_LOADED,function(x,A){u=!0;for(let y=0;y<o.levels.length;y++){let F=o.levels[y];p.qualityLevels.push({bitrate:F.bitrate,height:F.height,width:F.width,index:y,label:F.width+"x"+F.height+", "+xn(F.bitrate,!0,"bps")})}p.currentQuality=o.firstLevel;for(let y=0;y<o.audioTracks.length;y++){let F=o.audioTracks[y];p.audioTracks.push({index:F.id,label:F.name}),F.default===!0&&(p.currentAudioTrack=F.id)}}),o.once(Hls.Events.LEVEL_LOADED,function(x,A){l=!0,a&&(clearTimeout(a),a=null),A.details.live?p.isLive=!0:h&&h>=0&&n.seek(h)}),o.on(Hls.Events.LEVEL_SWITCHED,function(x,A){p.currentQuality=A.level,n.trigger(ze,{isAuto:o.autoLevelEnabled,currentQuality:p.currentQuality,type:"render"})}),o.on(Hls.Events.AUDIO_TRACK_SWITCHED,function(x,A){p.currentAudioTrack=A.id,n.trigger(Wt,{currentAudioTrack:p.currentAudioTrack})}),o.on(Hls.Events.LEVEL_UPDATED,function(x,A){A&&A.details&&(p.dvrWindow=A.details.totalduration)}),o.on(Hls.Events.ERROR,function(x,A){if(A&&A.networkDetails&&A.networkDetails.status===202){a&&(clearTimeout(a),a=null),n.setState(We),a=setTimeout(function(){o&&(n.stop(),o.stopLoad(),o.loadSource(g.file))},1e3);return}if(!A.fatal)return;let y=dn;A&&A.networkDetails&&A.networkDetails.status===400?y=Ru:A&&A.networkDetails&&A.networkDetails.status===403?y=Pu:A&&A.networkDetails&&A.networkDetails.status===406&&(y=Nu);let F=te.codes[y];F.error=A,ut(F,n)}),n.on(at,function(x){!l&&x.prevstate===We&&x.newstate===Ce&&(a&&(clearTimeout(a),a=null),o&&o.stopLoad())})}),n.setCurrentQuality=g=>(o.currentLevel=g,p.currentQuality=g,p.currentQuality),n.isAutoQuality=()=>o.autoLevelEnabled,n.setAutoQuality=g=>{g?o.currentLevel=-1:o.currentLevel=o.currentLevel},n.setCurrentAudioTrack=g=>(o.audioTrack=g,p.currentAudioTrack=g,p.currentAudioTrack),n.getDuration=()=>t.duration,i=n.super("stop"),n.stop=()=>{a&&(clearTimeout(a),a=null),o&&o.stopLoad(),i()},s=n.super("destroy"),n.destroy=()=>{a&&(clearTimeout(a),a=null),o&&(o.destroy(),n.trigger(Au)),o=null,OvenPlayerConsole.log("HLS : PROVIDER DESTROYED."),s()},OvenPlayerConsole.log("HLS PROVIDER LOADED.")}catch(f){let c=te.codes[wu];throw c.error=f,c}return n},Dl=function(){let t=di();const e={},r={};OvenPlayerConsole.log("ProviderController loaded.");const n=(i,s)=>{e[i]||(OvenPlayerConsole.log("ProviderController _registerProvider() ",i),e[i]=s)},o={html5:function(){const i=hl;return n(_t,i),{name:_t,provider:i}},webrtc:function(){const i=El;return n(ar,i),{name:ar,provider:i}},dash:function(){const i=Cl;return n(Ut,i),{name:Ut,provider:i}},hls:function(){const i=yl;return n(Ct,i),{name:Ct,provider:i}}};return r.loadProviders=i=>{const s=t.findProviderNamesByPlaylist(i);return OvenPlayerConsole.log("ProviderController loadProviders() ",s),s?Promise.all(s.filter(function(a){return!!o[a]}).map(function(a){return o[a]()})):Promise.reject(te.codes[ei])},r.findByName=i=>(OvenPlayerConsole.log("ProviderController findByName() ",i),e[i]),r.getProviderBySource=i=>{const s=t.findProviderNameBySource(i);return OvenPlayerConsole.log("ProviderController getProviderBySource() ",s),r.findByName(s)},r.isSameProvider=(i,s)=>(OvenPlayerConsole.log("ProviderController isSameProvider() ",t.findProviderNameBySource(i),t.findProviderNameBySource(s)),t.findProviderNameBySource(i)===t.findProviderNameBySource(s)),r},bl=function(t){return{externalCallbackCreep:e=>e.name&&e.data?t.triggerEventFromExternal(e.name,e.data):null}},Fl=function(t){const e={};li(e),OvenPlayerConsole.log("API loaded.");let r=zu(e),n=Dl(),o=tn(),i=Wu(t,o),s="",a="",u="";const l=function(c){OvenPlayerConsole.log("runNextPlaylist");let p=c,h=!!r.getPlaylist()[p];a.setSourceIndex(0),a.setVolume(s.getVolume()),h?(r.setCurrentPlaylist(p),f()):e.trigger(on,null)},f=function(c){return n.loadProviders(r.getCurrentPlayList()).then(p=>{if(p.length<1)throw te.codes[ei];s&&(s.destroy(),s=null),u&&(u.destroy(),u=null),u=Vu(e,r.getCurrentPlaylistIndex()),OvenPlayerConsole.log("API : init() captions");let g=hn(r.getCurrentSources(),a),h=p[g].name;OvenPlayerConsole.log("API : init() provider",h),s=p[g].provider(i.createMedia(h,a),a,r.getCurrentAdTag()),h===au&&Object.assign(e,bl(s)),s.on("all",function(x,A){if(x===ke&&(h===ar&&s.removeStream(),a.getConfig().autoFallback&&e.getCurrentSource()+1<e.getSources().length)){e.pause(),e.setCurrentSource(e.getCurrentSource()+1);return}x===uu&&l(r.getCurrentPlaylistIndex()+1),x===bt&&a.isAutoStart()&&e.play(),e.trigger(x,A)})}).then(()=>{s.preload(r.getCurrentSources(),c).then(function(){}).catch(p=>{if(p&&p.code&&te.codes[p.code])e.trigger(ke,te.codes[p.code]);else{let g=te.codes[Jo];g.error=p,e.trigger(ke,g)}})}).catch(p=>{if(p&&p.code&&te.codes[p.code])e.trigger(ke,te.codes[p.code]);else{let g=te.codes[Jo];g.error=p,e.trigger(ke,g)}})};return e.init=c=>{c||(c={}),c.mediaContainer=t,c.browser=o,a=qu(c,e),OvenPlayerConsole.log("API : init()"),OvenPlayerConsole.log("API : init() config : ",a),te.codes=a.getSystemText().api.error,r.initPlaylist(a.getPlaylist(),a),OvenPlayerConsole.log("API : init() sources : ",r.getCurrentSources()),f(),setTimeout(function(){e.trigger(st)})},e.getProviderName=()=>s?s.getName():null,e.getProvider=()=>s,e.getMseInstance=()=>s?s.getMse():null,e.getConfig=()=>(OvenPlayerConsole.log("API : getConfig()",a.getConfig()),a.getConfig()),e.getBrowser=()=>a.getBrowser(),e.setTimecodeMode=c=>{OvenPlayerConsole.log("API : setTimecodeMode()",c),a.setTimecodeMode(c)},e.isTimecodeMode=()=>(OvenPlayerConsole.log("API : isTimecodeMode()"),a.isTimecodeMode()),e.getFramerate=()=>{if(OvenPlayerConsole.log("API : getFramerate()"),s)return s.getFramerate()},e.seekFrame=c=>s?(OvenPlayerConsole.log("API : seekFrame()",c),s.seekFrame(c)):null,e.getDuration=()=>s?(OvenPlayerConsole.log("API : getDuration()",s.getDuration()),s.getDuration()):null,e.getDvrWindow=()=>s?(OvenPlayerConsole.log("API : getDvrWindow()",s.getDvrWindow()),s.getDvrWindow()):null,e.getPosition=()=>s?(OvenPlayerConsole.log("API : getPosition()",s.getPosition()),s.getPosition()):null,e.getVolume=()=>s?(OvenPlayerConsole.log("API : getVolume()",s.getVolume()),s.getVolume()):null,e.setVolume=c=>{if(!s)return null;OvenPlayerConsole.log("API : setVolume() "+c),s.setVolume(c)},e.setMute=c=>s?(OvenPlayerConsole.log("API : setMute() "+c),s.setMute(c)):null,e.getMute=()=>s?(OvenPlayerConsole.log("API : getMute() "+s.getMute()),s.getMute()):null,e.load=c=>(OvenPlayerConsole.log("API : load() ",c),c&&(a.setSourceIndex(0),s&&s.getQualityLevels().length>0&&s.setCurrentQuality(0),"sources"in c?a.setPlaylist(c):a.setPlaylist({sources:c}),r.initPlaylist(a.getPlaylist(),a)),f()),e.play=()=>{if(!s)return null;OvenPlayerConsole.log("API : play() "),!s.metaLoaded()&&!a.isAutoStart()?e.once(bt,function(){s.play()}):s.play()},e.pause=()=>{if(!s)return null;OvenPlayerConsole.log("API : pause() "),s.pause()},e.seek=c=>{if(!s)return null;OvenPlayerConsole.log("API : seek() "+c),s.seek(c)},e.setPlaybackRate=c=>s?(OvenPlayerConsole.log("API : setPlaybackRate() ",c),s.setPlaybackRate(a.setPlaybackRate(c))):null,e.getPlaybackRate=()=>s?(OvenPlayerConsole.log("API : getPlaybackRate() ",s.getPlaybackRate()),s.getPlaybackRate()):null,e.setZoomFactor=c=>s?(OvenPlayerConsole.log("API : setZoomFactor() ",c),s.setZoomFactor(a.setZoomFactor(c))):null,e.getZoomFactor=()=>s?(OvenPlayerConsole.log("API : getZoomFactor() ",s.getZoomFactor()),s.getZoomFactor()):null,e.getPlaylist=()=>(OvenPlayerConsole.log("API : getPlaylist() ",r.getPlaylist()),r.getPlaylist()),e.getCurrentPlaylist=()=>(OvenPlayerConsole.log("API : getCurrentPlaylist() ",r.getCurrentPlaylistIndex()),r.getCurrentPlaylistIndex()),e.setCurrentPlaylist=c=>{OvenPlayerConsole.log("API : setCurrentPlaylist() ",c),l(c)},e.getSources=()=>s?(OvenPlayerConsole.log("API : getSources() ",s.getSources()),s.getSources()):null,e.getCurrentSource=()=>s?(OvenPlayerConsole.log("API : getCurrentSource() ",s.getCurrentSource()),s.getCurrentSource()):null,e.setCurrentSource=c=>{if(!s)return null;OvenPlayerConsole.log("API : setCurrentSource() ",c);let p=s.getPosition();return a.setSourceIndex(c),f(p).then(function(){e.trigger(fr,{currentSource:c})}),c},e.getQualityLevels=()=>s?(OvenPlayerConsole.log("API : getQualityLevels() ",s.getQualityLevels()),s.getQualityLevels()):null,e.getCurrentQuality=()=>s?(OvenPlayerConsole.log("API : getCurrentQuality() ",s.getCurrentQuality()),s.getCurrentQuality()):null,e.setCurrentQuality=c=>s?(OvenPlayerConsole.log("API : setCurrentQuality() ",c),s.setCurrentQuality(c)):null,e.getAudioTracks=()=>s?(OvenPlayerConsole.log("API : getAudioTracks() ",s.getAudioTracks()),s.getAudioTracks()):null,e.getCurrentAudioTrack=()=>s?(OvenPlayerConsole.log("API : getCurrentAudioTrack() ",s.getCurrentAudioTrack()),s.getCurrentAudioTrack()):null,e.setCurrentAudioTrack=c=>s?(OvenPlayerConsole.log("API : setCurrentAudioTrack() ",c),s.setCurrentAudioTrack(c)):null,e.isAutoQuality=()=>s?(OvenPlayerConsole.log("API : isAutoQuality()"),s.isAutoQuality()):null,e.setAutoQuality=c=>s?(OvenPlayerConsole.log("API : setAutoQuality() ",c),s.setAutoQuality(c)):null,e.getCaptionList=()=>u?(OvenPlayerConsole.log("API : getCaptionList() ",u.getCaptionList()),u.getCaptionList()):null,e.getCurrentCaption=()=>u?(OvenPlayerConsole.log("API : getCurrentCaption() ",u.getCurrentCaption()),u.getCurrentCaption()):null,e.setCurrentCaption=c=>{if(!u)return null;OvenPlayerConsole.log("API : setCurrentCaption() ",c),u.setCurrentCaption(c)},e.addCaption=c=>u?(OvenPlayerConsole.log("API : addCaption() "),u.addCaption(c)):null,e.removeCaption=c=>u?(OvenPlayerConsole.log("API : removeCaption() ",c),u.removeCaption(c)):null,e.getBuffer=()=>{if(!s)return null;OvenPlayerConsole.log("API : getBuffer() ",s.getBuffer()),s.getBuffer()},e.getState=()=>s?(OvenPlayerConsole.log("API : getState() ",s.getState()),s.getState()):null,e.stop=()=>{if(!s)return null;OvenPlayerConsole.log("API : stop() "),s.stop()},e.remove=()=>{OvenPlayerConsole.log("API : remove() "),u&&(u.destroy(),u=null),s&&(s.destroy(),s=null),i&&(i.destroy(),i=null),e.trigger(Yo),e.off(),n=null,r=null,a=null,OvenPlayerConsole.log("API : remove() - currentProvider, providerController, playlistManager, playerConfig, api event destroed. "),vn.removePlayer(e)},e.getMediaElement=()=>s.getMediaElement(),e.getVersion=()=>Je,e};function wl(){const t={},e=t.playerList=[];return t.create=function(r,n){(!window.OvenPlayerConsole||Object.keys(window.OvenPlayerConsole).length===0)&&(window.OvenPlayerConsole={},OvenPlayerConsole.log=function(){});let o=fi(r);const i=Fl(o);return i.init(n),e.push(i),i},t.getPlayerList=function(){return e},t.getPlayerByContainerId=function(r){for(let n=0;n<e.length;n++)if(e[n].getContainerId()===r)return e[n];return null},t.getPlayerByIndex=function(r){const n=e[r];return n||null},t.removePlayer=function(r){for(let n=0;n<e.length;n++)e[n]===r&&e.splice(n,1)},t.generateWebrtcUrls=function(r){return(K.isArray(r)?r:[r]).map(function(n,o){if(n.host&&zt(n.host)&&n.application&&n.stream)return{file:n.host+"/"+n.application+"/"+n.stream,type:"webrtc",label:n.label?n.label:"webrtc-"+(o+1)}})},t.debug=function(r){return r?window.OvenPlayerConsole={log:window.console.log}:window.OvenPlayerConsole={log:function(){}},r},t}const vn=wl(),Tl=function(t){return`<div class="textView" style="padding : 5px; background: red; position : absolute; top: 0;"><h3>${t}</h3><button type="button" class="btn">button</button></div>`},Bl=function(t,e){return`<div class="ovenplayer op-wrapper" tabindex="-1" ${e?`id = "${e}"`:""}><div class="op-ratio"></div><div class="op-player op-clear"><div class="op-core-ui-wrapper op-clear"><div class="op-media-element-container op-clear"></div><div class="op-ui op-clear"></div></div></div></div>`},Sl=function(t,e){return'<div class="op-helpers-container"></div>'},kl=(t,e)=>`<div class="op-bigbutton-container ">${e===pe?'<i class="op-con op-pause-big"></i>':""}${e===Ye?'<i class="op-bigbutton op-con op-play-big"></i>':""}${e===Ce?'<i class="op-bigbutton op-con op-play-big"></i>':""}${e===he?'<i class="op-bigbutton op-con op-replay-big"></i>':""}</div>`,Rl=(t,e)=>`<div class="op-thumbnail-container"><div class="op-thumbnail-wrapper">${e.title?`<div class="op-thumbnail-header">${e.title}</div>`:""}</div></div>`,Pl=(t,e)=>`<div class="op-watermark-container"><div class="op-watermark">${e.waterMark.image?`<img src="${e.waterMark.image}">`:""}${e.waterMark.text?`<span class="op-watermark-text">${e.waterMark.text}</span>`:""}</div></div>`,Nl=(t,e)=>`<div class="op-message-box op-clear ${e.dontClose===!0?"op-message-box-default-cursor":""}"><div class="op-message-container "><div class="op-message-text">${e.message}${e.description?`<div class="op-message-description">${e.description}</div>`:""}</div>${e.iconClass?`<div class="op-message-icon"><i class="op-con ${e.iconClass}"></i></div>`:""}</div></div>`,Ol=t=>'<div class="op-spinner-container"><div class="op-spinner"></div></div>',Ll=t=>`<div class="op-context-panel animated fadeIn"><div class="op-context-item" tabindex="1"><span class="op-context-item-text">${t.context} ${Je}</span></div></div>`,Il=t=>'<div class="op-caption-viewer">    <div class="op-caption-text-container">        <pre class="op-caption-text"></pre>      </div></div>',Ml=function(t,e){return`<div class="op-controls-container op-clear"><div class="op-bottom-panel op-clear"><div class="op-gradient-bottom op-clear"></div><div class="op-controls op-clear"><div class="op-left-controls op-clear"></div><div class="op-right-controls op-clear"><div class="playlist-holder op-navigators op-clear">${e?'<button class="op-button op-playlist-button"><i class="op-con op-playlist-icon"></i></button>':""}</div><div class="setting-holder op-navigators op-clear"></div><div class="fullscreen-holder op-navigators op-clear"></div></div></div><div class="op-progressbar-container op-clear"></div></div></div>`},_l=t=>'<div class="op-navigators op-volume-controller"><button class="op-button op-volume-button"><i class="op-con op-volume-max"></i><i class="op-con op-volume-small"></i><i class="op-con op-volume-mute"></i></button><div class="op-volume-slider-container"><div class="op-volume-silder"><div class="op-volume-slider-bg"></div><div class="op-volume-slider-value"></div><div class="op-volume-slider-handle"></div></div></div></div>',Ul=t=>'<div class="op-progressbar" tabindex="0"><div class="op-progressbar-padding"></div><div class="op-progress-list"><div class="op-load-progress"></div><div class="op-play-progress op-play-background-color"></div><div class="op-hover-progress"></div></div><div class="op-progressbar-knob-container"><div class="op-progressbar-knob op-play-background-color"></div></div><span class="op-progressbar-preview"></span><span class="op-progressbar-time">00:00</span></div>',Vl=t=>'<div class="op-navigators op-play-controller"><button class="op-button op-play-button" type="button"><i class="op-con op-play"></i><i class="op-con op-pause" style="display: none;"></i><i class="op-con op-replay" style="display: none;"></i></button><button class="op-button op-seek-button op-seek-button-back" type="button"><i class="op-con op-seek-back"></i><span class="op-seek-back-text">10</span></button><button class="op-button op-seek-button op-seek-button-forward" type="button"><i class="op-con op-seek-forward"></i><span class="op-seek-forward-text">10</span></button></div>',ql=t=>'<button class="op-button op-setting-button"><i class="op-con op-setting"></i></button>',Wl=t=>'<div class="op-frame-buttons"><button class="op-button op-frame-button" op-data-value="-5"><div class="frame-icon"><span class="btn-text">-5f</span></div></button><button class="op-button op-frame-button" op-data-value="-1"><div class="frame-icon"><span class="btn-text">-1f</span></div></button><button class="op-button op-frame-button" op-data-value="+1"><div class="frame-icon reverse"><span class="btn-text">+1f</span></div></button><button class="op-button op-frame-button" op-data-value="+5"><div class="frame-icon reverse"><span class="btn-text">+5f</span></div></button></div>',zl=(t,e)=>'<div class="op-navigators op-time-display">'+(e.duration===1/0?'<span class="op-live-badge" disabled="disabled">'+(e.type==="webrtc"?e.isP2P?`<span class="op-live-badge-lowlatency">${t.controls.low_latency_p2p}</span>`:`<span class="op-live-badge-lowlatency">${t.controls.low_latency_live}</span>`:`<span class="op-live-text" title="Skip ahead to live.">${t.controls.live}</span>`)+"</span>":'<span class="op-time-current">00:00</span><span class="op-time-separator"> / </span><span class="op-time-duration">00:00</span>')+"</div>",Ql=t=>'<button class="op-button op-fullscreen-button"><i class="op-con op-fullscreen-expand"></i><i class="op-con op-fullscreen-compress"></i></button>',$e=(t,e)=>{let r='<div id="'+e.id+'" class="op-setting-panel '+(e.isRoot?"animated fadeIn":"")+'" style="max-height: '+e.height+'px"><div class="op-setting-title-container"><div class="op-setting-title" tabindex="0">'+(e.isRoot?"":'<span class="op-setting-title-previcon">&lt;</span>')+'<span class="op-setting-title-title">'+e.title+'</span></div></div><div class="op-setting-item-container">';return K.forEach(e.body,function(n){r+=Hl(n,e.useCheck)}),r+="</div></div>",r},Hl=(t,e)=>'<div class="op-setting-item" op-panel-type="'+t.panelType+'" op-data-value="'+t.value+'">'+(e?'<span class="op-setting-item-checked '+(t.isCheck?"op-show":"")+'">&#x2713;</span>':"")+'<span class="op-setting-item-title">'+t.title+"</span>"+(t.hasNext?'<span class="op-setting-item-nexticon">&gt;</span><span class="op-setting-item-value">'+t.description+"</span>":"")+"</div>",Xl=(t,e)=>`<div class="op-playlist" tabindex="0"><div class="op-playlist-header">${t.playlist} <i class="op-con op-close-icon btn-close"></i></div><div class="op-playlist-body"><div class="op-playlist-body-container"><div class="op-playlist-body-center"><div class="op-playlist-body-row"></div></div></div><div class="op-playlist-body-arrows"><i class="op-con op-arrow-left btn-left"></i><i class="op-con op-arrow-right btn-right"></i></div></div></div>`,Gl=(t,e)=>`<div class="op-playlist-card ${e?"active":""}" data-index="${t.index}"><div class="op-playlist-card-thumbnail ${t.image?"":"empty"}">${t.image?`<img src=${t.image}>`:'<i class="op-con op-empty-video"></i>'} ${t.duration?`<span class="op-badge">${It(t.duration)}</span>`:""} </div><div class="op-playlist-card-title">${t.title}</div></div>`,Ii={TextViewTemplate:Tl,ViewTemplate:Bl,HelpersTemplate:Sl,BigButtonTemplate:kl,ThumbnailTemplate:Rl,WaterMarkTemplate:Pl,MessageBoxTemplate:Nl,SpinnerTemplate:Ol,ContextPanelTemplate:Ll,CaptionViewerTemplate:Il,ControlsTemplate:Ml,VolumeButtonTemplate:_l,ProgressBarTemplate:Ul,PlayButtonTemplate:Vl,SettingButtonTemplate:ql,FrameButtonsTemplate:Wl,TimeDisplayTemplate:zl,FullScreenButtonTemplate:Ql,PanelsTemplate:$e,SpeedPanelTemplate:$e,ZoomPanelTemplate:$e,SourcePanelTemplate:$e,QualityPanelTemplate:$e,AudioTrackPanelTemplate:$e,CaptionPanelTemplate:$e,TimeDisplayPanelTemplate:$e,PlaylistPanelTemplate:Xl},ue=function(t,e,r,n,o,i,s,a){let u=K.isElement(t)?Z(t):t,l,f={},c=null,p={};p.data=n;let g=function(h){const x=document.createElement("div");return x.innerHTML=h,l=Z(x.firstChild),x.firstChild};return r&&r.systemText&&(c=r.systemText.ui),a?u.replace(g(Ii[e+"Template"](c,n))):u.append(g(Ii[e+"Template"](c,n))),i&&i(l,p),Object.keys(o).forEach(h=>{let x=h.split(" "),A=x[0].replace(/ /gi,""),y=x[1].replace(/ /gi,""),F="";if(y==="document"||y==="window"||y==="body"?F=Z(y):F=l.find(y)||(l.hasClass(y.replace(".",""))?l:null),A&&y&&F){let O=Object.keys(f).length++,b=function(C){return o[h](C,l,p)};f[O]={name:A,target:y,callback:b};let w=null;A.indexOf("touch")>-1&&(w={passive:!0});let R=F.get().length;if(R>1){let C=F.get();for(let N=0;N<R;N++)C[N].addEventListener(A,b,w)}else F.get().addEventListener(A,b,w)}else return!1}),p.destroy=function(){Object.keys(f).forEach(h=>{let x=f[h],A="";x.target==="document"||x.target==="window"||x.target==="body"?A=Z(x.target):A=l.find(x.target)||(l.hasClass(x.target.replace(".",""))?l:null);let y=A.get().length;if(y>1){let F=A.get();for(let O=0;O<y;O++)F[O].removeEventListener(x.name,x.callback)}else A.get().removeEventListener(x.name,x.callback);delete f[h]}),l&&(a?(l.removeChild(),l.removeAttribute("class")):l.remove()),s&&s(p)},p},Yl=function(t,e,r){const n=function(s,a,u){},o=function(){},i={"click .op-bigbutton-container":function(s){s.preventDefault(),s.stopPropagation();const a=e.getState();let u=e.getPlaylist(),l=e.getCurrentPlaylist();a===Ce||a===Ye?e.play():a===vt?e.setCurrentSource(e.getCurrentSource()):a===he&&u.length===l+1&&(e.seek(0),e.play())}};return ue(t,"BigButton",e.getConfig(),r,i,n,o)},Mi=function(t,e,r,n,o,i,s,a){let u="",l={message:r,description:n,iconClass:i,dontClose:a};const f=function(g,h){o&&(u=setTimeout(function(){h.destroy()},o||5e3))},c=function(){},p={"click .op-message-text":function(g,h,x){g.stopPropagation(),!a&&(u&&clearTimeout(u),s&&s(),x.destroy())},"click .op-con":function(g,h,x){g.preventDefault(),!a&&(u&&clearTimeout(u),s&&s(),x.destroy())}};return ue(t,"MessageBox",e.getConfig(),l,p,f,c)},Zl=function(t,e,r){Z(e.getContainerElement());const n=function(s,a,u){let l=!1,f=0;e.on(cn,function(c){c>-1?l=!1:(l=!0,s.find(".op-caption-text").text(""))},u),e.on(ln,function(c){if(!l&&c&&c.text){let p=c.endTime-c.startTime;f&&clearTimeout(f),s.find(".op-caption-text").html(c.text),p&&(f=setTimeout(function(){s.find(".op-caption-text").text("")},p*1e3))}},u)},o=function(s){t.find(".op-caption-text").text(""),e.off(cn,null,s),e.off(ln,null,s)},i={};return ue(t,"CaptionViewer",e.getConfig(),r,i,n,o)},$l=function(t,e,r){const n=function(s,a){},o=function(){},i={};return ue(t,"Thumbnail",e.getConfig(),r,i,n,o)},jl=function(t,e,r){let n=null,o=null;const i="top-right",s="2.8125%",a="5%",u="auto",l="auto",f=.7,c=function(h,x){n=h.find(".op-watermark"),o=h.find(".op-watermark-text");let A=e.getConfig().waterMark,y=A.position||i,F=A.y||a,O=A.x||s;n.css(y.split("-")[0],F),n.css(y.split("-")[1],O);let b=A.width||u,w=A.height||l;n.css("width",b),n.css("height",w);let R=A.opacity||f;n.css("opacity",R),A.text&&A.font&&K.each(A.font,function(C,N){o.css(N,C)})},p=function(){},g={};return ue(t,"WaterMark",e.getConfig(),r,g,c,p)},Kl=function(t,e){let r="";const n=function(s,a){r=s},o=function(){},i={};return Object.assign(ue(t,"Spinner",e.getConfig(),null,i,n,o),{show:function(s){s?r.show():r.hide()}})},Jl=function(t,e){let r=!1,n="",o="",i="",s,a,u=null,l=e.getConfig().image||e.getConfig().title,f=e.getConfig().waterMark&&e.getConfig().waterMark.image||e.getConfig().waterMark&&e.getConfig().waterMark.text,c=!1;const p=function(x,A){let y=!1,F=-1;function O(C){e.getConfig().showBigPlayButton&&(e.getState()===Ce||e.getState()===he)&&(o&&o.destroy(),n&&n.destroy(),n=Yl(x,e,C))}function b(C,N,E,S,I,L){n&&n.destroy(),o&&o.destroy(),o=Mi(x,e,C,N,E,S,I,L)}function w(){const C=e.getMediaElement();C&&(C.poster=""),e.getConfig().image&&(C.poster=e.getConfig().image),s&&s.destroy(),s=$l(x,e,e.getConfig())}function R(){a&&a.destroy(),a=jl(x,e,e.getConfig())}i=Kl(x,e),Zl(x,e),e.on(st,function(){l&&w(),f&&R(),r||(O(Ye),r=!0)},A),e.on(sn,function(C){C.message&&(n&&n.destroy(),o&&o.destroy(),u=Mi(x,e,C.message,null,C.timer,C.iconClass,C.onClickCallback,!1),e.once(qt,function(N){!N.mute&&u&&u.destroy()},A))},A),e.on(at,function(C){C&&C.newstate&&(C.newstate===Ce&&o&&o.destroy(),C.newstate===pe||C.newstate===we?(c=!1,o&&o.destroy(),n&&n.destroy(),s&&s.destroy(),y||i.show(!1)):C.newstate===he?(i.show(!1),O(C.newstate)):C.newstate===We||C.newstate===iu?(c=!1,o&&o.destroy(),n&&n.destroy(),i.show(!0)):y||i.show(!1))},A),e.on(fr,function(){l&&w()}),e.on(ze,function(C){if(C.currentQuality<0)return!1;C.isAuto?(y=!1,i.show(!1)):C.type==="request"?(F=C.currentQuality,y=!0,i.show(!0)):C.type==="render"&&F===C.currentQuality&&(y=!1,i.show(!1))},A),e.on(ke,function(C){if(C.code===510&&(c=!0),C.code===101&&e.getPlaylist().length===0&&(c=!0),c)return;let N="",E="";n&&n.destroy(),C&&C.code&&C.code>=100&&C.code<1e3?(N=C.message,C.code===100&&(E=C.error.toString())):N="Can not play due to unknown reasons.",OvenPlayerConsole.log("error occured : ",C),b(N,E,null,ai.op_warning+" code-"+C.code,null,!0)},A),e.on(Zo,function(C){let N="Because the network connection is unstable, the following media source will be played.";e.getCurrentSource()+1===e.getQualityLevels().length&&(N="Network connection is unstable. Check the network connection."),OvenPlayerConsole.log(N)},A),e.on(on,function(){l&&w()},A)},g=function(x){e.off(st,null,x),e.off(at,null,x),e.off(sn,null,x),e.off(ke,null,x),e.off(Zo,null,x),e.off(on,null,x),e.off(ur,null,x)},h={};return ue(t,"Helpers",e.getConfig(),null,h,p,g)},ec=function(t,e){let r="",n="",o="",i="",s="",a="",u="";function l(g){r.hide(),n.hide(),o.hide(),g===pe||g===we||g===We||g===ir?n.show():g===Ye||g===Ze?r.show():g===he?o.show():r.show()}const f=function(g,h){r=g.find(".op-play-button .op-play"),n=g.find(".op-play-button .op-pause"),o=g.find(".op-play-button .op-replay"),i=g.find(".op-seek-button-back"),s=g.find(".op-seek-button-forward"),a=g.find(".op-seek-back-text"),u=g.find(".op-seek-forward-text"),e.on(at,function(A){A&&A.newstate&&l(A.newstate)},h),e.getConfig().showSeekControl||(i.hide(),s.hide());let x=e.getConfig().seekControlInterval;x?(a.text(x),u.text(x)):(a.text(10),u.text(10))},c=function(g){e.off(at,null,g)},p={"click .op-play-button":function(g,h,x){g.preventDefault();let A=e.getState(),y=e.getPlaylist(),F=e.getCurrentPlaylist();A===Ce?e.play():A===pe||A===we?e.pause():A===We||A===ir?e.stop():A===Ye||A===Ze?e.play():A===vt?e.setCurrentSource(e.getCurrentSource()):A===he&&y.length===F+1&&(e.seek(0),e.play())},"click .op-seek-button-back":function(g,h,x){let A=e.getConfig().seekControlInterval;A||(A=10);let y=e.getPosition()-A;y<0&&(y=0),e.seek(y)},"click .op-seek-button-forward":function(g,h,x){let A=e.getConfig().seekControlInterval;A||(A=10);let y=e.getPosition()+A;y>e.getDuration()&&(y=e.getDuration()),e.seek(y)}};return ue(t,"PlayButton",e.getConfig(),null,p,f,c)};let Ie=[];const Re=function(){const t={};let e=function(){for(let r=0;r<Ie.length;r++)Ie[r].data.setFront(!1);Ie.length&&Ie[Ie.length-1].data.setFront(!0)};return t.clear=()=>{K.each(Ie,function(r){r.destroy()}),Ie=[],e()},t.removeLastItem=()=>{Ie.pop().destroy(),e()},t.add=r=>{Ie.push(r),e()},t.size=()=>Ie.length,t},tc=function(t,e,r){const n=Z(e.getContainerElement());let o=Re();r.setFront=function(u){u?n.find("#"+r.id).removeClass("background"):n.find("#"+r.id).addClass("background")};const i=function(u,l){},s=function(u){},a={"click .op-setting-item":function(u,l,f){u.preventDefault();let c=Z(u.currentTarget).attr("op-data-value");e.setPlaybackRate(parseFloat(c)),o.clear()},"click .op-setting-title":function(u,l,f){u.preventDefault(),o.removeLastItem()}};return ue(t,"SpeedPanel",e.getConfig(),r,a,i,s)},rc=function(t,e,r){const n=Z(e.getContainerElement()),o=n.find(".op-media-element-container");let i=Re(),s="--mediaZoom";r.setFront=function(f){f?n.find("#"+r.id).removeClass("background"):n.find("#"+r.id).addClass("background")};const a=function(f,c){},u=function(f){},l={"click .op-setting-item":function(f,c,p){f.preventDefault();let g=Z(f.currentTarget).attr("op-data-value"),h=e.getZoomFactor();g==0?h=1:h=parseFloat(h)+parseFloat(g),h<=0&&(h=0),o.get().style.setProperty(s,e.setZoomFactor(parseFloat(h).toFixed(2)))},"click .op-setting-title":function(f,c,p){f.preventDefault(),i.removeLastItem()}};return ue(t,"ZoomPanel",e.getConfig(),r,l,a,u)},nc=function(t,e,r){const n=Z(e.getContainerElement());let o=Re();r.setFront=function(u){u?n.find("#"+r.id).removeClass("background"):n.find("#"+r.id).addClass("background")};const i=function(u,l){},s=function(u){},a={"click .op-setting-item":function(u,l,f){u.preventDefault();let c=Z(u.currentTarget).attr("op-data-value");e.setCurrentSource(parseInt(c)),o.clear()},"click .op-setting-title":function(u,l,f){u.preventDefault(),o.removeLastItem()}};return ue(t,"SourcePanel",e.getConfig(),r,a,i,s)},oc=function(t,e,r){const n=Z(e.getContainerElement());let o=Re();r.setFront=function(u){u?n.find("#"+r.id).removeClass("background"):n.find("#"+r.id).addClass("background")};const i=function(u,l){e.on(ze,function(f){let c=f.currentQuality;f.type==="render"&&K.forEach(n.find("#"+l.data.id).find(".op-setting-item").get(),function(p){let g=Z(p);g.find(".op-setting-item-checked").hasClass("op-show")&&g.find(".op-setting-item-checked").removeClass("op-show"),!f.isAuto&&c===parseInt(g.attr("op-data-value"))&&g.find(".op-setting-item-checked").addClass("op-show"),f.isAuto&&g.attr("op-data-value")==="AUTO"&&g.find(".op-setting-item-checked").addClass("op-show")})},l)},s=function(u){e.off(ze,null,u)},a={"click .op-setting-item":function(u,l,f){u.preventDefault();let c=Z(u.currentTarget).attr("op-data-value");c==="AUTO"?e.setAutoQuality(!e.isAutoQuality()):e.setCurrentQuality(parseInt(c)),o.clear()},"click .op-setting-title":function(u,l,f){u.preventDefault(),o.removeLastItem()}};return ue(t,"QualityPanel",e.getConfig(),r,a,i,s)},ic=function(t,e,r){const n=Z(e.getContainerElement());let o=Re();r.setFront=function(u){u?n.find("#"+r.id).removeClass("background"):n.find("#"+r.id).addClass("background")};const i=function(u,l){e.on(Wt,function(f){K.forEach(n.find("#"+l.data.id).find(".op-setting-item").get(),function(c){let p=Z(c);p.find(".op-setting-item-checked").hasClass("op-show")&&p.find(".op-setting-item-checked").removeClass("op-show"),f.currentAudioTrack===parseInt(p.attr("op-data-value"))&&p.find(".op-setting-item-checked").addClass("op-show")})},l)},s=function(u){e.off(Wt,null,u)},a={"click .op-setting-item":function(u,l,f){u.preventDefault();let c=Z(u.currentTarget).attr("op-data-value");e.setCurrentAudioTrack(parseInt(c)),o.clear()},"click .op-setting-title":function(u,l,f){u.preventDefault(),o.removeLastItem()}};return ue(t,"AudioTrackPanel",e.getConfig(),r,a,i,s)},sc=function(t,e,r){const n=Z(e.getContainerElement());let o=Re();r.setFront=function(u){u?n.find("#"+r.id).removeClass("background"):n.find("#"+r.id).addClass("background")};const i=function(u,l){},s=function(u){},a={"click .op-setting-item":function(u,l,f){u.preventDefault();let c=Z(u.currentTarget).attr("op-data-value");e.setCurrentCaption(parseFloat(c)),o.clear()},"click .op-setting-title":function(u,l,f){u.preventDefault(),o.removeLastItem()}};return ue(t,"CaptionPanel",e.getConfig(),r,a,i,s)},ac=function(t,e,r){const n=Z(e.getContainerElement());let o=Re();r.setFront=function(u){u?n.find("#"+r.id).removeClass("background"):n.find("#"+r.id).addClass("background")};const i=function(u,l){},s=function(u){},a={"click .op-setting-item":function(u,l,f){u.preventDefault();let c=Z(u.currentTarget).attr("op-data-value");e.setTimecodeMode(c==="Play time"),o.clear()},"click .op-setting-title":function(u,l,f){u.preventDefault(),o.removeLastItem()}};return ue(t,"TimeDisplayPanel",e.getConfig(),r,a,i,s)};let vr={speed:"Speed",zoom:"Zoom",speedUnit:"x",source:"Source",quality:"Quality",audioTrack:"Audio",caption:"Caption",display:"Display"};const uc=function(t,e,r){const n=Z(e.getContainerElement());let o=Re(),i=e.getConfig();i&&i.systemText&&Object.keys(vr).forEach(c=>{vr[c]=i.systemText.ui.setting[c]});function s(c,p){let g={id:"panel-"+new Date().getTime(),title:"",body:[],useCheck:!0,panelType:p,height:n.height()-n.find(".op-bottom-panel").height()};if(g.title=vr[p],p==="speed"){let h=c.getConfig().playbackRates,x=c.getPlaybackRate();for(let A=0;A<h.length;A++){let y={title:h[A]+vr.speedUnit,isCheck:x===h[A],value:h[A],description:h[A],panelType:p};g.body.push(y)}}else if(p==="zoom"){let h={title:"+5%",isCheck:!1,value:.05,description:.05,panelType:p},x={title:"100%",isCheck:!1,value:0,description:1,panelType:p},A={title:"-5%",isCheck:!1,value:-.05,description:-.05,panelType:p};g.body.push(h),g.body.push(x),g.body.push(A)}else if(p==="source"){let h=c.getSources();for(let x=0;x<h.length;x++){let A={title:h[x].label,isCheck:c.getCurrentSource()===x,value:x,panelType:p};g.body.push(A)}}else if(p==="quality"){let h=c.getQualityLevels(),x=c.isAutoQuality();g.body.push({title:i.systemText.ui.quality.auto,isCheck:x,value:"AUTO",panelType:p});for(let A=0;A<h.length;A++){let y={title:h[A].label,isCheck:!x&&c.getCurrentQuality()===A,value:A,panelType:p};g.body.push(y)}}else if(p==="audioTrack"){let h=c.getAudioTracks();for(let x=0;x<h.length;x++){let A={title:h[x].label,isCheck:h[x].index===c.getCurrentAudioTrack(),value:h[x].index,panelType:p};g.body.push(A)}}else if(p==="caption"){let h=c.getCaptionList();g.body.push({title:"OFF",isCheck:c.getCurrentCaption()===-1,value:-1,panelType:p});for(let x=0;x<h.length;x++){let A={title:h[x].label,isCheck:c.getCurrentCaption()===x,value:x,panelType:p};g.body.push(A)}}else if(p==="display"){let h=["Play time","Framecode"];for(let x=0;x<h.length;x++){let A={title:h[x],isCheck:c.isTimecodeMode()?h[x]==="Play time":h[x]==="Framecode",value:h[x],panelType:p};g.body.push(A)}}return g}r.setFront=function(c){c?n.find("#"+r.id).removeClass("background"):n.find("#"+r.id).addClass("background")};function a(){n.find(".op-setting-panel")&&n.find(".op-setting-panel").css("max-height",n.height()-n.find(".op-bottom-panel").height()+"px")}const u=function(c,p){a(),e.on(ze,function(g){let h=g.currentQuality;g.type==="render"&&n.find("#"+p.data.id).find(".op-setting-item")&&K.forEach(n.find("#"+p.data.id).find(".op-setting-item").get()||[],function(x){let A=Z(x);if(A.attr("op-panel-type")==="quality"){let F=e.getQualityLevels()[h];A.find(".op-setting-item-value").text(F.width+"x"+F.height+", "+xn(F.bitrate,!0,"bps"))}})},p),e.on(Wt,function(g){K.forEach(n.find("#"+p.data.id).find(".op-setting-item").get()||[],function(h){let x=Z(h);x.attr("op-panel-type")==="audioTrack"&&x.find(".op-setting-item-value").text(e.getAudioTracks()[g.currentAudioTrack].label)})},p),e.on(an,function(g){K.forEach(n.find("#"+p.data.id).find(".op-setting-item").get()||[],function(h){let x=Z(h);x.attr("op-panel-type")==="zoom"&&x.find(".op-setting-item-value").text(Math.round(g.zoomFactor*100)+"%")})},p)},l=function(c){e.off(ze,null,c),e.off(Wt,null,c),e.off(an,null,c)},f={"click .op-setting-item":function(c,p,g){if(c.preventDefault(),n.find("#"+r.id).hasClass("background"))return!1;let h=Z(c.currentTarget).attr("op-panel-type"),x=null;h==="speed"?x=tc(t,e,s(e,h)):h==="zoom"?x=rc(t,e,s(e,h)):h==="source"?x=nc(t,e,s(e,h)):h==="quality"?x=oc(t,e,s(e,h)):h==="audioTrack"?x=ic(t,e,s(e,h)):h==="caption"?x=sc(t,e,s(e,h)):h==="display"&&(x=ac(t,e,s(e,h))),o.add(x)},"click .op-setting-title":function(c,p,g){if(c.preventDefault(),n.find("#"+r.id).hasClass("background"))return!1;o.removeLastItem()}};return ue(t,"Panels",e.getConfig(),r,f,u,l)};let Pe={speed:"Speed",speedUnit:"x",source:"Source",quality:"Quality",audioTrack:"Audio",caption:"Caption",display:"Display",zoom:"Zoom"};const lc=function(t,e){let r=Re();function n(a){let u={id:"panel-"+new Date().getTime(),title:"Settings",body:[],isRoot:!0,panelType:""},l=a.getConfig();l&&l.systemText&&(Object.keys(Pe).forEach(b=>{Pe[b]=l.systemText.ui.setting[b]}),u.title=l.systemText.ui.setting.title);let f=a.getSources(),c=f&&f.length>0?f[a.getCurrentSource()]:null,p=a.getQualityLevels(),g=p&&p.length>0?p[a.getCurrentQuality()]:null,h=a.getAudioTracks(),x=h&&h.length>0?h[a.getCurrentAudioTrack()]:null,A=a.getCaptionList(),y=a.getCurrentCaption(),F=a.getFramerate(),O=l.showZoomSettings;if(c){let b={title:Pe.speed,value:a.getPlaybackRate()+Pe.speedUnit,description:a.getPlaybackRate()+Pe.speedUnit,panelType:"speed",hasNext:!0};u.body.push(b)}if(f&&f.length>1){let b={title:Pe.source,value:c?c.label:"Default",description:c?c.label:"Default",panelType:"source",hasNext:!0};u.body.push(b)}if(p&&p.length>0){let b={title:Pe.quality,value:g?g.label:"Default",description:g?g.label:"Default",panelType:"quality",hasNext:!0};u.body.push(b)}if(h&&h.length>0){let b={title:Pe.audioTrack,value:x?x.label:"Default",description:x?x.label:"Default",panelType:"audioTrack",hasNext:!0};u.body.push(b)}if(A&&A.length>0){let b={title:Pe.caption,value:A[y]?A[y].label:"OFF",description:A[y]?A[y].label:"OFF",panelType:"caption",hasNext:!0};u.body.push(b)}if(F>0){let b={title:Pe.display,value:a.isTimecodeMode()?"Play time":"Framecode",description:a.isTimecodeMode()?"Play time":"Framecode",panelType:"display",hasNext:!0};u.body.push(b)}if(O){let b={title:Pe.zoom,value:Math.round(a.getZoomFactor()*100)+"%",description:Math.round(a.getZoomFactor()*100)+"%",panelType:"zoom",hasNext:!0};u.body.push(b)}return u}const o=function(a,u){},i=function(a){},s={"click .op-setting-button":function(a,u,l){a.preventDefault();let f=u.closest(".op-controls-container");if(r.size()>0)r.clear();else{let c=n(e);r.add(uc(f,e,c))}}};return ue(t,"SettingButton",e.getConfig(),null,s,o,i)},cc=function(t,e){let r="",n="",o="",i="",s="",a="",u="",l=!1,f=70,c=12,p=0,g=e.getBrowser().os==="iOS"||e.getBrowser().os==="Android";function h(w){s.hide(),a.hide(),u.hide(),w>=70?s.show():w<70&&w>0?a.show():w==0?u.show():s.show()}function x(w){e.getMute()&&(w=0),h(w);const R=p*w/100;o.css("left",R+"px"),i.css("width",R+"px")}function A(w){let C=((w.pageX||w.touches[0].clientX)-n.offset().left)/f*100;return C<0&&(C=0),C>100&&(C=100),C}const y=function(w,R){r=w.find(".op-volume-slider-container"),e.getBrowser().mobile&&r.hide(),n=w.find(".op-volume-silder"),o=w.find(".op-volume-slider-handle"),i=w.find(".op-volume-slider-value"),s=w.find(".op-volume-max"),a=w.find(".op-volume-small"),u=w.find(".op-volume-mute"),p=f-c/2,o.css("left",p+"px"),x(e.getVolume()),e.on(st,function(){x(e.getVolume())},R),e.on(Dt,function(C){x(C.volume)},R),e.on(qt,function(C){C.mute?x(0):x(e.getVolume())},R)},F=function(w){e.off(st,null,w),e.off(Dt,null,w),e.off(qt,null,w)},O={"click .op-volume-button":function(w,R,C){w.preventDefault(),g||(e.getVolume()===0?(e.setMute(!1),e.setVolume(100)):e.setMute())},"mouseenter .op-volume-button":function(w,R,C){w.preventDefault(),g||r.addClass("active")},"mouseleave .op-volume-silder":function(w,R,C){w.preventDefault(),l=!1},"mousedown .op-volume-silder":function(w,R,C){w.preventDefault(),l=!0,e.setMute(!1),e.setVolume(A(w))},"mouseup .op-volume-silder":function(w,R,C){w.preventDefault(),l=!1},"mousemove .op-volume-silder":function(w,R,C){if(w.preventDefault(),!l)return!1;e.setVolume(A(w))},"touchstart .op-volume-button":function(w){g&&(e.getMute()?e.setMute(!1):e.setMute(!0))}};let b=ue(t,"VolumeButton",e.getConfig(),null,O,y,F);return b.setMouseDown=w=>{l=w},b},fc=function(t,e,r,n){const o=Z(e.getContainerElement());e.getConfig().disableSeekUI&&t.addClass("op-progressbar-container-disabled");let i=0,s=!1,a=!1,u=Re(),l="",f=0,c=null,p="",g="",h="",x="",A="",y="",F=0,O="",b="",w=e.getBrowser().mobile;const R=e.getMediaElement();let C=!1,N=!1;n&&n.type===Ct&&n.duration===1/0&&(C=!0,e.getProviderName()===_t&&(N=!0));function E(P){P<0&&(P=0),P>1&&(P=1);let W=p.width(),D=W*P;h.css("width",D+"px"),x.css("left",D+"px");let B=(W-F)*P;A.css("left",B+"px"),i=D}function S(P){let D=p.width()*P;x.css("width",(P===0?P:D-i)+"px")}function I(P){let D=p.width()*P;g.css("width",D+"px")}function L(P){let W=p.width(),D=p.offset().left,B=P.pageX;P.touches&&(B=P.pageX||P.touches[0].clientX);let U=(B-D)/W;return U<0?0:U>1?1:U}function q(P,W){if(u.size()>0||P<0){O.hide(),b.hide();return}else O.show(),b.show();let D=0;D=M(P).second;let U=O.width(),z=p.width(),Q=z*P,J=W.pageX-p.offset().left;W.touches&&(J=(W.pageX||W.touches[0].clientX)-p.offset().left);const ee=function(j){return J<j/2?0:z-J<j/2?z-j:Q-j/2};let X=ee(U);if(O.css("left",X+"px"),e.getSources()[e.getCurrentSource()].gridThumbnail){let j=e.getConfig().gridThumbnail.thumbnailInterval,ne=e.getConfig().gridThumbnail.originalThumbnailWidth,ie=e.getConfig().gridThumbnail.originalThumbnailHeight,oe=e.getConfig().gridThumbnail.columnCount,ge=e.getConfig().gridThumbnail.rowCount,se=e.getConfig().gridThumbnail.resizeScale;b.css("width",ne*se+"px"),b.css("height",ie*se+"px"),b.css("background-size",ne*se*oe+"px "+ie*se*ge+"px");let Ne=Math.floor(D/j),de=Math.floor(Ne/(oe*ge)),ct=Math.floor(Ne%(oe*ge)/oe),ft=Ne%(oe*ge)%oe,Me=-1*ft*ne*se,_e=-1*ct*ie*se;OvenPlayerConsole.log("Grid Thumbnail:",Ne+": "+de+"("+ct+", "+ft+")");let fe=e.getSources()[e.getCurrentSource()].gridThumbnail[de];l!==fe&&(b.css("background-image","url("+fe+")"),l=fe),b.css("background-position","left "+Me+"px top "+_e+"px");let je=ee(ne*se);b.css("left",je+"px")}else b.hide()}function _(P){let W=(f||0)*P;if(C)if(N){const B=hr(R),U=B.end-B.start;W=B.start+U*P}else{const B=e.getDvrWindow();W=f-B+B*P}let D=e.getSources()[e.getCurrentSource()].sectionStart;D&&D>0&&(W=W+D),e.seek(W)}function M(P){let W=0,D=0;if(C&&!N)W=e.getDvrWindow(),D=W*(1-P),e.isTimecodeMode()?O.text("- "+It(D)):O.text("- "+Math.round(D*e.getFramerate()));else if(C&&N){const B=hr(R);W=B.end-B.start,D=W*(1-P),e.isTimecodeMode()?O.text("- "+It(D)):O.text("- "+Math.round(D*e.getFramerate()))}else W=e.getDuration(),D=W*P,e.isTimecodeMode()?O.text(It(D)):O.text(Math.round(D*e.getFramerate()));return{duration:W,second:D}}const G=function(P,W){p=P,g=P.find(".op-load-progress"),h=P.find(".op-play-progress"),x=P.find(".op-hover-progress"),A=P.find(".op-progressbar-knob-container"),y=P.find(".op-progressbar-knob"),F=y.width(),O=P.find(".op-progressbar-time"),b=P.find(".op-progressbar-preview"),y.hide(),r?e.on(cr,function(D){D&&D.duration&&typeof D.position=="number"&&(E(D.position/D.duration),D.duration)},W):(e.on(Le,function(D){if(D&&D.duration&&typeof D.position=="number"){y.show(),f=D.duration;let B=D.position/D.duration;if(C)if(!N)s&&c&&M(L(c)),B=(e.getDvrWindow()-(D.duration-D.position))/e.getDvrWindow();else{const U=hr(R);B=(D.position-U.start)/(U.end-U.start)}E(B)}},W),e.on(un,function(D){D&&D.bufferPercent&&I(D.bufferPercent/100)},W))},H=function(P){r?e.off(cr,null,P):(e.off(Le,null,P),e.off(un,null,P))};let Y={"touchstart .op-progressbar":function(P){if(r)return!1;a=!0;const W=L(P);if(W<0)return!1;E(W),S(0),_(W)},"touchmove .op-progressbar":function(P){if(a){const W=L(P);if(W<0)return!1;E(W),S(0),_(W),c=P,q(W,P)}},"touchend .op-progressbar":function(P){a&&(a=!1),o.removeClass("op-progressbar-hover"),O.hide(),b.hide()},"mouseenter .op-progressbar":function(P,W,D){P.preventDefault(),w||(r||(s=!0,O.show()),o.addClass("op-progressbar-hover"))},"mouseleave .op-progressbar":function(P,W,D){P.preventDefault(),s=!1,a=!1,s||(o.removeClass("op-progressbar-hover"),O.hide(),b.hide()),S(0)},"mousedown .op-progressbar":function(P,W,D){if(P.preventDefault(),r||w)return!1;a=!0;const B=L(P);if(B<0||B>1)return!1;E(B),S(0),_(B)},"mousemove .op-progressbar":function(P,W,D){if(P.preventDefault(),!a&&!r&&!w){const B=L(P);S(B),c=P,q(B,P)}if(a&&!w){const B=L(P);if(B<0)return!1;E(B),S(0),_(B),c=P,q(B,P)}},"mouseup .op-progressbar":function(P,W,D){P.preventDefault(),a&&!w&&(a=!1,o.removeClass("op-progressbar-hover"))}};return e.getConfig().disableSeekUI&&(Y={}),ue(t,"ProgressBar",e.getConfig(),null,Y,G,H)},dc=function(t,e){const r=Z(e.getContainerElement());let n="",o=e.getPlaylist(),i=o.length,s=6,a=0,u=[];r.width()>576?s=6:r.width()<=576&&(s=1);function l(x){let A=Math.ceil(i/s),y=e.getCurrentPlaylist();u=o.slice(x*s,x*s+s),n.find(".op-playlist-body-row").removeChild(),n.find(".op-arrow-left").removeClass("disable"),n.find(".op-arrow-right").removeClass("disable");for(let F=0;F<u.length;F++){let O=x*s+F;u[F].index=O,n.find(".op-playlist-body-row").get().append(c(Gl(u[F],y===O)))}x===0&&n.find(".op-arrow-left").addClass("disable"),x+1===A&&n.find(".op-arrow-right").addClass("disable")}function f(){let x=e.getCurrentPlaylist();return Math.ceil((x+1)/s)-1}function c(x){const A=document.createElement("div");return A.innerHTML=x,A.firstChild}const p=function(x,A){n=x,a=f(),l(a),e.on(Vt,function(y){y==="xsmall"&&s===6?(s=1,a=f(),l(a)):(y==="small"||y==="medium"||y==="large")&&s===1&&(s=6,a=f(),l(a))},A),e.on(ur,function(y){a=f(),l(a)},A),x.get().addEventListener("click",function(y){for(var F=y.target;F;){if(Z(F).hasClass("op-playlist-card")){e.setCurrentPlaylist(parseInt(Z(F).attr("data-index")));return}F=F.parentElement}},!0)},g=function(x){e.off(Vt,null,x),e.off(ur,null,x)},h={"click .btn-close":function(x,A,y){x.preventDefault(),y.destroy()},"click .op-arrow-left":function(x,A,y){x.preventDefault(),Z(x.target).hasClass("disable")||(a--,l(a))},"click .op-arrow-right":function(x,A,y){x.preventDefault(),Z(x.target).hasClass("disable")||(a++,l(a))}};return ue(t,"PlaylistPanel",e.getConfig(),o,h,p,g)},Ac=function(t,e,r){let n="",o="",i="";const s=e.getMediaElement();let a=!1,u=!1,l=0;function f(h){return It(h)}const c=function(h,x){l=0;let A=e.isTimecodeMode();n=h.find(".op-time-current"),o=h.find(".op-time-duration"),i=h.find(".op-live-badge"),h.find(".op-live-text"),r&&r.type===Ct&&r.duration===1/0&&(a=!0,e.getProviderName()===_t&&(u=!0)),r.duration!==1/0?(A?o.text(f(r.duration)):(n.text(0),o.text(Math.round(r.duration*e.getFramerate())+" ("+e.getFramerate()+"fps)")),e.on(fn,function(y){A=y,A?(n.text(f(l)),o.text(f(r.duration))):(n.text(Math.round(l*e.getFramerate())),o.text(Math.round(r.duration*e.getFramerate())+" ("+e.getFramerate()+"fps)"))},x),e.on(Le,function(y){l=y.position,A?n.text(f(y.position)):n.text(Math.round(y.position*e.getFramerate()))},x)):a&&!u?e.on(Le,function(y){e.getConfig().legacyUI||(e.getMseInstance().liveSyncPosition-y.position>e.getMseInstance().targetLatency?i.addClass("op-live-badge-delayed"):i.removeClass("op-live-badge-delayed"))},x):a&&u&&i.addClass("op-live-badge-none")},p=function(h){e.off(fn,null,h),e.off(Le,null,h)},g={"click .op-live-text":function(h,x,A){if(h.preventDefault(),a&&!u){const y=e.getMseInstance().liveSyncPosition;e.seek(y)}else a&&u&&e.seek(hr(s).end)}};return ue(t,"TimeDisplay",e.getConfig(),r,g,c,p)},gc=function(t,e){const r=Z(e.getContainerElement());let n="",o="",i=!1;e.getConfig();let s=e.getBrowser(),a=s.os==="iOS";s.os;let u="",l=!1,f={onfullscreenchange:"fullscreenchange",onmozfullscreenchange:"mozfullscreenchange",onwebkitfullscreenchange:"webkitfullscreenchange",MSFullscreenChange:"MSFullscreenChange"};e.toggleFullScreen=F;function c(){let R=!1;const C=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;return C&&r.get()===C&&(R=!0),R}function p(){OvenPlayerConsole.log("FULLSCREEN STATE : ",c()),c()?(l&&document.body.classList.add("op-fullscreen-helper"),r.addClass("op-fullscreen"),i=!0,n.hide(),o.show()):(l&&document.body.classList.remove("op-fullscreen-helper"),r.removeClass("op-fullscreen"),i=!1,n.show(),o.hide())}function g(){OvenPlayerConsole.log("afterFullScreenChangedCallback () "),p(),e.trigger(Ko,i)}function h(){i?(r.removeClass("op-fullscreen"),document.body.classList.remove("op-fullscreen-helper"),i=!1,n.show(),o.hide()):(document.body.classList.add("op-fullscreen-helper"),r.addClass("op-fullscreen"),i=!0,n.hide(),o.show()),e.trigger(Ko,i)}function x(){let R=r.get(),C="";return R.requestFullscreen?C=f.onfullscreenchange:R.webkitRequestFullScreen?C=f.onwebkitfullscreenchange:R.mozRequestFullScreen?C=f.onmozfullscreenchange:R.msRequestFullscreen?C=f.MSFullscreenChange:Object.keys(f).forEach(N=>{document[N]&&(C=f[N])}),C}function A(){let R="",C=r.get(),N=r.find("video")?r.find("video").get():C,E,S=null;if(a){if(N.length>1)for(let L=0;L<N.length;L++){let q=N[L].getAttribute("title");q&&q==="Advertisement"?S=N[L]:E=N[L]}else E=N;S&&e.getState()===nn||e.getState()===we||e.getState()===Ze?S.webkitEnterFullScreen&&(R=S.webkitEnterFullScreen(),i=!0):E.webkitEnterFullScreen&&(R=E.webkitEnterFullScreen(),i=!0)}else if(C.requestFullscreen){var I=e.getConfig().fullscreenOption;R=C.requestFullscreen(I)}else C.webkitRequestFullScreen?R=C.webkitRequestFullScreen():C.mozRequestFullScreen?R=C.mozRequestFullScreen():C.msRequestFullscreen&&(R=C.msRequestFullscreen());R&&R.then(function(){i=!0,l=!1}).catch(function(L){l=!0,h()})}function y(){let R="";document.exitFullscreen?R=document.exitFullscreen():document.webkitExitFullscreen?R=document.webkitExitFullscreen():document.webkitExitFullScreen?R=document.webkitExitFullScreen():document.mozCancelFullScreen?R=document.mozCancelFullScreen():document.msExitFullscreen&&(R=document.msExitFullscreen()),R&&R.then(function(){i=!1}).catch(function(C){})}function F(){!i||a&&!c()?a&&e.getConfig().iOSFakeFullScreen?(l=!0,h()):A():l?h():y()}const O=function(R,C){n=R.find(".op-fullscreen-expand"),o=R.find(".op-fullscreen-compress"),p(),u=x(),u&&document.addEventListener(u,g,!1),e.on(yt,function(N){let E=r.find("video")?r.find("video").get():r.get(),S;if(N.isLinear&&a&&i){if(E.length>1)for(let I=0;I<E.length;I++){let L=E[I].getAttribute("title");L&&L==="Advertisement"?E[I]:S=E[I]}else S=E;S&&S.webkitExitFullscreen&&(S.webkitExitFullscreen(),i=!1)}},C)},b=function(R){u&&document.removeEventListener(u,g),e.off(yt,null,R)},w={"click .op-fullscreen-button":function(R,C,N){R.preventDefault(),e.trigger(vu,null),F()}};return ue(t,"FullScreenButton",e.getConfig(),null,w,O,b)},En=function(t,e){let r="",n="",o="",i="",s="",a="",u=!1,l,f=!1,c=!1,p=e.getConfig().browser,g=p.os==="Android",h=p.os==="iOS";const x=Z(e.getContainerElement());let A={};u=e.getPlaylist().length>1,e.getConfig().hidePlaylistIcon===!0&&(u=!1),e.getConfig().legacyUI===!0&&(u=!0);const y=function(b,w){function R(){x.find(".op-setting-panel")&&x.find(".op-setting-panel").css("max-height",x.height()-x.find(".op-bottom-panel").height()+"px")}function C(M){s&&s.destroy(),s=Ac(b.find(".op-left-controls"),e,M)}function N(M,G){i&&i.destroy(),i=fc(b.find(".op-progressbar-container"),e,M,G)}function E(){o&&o.destroy(),o=lc(b.find(".setting-holder"),e)}function S(){a||(a=gc(b.find(".fullscreen-holder"),e))}function I(M){M.duration>9e15&&(M.duration=1/0);let G=e.getSources()[e.getCurrentSource()].sectionStart,H=e.getSources()[e.getCurrentSource()].sectionEnd;H&&(M.duration=H),G&&(M.duration=M.duration-G),C(M),S(),e.getFramerate&&e.getFramerate()>0,M.duration===1/0?(OvenPlayerConsole.log("[[[[LIVE MODE]]]]"),M.type===Ct?N(!1,M):i&&i.destroy()):N(!1),f=!0}function L(){i&&i.destroy(),E(),S(),x.removeClass("linear-ad"),N(!1)}n=ec(b.find(".op-left-controls"),e),r=cc(b.find(".op-left-controls"),e);let q=e.getPlaylist(),_=e.getCurrentPlaylist();q&&q[_]&&q[_].adTagUrl||E(),S(),e.on(st,function(){b.show()},w),e.on(bt,function(M){l=M.duration,A=M,M.isP2P=c,I(M)},w),e.on(Le,function(M){(g||e&&e.getProviderName&&e.getProviderName()==="rtmp")&&!l&&A&&A.duration!==M.duration&&(A=M,I(M))},w),e.on(Vt,function(M){R()},w),e.on(dr,function(M){c=M},w),e.on(lr,function(){if(!f){let M="";e.getSources().length>0&&e.getSources()[e.getCurrentSource()]&&e.getSources()[e.getCurrentSource()].type&&(M=e.getSources()[e.getCurrentSource()].type),I({isP2P:c,duration:e.getDuration(),type:M})}b.show()},w),e.on(ke,function(M){b.show()},w),e.on(yt,function(M){M.isLinear?(x.addClass("linear-ad"),N(!0),o&&o.destroy(),h&&a&&a.destroy()):x.removeClass("linear-ad")},w),e.on(Et,function(){L()},w),e.on(sr,function(){L()},w),e.on(fr,function(){L()},w)},F=function(b){e.off(bt,null,b),e.off(Le,null,b),e.off(Et,null,b),e.off(yt,null,b),e.off(dr,null,b),e.off(sr,null,b),e.off(Vt,null,b),e.off(fr,null,b),s&&s.destroy(),n&&n.destroy(),i&&i.destroy(),a&&a.destroy(),r&&r.destroy()},O={"mouseleave .op-controls":function(b,w,R){b.preventDefault(),r.setMouseDown(!1),w.find(".op-volume-slider-container").removeClass("active")},"click .op-playlist-button":function(b,w,R){b.preventDefault(),dc(w,e)}};return ue(t,"Controls",e.getConfig(),u,O,y,F)},pc=function(t,e,r){const n=Z(e.getContainerElement()),o=function(a,u){const l=a.width(),f=a.height(),c=Math.min(r.pageX-n.offset().left,n.width()-l),p=Math.min(r.pageY-n.offset().top,n.height()-f);a.css("left",c+"px"),a.css("top",p+"px")},i=function(){},s={"click .op-context-item":function(a,u,l){a.preventDefault(),window.open("https://github.com/AirenSoft/OvenPlayer","_blank")}};return ue(t,"ContextPanel",e.getConfig(),r,s,o,i)},mc=(function(){var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(i){return window.setTimeout(i,20)};function e(){this.q=[],this.add=function(a){this.q.push(a)};var i,s;this.call=function(){for(i=0,s=this.q.length;i<s;i++)this.q[i].call()}}function r(i,s){return i.currentStyle?i.currentStyle[s]:window.getComputedStyle?window.getComputedStyle(i,null).getPropertyValue(s):i.style[s]}function n(i,s){if(!i.resizedAttached)i.resizedAttached=new e,i.resizedAttached.add(s);else if(i.resizedAttached){i.resizedAttached.add(s);return}i.resizeSensor=document.createElement("div"),i.resizeSensor.className="resize-sensor";var a="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden; opacity: 0;direction: ltr;",u="position: absolute; left: 0; top: 0; transition: 0s;";i.resizeSensor.style.cssText=a,i.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+a+'"><div style="'+u+'"></div></div><div class="resize-sensor-shrink" style="'+a+'"><div style="'+u+' width: 200%; height: 200%"></div></div>',i.appendChild(i.resizeSensor),r(i,"position")=="static"&&(i.style.position="relative");var l=i.resizeSensor.childNodes[0],f=l.childNodes[0],c=i.resizeSensor.childNodes[1],p=function(){f.style.width="100000px",f.style.height="100000px",l.scrollLeft=1e5,l.scrollTop=1e5,c.scrollLeft=1e5,c.scrollTop=1e5};p();var g=!1,h=function(){i.resizedAttached&&(g&&(i.resizedAttached.call(),g=!1),t(h))};t(h);var x,A,y,F,O=function(){((y=i.offsetWidth)!=x||(F=i.offsetHeight)!=A)&&(g=!0,x=y,A=F),p()},b=function(w,R,C){w.attachEvent?w.attachEvent("on"+R,C):w.addEventListener(R,C)};b(l,"scroll",O),b(c,"scroll",O)}var o=function(i,s){var a=this,u=Object.prototype.toString.call(i),l=a._isCollectionTyped=u==="[object Array]"||u==="[object NodeList]"||u==="[object HTMLCollection]"||typeof jQuery<"u"&&i instanceof window.jQuery||typeof Elements<"u"&&i instanceof window.Elements;if(a._element=i,l)for(var f=0,c=i.length;f<c;f++)n(i[f],s);else n(i,s)};return o.prototype.detach=function(){var i=this,s=i._isCollectionTyped,a=i._element;if(s)for(var u=0,l=a.length;u<l;u++)o.detach(a[u]);else o.detach(a)},o.detach=function(i){i.resizeSensor&&(i.hasChildNodes()&&i.removeChild(i.resizeSensor),delete i.resizeSensor,delete i.resizedAttached)},o})();function hc(t){const e=t.target.getBoundingClientRect();return t.offsetX>=2/3*e.width?"right":t.offsetX>=1/3*e.width?"middle":"left"}const xc=function(t){let e="",r="",n="",o,i="",s=null,a="",u=!1,l=Re(),f="",c="",p=null,g={};function h(C,N){if(a&&(clearTimeout(a),a=null),C){if(l.size()>0)return!1;o.addClass("op-autohide")}else o.removeClass("op-autohide"),N&&(a=setTimeout(function(){if(l.size()>0)return!1;o.addClass("op-autohide")},3e3))}function x(){s.play()}function A(C,N){const E=s.getDuration(),S=s.getPosition();let I=0;N?I=Math.max(S-C,0):I=Math.min(S+C,E),s.seek(I)}function y(C){const N=s.getVolume();let E=0;C?E=Math.min(N+5,100):E=Math.max(N-5,0),s.setVolume(E)}function F(C,N){i&&(i.destroy(),i=null),i=pc(o,s,{pageX:C,pageY:N})}function O(){let C=o.width();C<576?(f="xsmall",o.addClass("xsmall"),C<490&&o.addClass("xxsmall")):C<768?(f="small",o.addClass("small")):C<992?(f="medium",o.addClass("medium")):(f="large",o.addClass("large"))}const b=function(C,N){o=C,e=N,O(),c=f,p=new mc(o.get(),function(){o.removeClass("large"),o.removeClass("medium"),o.removeClass("small"),o.removeClass("xsmall"),o.removeClass("xxsmall"),O(),f!==c&&(c=f,s&&s.trigger(Vt,c))})},w=function(){p&&(p.detach(),p=null),n&&(n.destroy(),n=null),r&&(r.destroy(),r=null)},R={"click .ovenplayer":function(C,N,E){if(s&&s.trigger(jo,C),i)return C.preventDefault(),i.destroy(),i=null,!1;if(!(Z(C.target).closest(".op-controls-container")||Z(C.target).closest(".op-setting-panel"))){if(l.size()>0)return C.preventDefault(),l.clear(),!1;s.getDuration()!==1/0&&!s.getBrowser().mobile&&x()}},"dblclick .ovenplayer":function(C,N,E){if(s){const S=hc(C),I=s.getPosition(),L=s.getConfig().doubleTapToSeek;if(L&&S=="left"){const q=Math.max(I-10,0);OvenPlayerConsole.log(`Seeking to ${q}`),s.seek(q)}if(L&&S==="right"){const q=Math.min(I+10,s.getDuration());OvenPlayerConsole.log(`Seeking to ${q}`),s.seek(q)}(S==="middle"||!L)&&(OvenPlayerConsole.log("Toggling fullscreen"),s.getConfig().expandFullScreenUI&&s.toggleFullScreen&&(Z(C.target).closest(".op-controls-container")||Z(C.target).closest(".op-setting-panel")||s.toggleFullScreen()))}},"touchstart .ovenplayer":function(C,N,E){h(!1,!0)},"mouseenter .ovenplayer":function(C,N,E){C.preventDefault(),h(!1,!0)},"mousemove .ovenplayer":function(C,N,E){C.preventDefault(),h(!1,!0)},"mouseleave .ovenplayer":function(C,N,E){C.preventDefault(),h(!0)},"keydown .ovenplayer":function(C,N,E){let S=s.getFramerate();switch(C.keyCode){case 16:C.preventDefault(),u=!0;break;case 32:C.preventDefault(),x();break;case 37:C.preventDefault(),s.getConfig().disableSeekUI||(u&&S?s.seekFrame(-1):A(5,!0));break;case 39:C.preventDefault(),s.getConfig().disableSeekUI||(u&&S?s.seekFrame(1):A(5,!1));break;case 38:C.preventDefault(),y(!0);break;case 40:C.preventDefault(),y(!1);break}},"keyup .ovenplayer":function(C,N,E){switch(C.keyCode){case 16:C.preventDefault(),u=!1;break}},"contextmenu .ovenplayer":function(C,N,E){if(C.stopPropagation(),!Z(C.currentTarget).find("object"))return C.preventDefault(),F(C.pageX,C.pageY),!1}};return g=ue(t,"View",null,t.id,R,b,w,!0),g.getMediaElementContainer=()=>o.find(".op-media-element-container").get(),g.setApi=C=>{s=C,s.getContainerElement=()=>o.get(),s.getContainerId=()=>o.get().id,s.on(st,function(S){r||(r=En(o.find(".op-ui"),C)),N||o.addClass("op-no-controls"),h(!1,!0)}),s.on(ke,function(S){if(s){let I=s.getSources()||[];r&&I.length<=1}}),s.on(Yo,function(S){e.destroy()}),s.on(lr,function(S){!r&&N&&(r=En(o.find(".op-ui"),C))});let N=s.getConfig()&&s.getConfig().controls;n=Jl(o.find(".op-ui"),C),r=En(o.find(".op-ui"),C);let E=s.getConfig().aspectRatio;if(E&&E.split(":").length===2){let S=E.split(":")[0]*1,L=E.split(":")[1]*1/S*100;o.find(".op-ratio").css("padding-bottom",L+"%")}s.showControls=function(S,I){S?(o.removeClass("op-no-controls"),h(!1,!I)):o.addClass("op-no-controls")}},g};function vc(){const t={};return Object.assign(t,vn),t.create=function(e,r){let n=fi(e),o=xc(n);const i=vn.create(o.getMediaElementContainer(),r);return o.setApi(i),OvenPlayerConsole.log("[OvenPlayer] v."+Je),i},t}const Ec=vc();var Ht={},He={},lt={},_i;function Er(){if(_i)return lt;_i=1;function t(i,s,a){if(a===void 0&&(a=Array.prototype),i&&typeof a.find=="function")return a.find.call(i,s);for(var u=0;u<i.length;u++)if(Object.prototype.hasOwnProperty.call(i,u)){var l=i[u];if(s.call(void 0,l,u,i))return l}}function e(i,s){return s===void 0&&(s=Object),s&&typeof s.freeze=="function"?s.freeze(i):i}function r(i,s){if(i===null||typeof i!="object")throw new TypeError("target is not an object");for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a]);return i}var n=e({HTML:"text/html",isHTML:function(i){return i===n.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),o=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(i){return i===o.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return lt.assign=r,lt.find=t,lt.freeze=e,lt.MIME_TYPE=n,lt.NAMESPACE=o,lt}var Ui;function Vi(){if(Ui)return He;Ui=1;var t=Er(),e=t.find,r=t.NAMESPACE;function n(d){return d!==""}function o(d){return d?d.split(/[\t\n\f\r ]+/).filter(n):[]}function i(d,m){return d.hasOwnProperty(m)||(d[m]=!0),d}function s(d){if(!d)return[];var m=o(d);return Object.keys(m.reduce(i,{}))}function a(d){return function(m){return d&&d.indexOf(m)!==-1}}function u(d,m){for(var v in d)Object.prototype.hasOwnProperty.call(d,v)&&(m[v]=d[v])}function l(d,m){var v=d.prototype;if(!(v instanceof m)){let T=function(){};T.prototype=m.prototype,T=new T,u(v,T),d.prototype=v=T}v.constructor!=d&&(typeof d!="function"&&console.error("unknown Class:"+d),v.constructor=d)}var f={},c=f.ELEMENT_NODE=1,p=f.ATTRIBUTE_NODE=2,g=f.TEXT_NODE=3,h=f.CDATA_SECTION_NODE=4,x=f.ENTITY_REFERENCE_NODE=5,A=f.ENTITY_NODE=6,y=f.PROCESSING_INSTRUCTION_NODE=7,F=f.COMMENT_NODE=8,O=f.DOCUMENT_NODE=9,b=f.DOCUMENT_TYPE_NODE=10,w=f.DOCUMENT_FRAGMENT_NODE=11,R=f.NOTATION_NODE=12,C={},N={};C.INDEX_SIZE_ERR=(N[1]="Index size error",1),C.DOMSTRING_SIZE_ERR=(N[2]="DOMString size error",2);var E=C.HIERARCHY_REQUEST_ERR=(N[3]="Hierarchy request error",3);C.WRONG_DOCUMENT_ERR=(N[4]="Wrong document",4),C.INVALID_CHARACTER_ERR=(N[5]="Invalid character",5),C.NO_DATA_ALLOWED_ERR=(N[6]="No data allowed",6),C.NO_MODIFICATION_ALLOWED_ERR=(N[7]="No modification allowed",7);var S=C.NOT_FOUND_ERR=(N[8]="Not found",8);C.NOT_SUPPORTED_ERR=(N[9]="Not supported",9);var I=C.INUSE_ATTRIBUTE_ERR=(N[10]="Attribute in use",10);C.INVALID_STATE_ERR=(N[11]="Invalid state",11),C.SYNTAX_ERR=(N[12]="Syntax error",12),C.INVALID_MODIFICATION_ERR=(N[13]="Invalid modification",13),C.NAMESPACE_ERR=(N[14]="Invalid namespace",14),C.INVALID_ACCESS_ERR=(N[15]="Invalid access",15);function L(d,m){if(m instanceof Error)var v=m;else v=this,Error.call(this,N[d]),this.message=N[d],Error.captureStackTrace&&Error.captureStackTrace(this,L);return v.code=d,m&&(this.message=this.message+": "+m),v}L.prototype=Error.prototype,u(C,L);function q(){}q.prototype={length:0,item:function(d){return d>=0&&d<this.length?this[d]:null},toString:function(d,m){for(var v=[],T=0;T<this.length;T++)wt(this[T],v,d,m);return v.join("")},filter:function(d){return Array.prototype.filter.call(this,d)},indexOf:function(d){return Array.prototype.indexOf.call(this,d)}};function _(d,m){this._node=d,this._refresh=m,M(this)}function M(d){var m=d._node._inc||d._node.ownerDocument._inc;if(d._inc!==m){var v=d._refresh(d._node);if(ji(d,"length",v.length),!d.$$length||v.length<d.$$length)for(var T=v.length;T in d;T++)Object.prototype.hasOwnProperty.call(d,T)&&delete d[T];u(v,d),d._inc=m}}_.prototype.item=function(d){return M(this),this[d]||null},l(_,q);function G(){}function H(d,m){for(var v=d.length;v--;)if(d[v]===m)return v}function Y(d,m,v,T){if(T?m[H(m,T)]=v:m[m.length++]=v,d){v.ownerElement=d;var V=d.ownerDocument;V&&(T&&J(V,d,T),Q(V,d,v))}}function P(d,m,v){var T=H(m,v);if(T>=0){for(var V=m.length-1;T<V;)m[T]=m[++T];if(m.length=V,d){var $=d.ownerDocument;$&&(J($,d,v),v.ownerElement=null)}}else throw new L(S,new Error(d.tagName+"@"+v))}G.prototype={length:0,item:q.prototype.item,getNamedItem:function(d){for(var m=this.length;m--;){var v=this[m];if(v.nodeName==d)return v}},setNamedItem:function(d){var m=d.ownerElement;if(m&&m!=this._ownerElement)throw new L(I);var v=this.getNamedItem(d.nodeName);return Y(this._ownerElement,this,d,v),v},setNamedItemNS:function(d){var m=d.ownerElement,v;if(m&&m!=this._ownerElement)throw new L(I);return v=this.getNamedItemNS(d.namespaceURI,d.localName),Y(this._ownerElement,this,d,v),v},removeNamedItem:function(d){var m=this.getNamedItem(d);return P(this._ownerElement,this,m),m},removeNamedItemNS:function(d,m){var v=this.getNamedItemNS(d,m);return P(this._ownerElement,this,v),v},getNamedItemNS:function(d,m){for(var v=this.length;v--;){var T=this[v];if(T.localName==m&&T.namespaceURI==d)return T}return null}};function W(){}W.prototype={hasFeature:function(d,m){return!0},createDocument:function(d,m,v){var T=new z;if(T.implementation=this,T.childNodes=new q,T.doctype=v||null,v&&T.appendChild(v),m){var V=T.createElementNS(d,m);T.appendChild(V)}return T},createDocumentType:function(d,m,v){var T=new yr;return T.name=d,T.nodeName=d,T.publicId=m||"",T.systemId=v||"",T}};function D(){}D.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(d,m){return Me(this,d,m)},replaceChild:function(d,m){Me(this,d,m,ft),m&&this.removeChild(m)},removeChild:function(d){return X(this,d)},appendChild:function(d){return this.insertBefore(d,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(d){return Bn(this.ownerDocument||this,this,d)},normalize:function(){for(var d=this.firstChild;d;){var m=d.nextSibling;m&&m.nodeType==g&&d.nodeType==g?(this.removeChild(m),d.appendData(m.data)):(d.normalize(),d=m)}},isSupported:function(d,m){return this.ownerDocument.implementation.hasFeature(d,m)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(d){for(var m=this;m;){var v=m._nsMap;if(v){for(var T in v)if(Object.prototype.hasOwnProperty.call(v,T)&&v[T]===d)return T}m=m.nodeType==p?m.ownerDocument:m.parentNode}return null},lookupNamespaceURI:function(d){for(var m=this;m;){var v=m._nsMap;if(v&&Object.prototype.hasOwnProperty.call(v,d))return v[d];m=m.nodeType==p?m.ownerDocument:m.parentNode}return null},isDefaultNamespace:function(d){var m=this.lookupPrefix(d);return m==null}};function B(d){return d=="<"&&"&lt;"||d==">"&&"&gt;"||d=="&"&&"&amp;"||d=='"'&&"&quot;"||"&#"+d.charCodeAt()+";"}u(f,D),u(f,D.prototype);function U(d,m){if(m(d))return!0;if(d=d.firstChild)do if(U(d,m))return!0;while(d=d.nextSibling)}function z(){this.ownerDocument=this}function Q(d,m,v){d&&d._inc++;var T=v.namespaceURI;T===r.XMLNS&&(m._nsMap[v.prefix?v.localName:""]=v.value)}function J(d,m,v,T){d&&d._inc++;var V=v.namespaceURI;V===r.XMLNS&&delete m._nsMap[v.prefix?v.localName:""]}function ee(d,m,v){if(d&&d._inc){d._inc++;var T=m.childNodes;if(v)T[T.length++]=v;else{for(var V=m.firstChild,$=0;V;)T[$++]=V,V=V.nextSibling;T.length=$,delete T[T.length]}}}function X(d,m){var v=m.previousSibling,T=m.nextSibling;return v?v.nextSibling=T:d.firstChild=T,T?T.previousSibling=v:d.lastChild=v,m.parentNode=null,m.previousSibling=null,m.nextSibling=null,ee(d.ownerDocument,d),m}function j(d){return d&&(d.nodeType===D.DOCUMENT_NODE||d.nodeType===D.DOCUMENT_FRAGMENT_NODE||d.nodeType===D.ELEMENT_NODE)}function ne(d){return d&&(oe(d)||ge(d)||ie(d)||d.nodeType===D.DOCUMENT_FRAGMENT_NODE||d.nodeType===D.COMMENT_NODE||d.nodeType===D.PROCESSING_INSTRUCTION_NODE)}function ie(d){return d&&d.nodeType===D.DOCUMENT_TYPE_NODE}function oe(d){return d&&d.nodeType===D.ELEMENT_NODE}function ge(d){return d&&d.nodeType===D.TEXT_NODE}function se(d,m){var v=d.childNodes||[];if(e(v,oe)||ie(m))return!1;var T=e(v,ie);return!(m&&T&&v.indexOf(T)>v.indexOf(m))}function Ne(d,m){var v=d.childNodes||[];function T($){return oe($)&&$!==m}if(e(v,T))return!1;var V=e(v,ie);return!(m&&V&&v.indexOf(V)>v.indexOf(m))}function de(d,m,v){if(!j(d))throw new L(E,"Unexpected parent node type "+d.nodeType);if(v&&v.parentNode!==d)throw new L(S,"child not in parent");if(!ne(m)||ie(m)&&d.nodeType!==D.DOCUMENT_NODE)throw new L(E,"Unexpected node type "+m.nodeType+" for parent node type "+d.nodeType)}function ct(d,m,v){var T=d.childNodes||[],V=m.childNodes||[];if(m.nodeType===D.DOCUMENT_FRAGMENT_NODE){var $=V.filter(oe);if($.length>1||e(V,ge))throw new L(E,"More than one element or text in fragment");if($.length===1&&!se(d,v))throw new L(E,"Element in fragment can not be inserted before doctype")}if(oe(m)&&!se(d,v))throw new L(E,"Only one element can be added and only after doctype");if(ie(m)){if(e(T,ie))throw new L(E,"Only one doctype is allowed");var le=e(T,oe);if(v&&T.indexOf(le)<T.indexOf(v))throw new L(E,"Doctype can only be inserted before an element");if(!v&&le)throw new L(E,"Doctype can not be appended since element is present")}}function ft(d,m,v){var T=d.childNodes||[],V=m.childNodes||[];if(m.nodeType===D.DOCUMENT_FRAGMENT_NODE){var $=V.filter(oe);if($.length>1||e(V,ge))throw new L(E,"More than one element or text in fragment");if($.length===1&&!Ne(d,v))throw new L(E,"Element in fragment can not be inserted before doctype")}if(oe(m)&&!Ne(d,v))throw new L(E,"Only one element can be added and only after doctype");if(ie(m)){if(e(T,function(Oe){return ie(Oe)&&Oe!==v}))throw new L(E,"Only one doctype is allowed");var le=e(T,oe);if(v&&T.indexOf(le)<T.indexOf(v))throw new L(E,"Doctype can only be inserted before an element")}}function Me(d,m,v,T){de(d,m,v),d.nodeType===D.DOCUMENT_NODE&&(T||ct)(d,m,v);var V=m.parentNode;if(V&&V.removeChild(m),m.nodeType===w){var $=m.firstChild;if($==null)return m;var le=m.lastChild}else $=le=m;var Te=v?v.previousSibling:d.lastChild;$.previousSibling=Te,le.nextSibling=v,Te?Te.nextSibling=$:d.firstChild=$,v==null?d.lastChild=le:v.previousSibling=le;do{$.parentNode=d;var Oe=d.ownerDocument||d;_e($,Oe)}while($!==le&&($=$.nextSibling));return ee(d.ownerDocument||d,d),m.nodeType==w&&(m.firstChild=m.lastChild=null),m}function _e(d,m){if(d.ownerDocument!==m){if(d.ownerDocument=m,d.nodeType===c&&d.attributes)for(var v=0;v<d.attributes.length;v++){var T=d.attributes.item(v);T&&(T.ownerDocument=m)}for(var V=d.firstChild;V;)_e(V,m),V=V.nextSibling}}function ce(d,m){m.parentNode&&m.parentNode.removeChild(m),m.parentNode=d,m.previousSibling=d.lastChild,m.nextSibling=null,m.previousSibling?m.previousSibling.nextSibling=m:d.firstChild=m,d.lastChild=m,ee(d.ownerDocument,d,m);var v=d.ownerDocument||d;return _e(m,v),m}z.prototype={nodeName:"#document",nodeType:O,doctype:null,documentElement:null,_inc:1,insertBefore:function(d,m){if(d.nodeType==w){for(var v=d.firstChild;v;){var T=v.nextSibling;this.insertBefore(v,m),v=T}return d}return Me(this,d,m),_e(d,this),this.documentElement===null&&d.nodeType===c&&(this.documentElement=d),d},removeChild:function(d){return this.documentElement==d&&(this.documentElement=null),X(this,d)},replaceChild:function(d,m){Me(this,d,m,ft),_e(d,this),m&&this.removeChild(m),oe(d)&&(this.documentElement=d)},importNode:function(d,m){return $i(this,d,m)},getElementById:function(d){var m=null;return U(this.documentElement,function(v){if(v.nodeType==c&&v.getAttribute("id")==d)return m=v,!0}),m},getElementsByClassName:function(d){var m=s(d);return new _(this,function(v){var T=[];return m.length>0&&U(v.documentElement,function(V){if(V!==v&&V.nodeType===c){var $=V.getAttribute("class");if($){var le=d===$;if(!le){var Te=s($);le=m.every(a(Te))}le&&T.push(V)}}}),T})},createElement:function(d){var m=new fe;m.ownerDocument=this,m.nodeName=d,m.tagName=d,m.localName=d,m.childNodes=new q;var v=m.attributes=new G;return v._ownerElement=m,m},createDocumentFragment:function(){var d=new Dr;return d.ownerDocument=this,d.childNodes=new q,d},createTextNode:function(d){var m=new yn;return m.ownerDocument=this,m.appendData(d),m},createComment:function(d){var m=new Dn;return m.ownerDocument=this,m.appendData(d),m},createCDATASection:function(d){var m=new bn;return m.ownerDocument=this,m.appendData(d),m},createProcessingInstruction:function(d,m){var v=new wn;return v.ownerDocument=this,v.tagName=v.nodeName=v.target=d,v.nodeValue=v.data=m,v},createAttribute:function(d){var m=new je;return m.ownerDocument=this,m.name=d,m.nodeName=d,m.localName=d,m.specified=!0,m},createEntityReference:function(d){var m=new Fn;return m.ownerDocument=this,m.nodeName=d,m},createElementNS:function(d,m){var v=new fe,T=m.split(":"),V=v.attributes=new G;return v.childNodes=new q,v.ownerDocument=this,v.nodeName=m,v.tagName=m,v.namespaceURI=d,T.length==2?(v.prefix=T[0],v.localName=T[1]):v.localName=m,V._ownerElement=v,v},createAttributeNS:function(d,m){var v=new je,T=m.split(":");return v.ownerDocument=this,v.nodeName=m,v.name=m,v.namespaceURI=d,v.specified=!0,T.length==2?(v.prefix=T[0],v.localName=T[1]):v.localName=m,v}},l(z,D);function fe(){this._nsMap={}}fe.prototype={nodeType:c,hasAttribute:function(d){return this.getAttributeNode(d)!=null},getAttribute:function(d){var m=this.getAttributeNode(d);return m&&m.value||""},getAttributeNode:function(d){return this.attributes.getNamedItem(d)},setAttribute:function(d,m){var v=this.ownerDocument.createAttribute(d);v.value=v.nodeValue=""+m,this.setAttributeNode(v)},removeAttribute:function(d){var m=this.getAttributeNode(d);m&&this.removeAttributeNode(m)},appendChild:function(d){return d.nodeType===w?this.insertBefore(d,null):ce(this,d)},setAttributeNode:function(d){return this.attributes.setNamedItem(d)},setAttributeNodeNS:function(d){return this.attributes.setNamedItemNS(d)},removeAttributeNode:function(d){return this.attributes.removeNamedItem(d.nodeName)},removeAttributeNS:function(d,m){var v=this.getAttributeNodeNS(d,m);v&&this.removeAttributeNode(v)},hasAttributeNS:function(d,m){return this.getAttributeNodeNS(d,m)!=null},getAttributeNS:function(d,m){var v=this.getAttributeNodeNS(d,m);return v&&v.value||""},setAttributeNS:function(d,m,v){var T=this.ownerDocument.createAttributeNS(d,m);T.value=T.nodeValue=""+v,this.setAttributeNode(T)},getAttributeNodeNS:function(d,m){return this.attributes.getNamedItemNS(d,m)},getElementsByTagName:function(d){return new _(this,function(m){var v=[];return U(m,function(T){T!==m&&T.nodeType==c&&(d==="*"||T.tagName==d)&&v.push(T)}),v})},getElementsByTagNameNS:function(d,m){return new _(this,function(v){var T=[];return U(v,function(V){V!==v&&V.nodeType===c&&(d==="*"||V.namespaceURI===d)&&(m==="*"||V.localName==m)&&T.push(V)}),T})}},z.prototype.getElementsByTagName=fe.prototype.getElementsByTagName,z.prototype.getElementsByTagNameNS=fe.prototype.getElementsByTagNameNS,l(fe,D);function je(){}je.prototype.nodeType=p,l(je,D);function Gt(){}Gt.prototype={data:"",substringData:function(d,m){return this.data.substring(d,d+m)},appendData:function(d){d=this.data+d,this.nodeValue=this.data=d,this.length=d.length},insertData:function(d,m){this.replaceData(d,0,m)},appendChild:function(d){throw new Error(N[E])},deleteData:function(d,m){this.replaceData(d,m,"")},replaceData:function(d,m,v){var T=this.data.substring(0,d),V=this.data.substring(d+m);v=T+v+V,this.nodeValue=this.data=v,this.length=v.length}},l(Gt,D);function yn(){}yn.prototype={nodeName:"#text",nodeType:g,splitText:function(d){var m=this.data,v=m.substring(d);m=m.substring(0,d),this.data=this.nodeValue=m,this.length=m.length;var T=this.ownerDocument.createTextNode(v);return this.parentNode&&this.parentNode.insertBefore(T,this.nextSibling),T}},l(yn,Gt);function Dn(){}Dn.prototype={nodeName:"#comment",nodeType:F},l(Dn,Gt);function bn(){}bn.prototype={nodeName:"#cdata-section",nodeType:h},l(bn,Gt);function yr(){}yr.prototype.nodeType=b,l(yr,D);function Hi(){}Hi.prototype.nodeType=R,l(Hi,D);function Xi(){}Xi.prototype.nodeType=A,l(Xi,D);function Fn(){}Fn.prototype.nodeType=x,l(Fn,D);function Dr(){}Dr.prototype.nodeName="#document-fragment",Dr.prototype.nodeType=w,l(Dr,D);function wn(){}wn.prototype.nodeType=y,l(wn,D);function Gi(){}Gi.prototype.serializeToString=function(d,m,v){return Yi.call(d,m,v)},D.prototype.toString=Yi;function Yi(d,m){var v=[],T=this.nodeType==9&&this.documentElement||this,V=T.prefix,$=T.namespaceURI;if($&&V==null){var V=T.lookupPrefix($);if(V==null)var le=[{namespace:$,prefix:null}]}return wt(this,v,d,m,le),v.join("")}function Zi(d,m,v){var T=d.prefix||"",V=d.namespaceURI;if(!V||T==="xml"&&V===r.XML||V===r.XMLNS)return!1;for(var $=v.length;$--;){var le=v[$];if(le.prefix===T)return le.namespace!==V}return!0}function Tn(d,m,v){d.push(" ",m,'="',v.replace(/[<>&"\t\n\r]/g,B),'"')}function wt(d,m,v,T,V){if(V||(V=[]),T)if(d=T(d),d){if(typeof d=="string"){m.push(d);return}}else return;switch(d.nodeType){case c:var $=d.attributes,le=$.length,xe=d.firstChild,Te=d.tagName;v=r.isHTML(d.namespaceURI)||v;var Oe=Te;if(!v&&!d.prefix&&d.namespaceURI){for(var Ke,Xe=0;Xe<$.length;Xe++)if($.item(Xe).name==="xmlns"){Ke=$.item(Xe).value;break}if(!Ke)for(var dt=V.length-1;dt>=0;dt--){var At=V[dt];if(At.prefix===""&&At.namespace===d.namespaceURI){Ke=At.namespace;break}}if(Ke!==d.namespaceURI)for(var dt=V.length-1;dt>=0;dt--){var At=V[dt];if(At.namespace===d.namespaceURI){At.prefix&&(Oe=At.prefix+":"+Te);break}}}m.push("<",Oe);for(var gt=0;gt<le;gt++){var Ue=$.item(gt);Ue.prefix=="xmlns"?V.push({prefix:Ue.localName,namespace:Ue.value}):Ue.nodeName=="xmlns"&&V.push({prefix:"",namespace:Ue.value})}for(var gt=0;gt<le;gt++){var Ue=$.item(gt);if(Zi(Ue,v,V)){var pt=Ue.prefix||"",Yt=Ue.namespaceURI;Tn(m,pt?"xmlns:"+pt:"xmlns",Yt),V.push({prefix:pt,namespace:Yt})}wt(Ue,m,v,T,V)}if(Te===Oe&&Zi(d,v,V)){var pt=d.prefix||"",Yt=d.namespaceURI;Tn(m,pt?"xmlns:"+pt:"xmlns",Yt),V.push({prefix:pt,namespace:Yt})}if(xe||v&&!/^(?:meta|link|img|br|hr|input)$/i.test(Te)){if(m.push(">"),v&&/^script$/i.test(Te))for(;xe;)xe.data?m.push(xe.data):wt(xe,m,v,T,V.slice()),xe=xe.nextSibling;else for(;xe;)wt(xe,m,v,T,V.slice()),xe=xe.nextSibling;m.push("</",Oe,">")}else m.push("/>");return;case O:case w:for(var xe=d.firstChild;xe;)wt(xe,m,v,T,V.slice()),xe=xe.nextSibling;return;case p:return Tn(m,d.name,d.value);case g:return m.push(d.data.replace(/[<&>]/g,B));case h:return m.push("<![CDATA[",d.data,"]]>");case F:return m.push("<!--",d.data,"-->");case b:var Ki=d.publicId,Tt=d.systemId;if(m.push("<!DOCTYPE ",d.name),Ki)m.push(" PUBLIC ",Ki),Tt&&Tt!="."&&m.push(" ",Tt),m.push(">");else if(Tt&&Tt!=".")m.push(" SYSTEM ",Tt,">");else{var Ji=d.internalSubset;Ji&&m.push(" [",Ji,"]"),m.push(">")}return;case y:return m.push("<?",d.target," ",d.data,"?>");case x:return m.push("&",d.nodeName,";");default:m.push("??",d.nodeName)}}function $i(d,m,v){var T;switch(m.nodeType){case c:T=m.cloneNode(!1),T.ownerDocument=d;case w:break;case p:v=!0;break}if(T||(T=m.cloneNode(!1)),T.ownerDocument=d,T.parentNode=null,v)for(var V=m.firstChild;V;)T.appendChild($i(d,V,v)),V=V.nextSibling;return T}function Bn(d,m,v){var T=new m.constructor;for(var V in m)if(Object.prototype.hasOwnProperty.call(m,V)){var $=m[V];typeof $!="object"&&$!=T[V]&&(T[V]=$)}switch(m.childNodes&&(T.childNodes=new q),T.ownerDocument=d,T.nodeType){case c:var le=m.attributes,Te=T.attributes=new G,Oe=le.length;Te._ownerElement=T;for(var Ke=0;Ke<Oe;Ke++)T.setAttributeNode(Bn(d,le.item(Ke),!0));break;case p:v=!0}if(v)for(var Xe=m.firstChild;Xe;)T.appendChild(Bn(d,Xe,v)),Xe=Xe.nextSibling;return T}function ji(d,m,v){d[m]=v}try{if(Object.defineProperty){let d=function(m){switch(m.nodeType){case c:case w:var v=[];for(m=m.firstChild;m;)m.nodeType!==7&&m.nodeType!==8&&v.push(d(m)),m=m.nextSibling;return v.join("");default:return m.nodeValue}};Object.defineProperty(_.prototype,"length",{get:function(){return M(this),this.$$length}}),Object.defineProperty(D.prototype,"textContent",{get:function(){return d(this)},set:function(m){switch(this.nodeType){case c:case w:for(;this.firstChild;)this.removeChild(this.firstChild);(m||String(m))&&this.appendChild(this.ownerDocument.createTextNode(m));break;default:this.data=m,this.value=m,this.nodeValue=m}}}),ji=function(m,v,T){m["$$"+v]=T}}}catch{}return He.DocumentType=yr,He.DOMException=L,He.DOMImplementation=W,He.Element=fe,He.Node=D,He.NodeList=q,He.XMLSerializer=Gi,He}var Xt={},Cn={},qi;function Cc(){return qi||(qi=1,(function(t){var e=Er().freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),t.entityMap=t.HTML_ENTITIES})(Cn)),Cn}var Cr={},Wi;function yc(){if(Wi)return Cr;Wi=1;var t=Er().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),n=new RegExp("^"+e.source+r.source+"*(?::"+e.source+r.source+"*)?$"),o=0,i=1,s=2,a=3,u=4,l=5,f=6,c=7;function p(E,S){this.message=E,this.locator=S,Error.captureStackTrace&&Error.captureStackTrace(this,p)}p.prototype=new Error,p.prototype.name=p.name;function g(){}g.prototype={parse:function(E,S,I){var L=this.domBuilder;L.startDocument(),b(S,S={}),h(E,S,I,L,this.errorHandler),L.endDocument()}};function h(E,S,I,L,q){function _(ce){if(ce>65535){ce-=65536;var fe=55296+(ce>>10),je=56320+(ce&1023);return String.fromCharCode(fe,je)}else return String.fromCharCode(ce)}function M(ce){var fe=ce.slice(1,-1);return Object.hasOwnProperty.call(I,fe)?I[fe]:fe.charAt(0)==="#"?_(parseInt(fe.substr(1).replace("x","0x"))):(q.error("entity not found:"+ce),ce)}function G(ce){if(ce>z){var fe=E.substring(z,ce).replace(/&#?\w+;/g,M);D&&H(z),L.characters(fe,0,ce-z),z=ce}}function H(ce,fe){for(;ce>=P&&(fe=W.exec(E));)Y=fe.index,P=Y+fe[0].length,D.lineNumber++;D.columnNumber=ce-Y+1}for(var Y=0,P=0,W=/.*(?:\r\n?|\n)|.*$/g,D=L.locator,B=[{currentNSMap:S}],U={},z=0;;){try{var Q=E.indexOf("<",z);if(Q<0){if(!E.substr(z).match(/^\s*$/)){var J=L.doc,ee=J.createTextNode(E.substr(z));J.appendChild(ee),L.currentElement=ee}return}switch(Q>z&&G(Q),E.charAt(Q+1)){case"/":var de=E.indexOf(">",Q+3),X=E.substring(Q+2,de).replace(/[ \t\n\r]+$/g,""),j=B.pop();de<0?(X=E.substring(Q+2).replace(/[\s<].*/,""),q.error("end tag name: "+X+" is not complete:"+j.tagName),de=Q+1+X.length):X.match(/\s</)&&(X=X.replace(/[\s<].*/,""),q.error("end tag name: "+X+" maybe not complete"),de=Q+1+X.length);var ne=j.localNSMap,ie=j.tagName==X,oe=ie||j.tagName&&j.tagName.toLowerCase()==X.toLowerCase();if(oe){if(L.endElement(j.uri,j.localName,X),ne)for(var ge in ne)Object.prototype.hasOwnProperty.call(ne,ge)&&L.endPrefixMapping(ge);ie||q.fatalError("end tag name: "+X+" is not match the current start tagName:"+j.tagName)}else B.push(j);de++;break;case"?":D&&H(Q),de=R(E,Q,L);break;case"!":D&&H(Q),de=w(E,Q,L,q);break;default:D&&H(Q);var se=new C,Ne=B[B.length-1].currentNSMap,de=A(E,Q,se,Ne,M,q),ct=se.length;if(!se.closed&&O(E,de,se.tagName,U)&&(se.closed=!0,I.nbsp||q.warning("unclosed xml attribute")),D&&ct){for(var ft=x(D,{}),Me=0;Me<ct;Me++){var _e=se[Me];H(_e.offset),_e.locator=x(D,{})}L.locator=ft,y(se,L,Ne)&&B.push(se),L.locator=D}else y(se,L,Ne)&&B.push(se);t.isHTML(se.uri)&&!se.closed?de=F(E,de,se.tagName,M,L):de++}}catch(ce){if(ce instanceof p)throw ce;q.error("element parse error: "+ce),de=-1}de>z?z=de:G(Math.max(Q,z)+1)}}function x(E,S){return S.lineNumber=E.lineNumber,S.columnNumber=E.columnNumber,S}function A(E,S,I,L,q,_){function M(D,B,U){I.attributeNames.hasOwnProperty(D)&&_.fatalError("Attribute "+D+" redefined"),I.addValue(D,B.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,q),U)}for(var G,H,Y=++S,P=o;;){var W=E.charAt(Y);switch(W){case"=":if(P===i)G=E.slice(S,Y),P=a;else if(P===s)P=a;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(P===a||P===i)if(P===i&&(_.warning('attribute value must after "="'),G=E.slice(S,Y)),S=Y+1,Y=E.indexOf(W,S),Y>0)H=E.slice(S,Y),M(G,H,S-1),P=l;else throw new Error("attribute value no end '"+W+"' match");else if(P==u)H=E.slice(S,Y),M(G,H,S),_.warning('attribute "'+G+'" missed start quot('+W+")!!"),S=Y+1,P=l;else throw new Error('attribute value must after "="');break;case"/":switch(P){case o:I.setTagName(E.slice(S,Y));case l:case f:case c:P=c,I.closed=!0;case u:case i:break;case s:I.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return _.error("unexpected end of input"),P==o&&I.setTagName(E.slice(S,Y)),Y;case">":switch(P){case o:I.setTagName(E.slice(S,Y));case l:case f:case c:break;case u:case i:H=E.slice(S,Y),H.slice(-1)==="/"&&(I.closed=!0,H=H.slice(0,-1));case s:P===s&&(H=G),P==u?(_.warning('attribute "'+H+'" missed quot(")!'),M(G,H,S)):((!t.isHTML(L[""])||!H.match(/^(?:disabled|checked|selected)$/i))&&_.warning('attribute "'+H+'" missed value!! "'+H+'" instead!!'),M(H,H,S));break;case a:throw new Error("attribute value missed!!")}return Y;case"":W=" ";default:if(W<=" ")switch(P){case o:I.setTagName(E.slice(S,Y)),P=f;break;case i:G=E.slice(S,Y),P=s;break;case u:var H=E.slice(S,Y);_.warning('attribute "'+H+'" missed quot(")!!'),M(G,H,S);case l:P=f;break}else switch(P){case s:I.tagName,(!t.isHTML(L[""])||!G.match(/^(?:disabled|checked|selected)$/i))&&_.warning('attribute "'+G+'" missed value!! "'+G+'" instead2!!'),M(G,G,S),S=Y,P=i;break;case l:_.warning('attribute space is required"'+G+'"!!');case f:P=i,S=Y;break;case a:P=u,S=Y;break;case c:throw new Error("elements closed character '/' and '>' must be connected to")}}Y++}}function y(E,S,I){for(var L=E.tagName,q=null,W=E.length;W--;){var _=E[W],M=_.qName,G=_.value,D=M.indexOf(":");if(D>0)var H=_.prefix=M.slice(0,D),Y=M.slice(D+1),P=H==="xmlns"&&Y;else Y=M,H=null,P=M==="xmlns"&&"";_.localName=Y,P!==!1&&(q==null&&(q={},b(I,I={})),I[P]=q[P]=G,_.uri=t.XMLNS,S.startPrefixMapping(P,G))}for(var W=E.length;W--;){_=E[W];var H=_.prefix;H&&(H==="xml"&&(_.uri=t.XML),H!=="xmlns"&&(_.uri=I[H||""]))}var D=L.indexOf(":");D>0?(H=E.prefix=L.slice(0,D),Y=E.localName=L.slice(D+1)):(H=null,Y=E.localName=L);var B=E.uri=I[H||""];if(S.startElement(B,Y,L,E),E.closed){if(S.endElement(B,Y,L),q)for(H in q)Object.prototype.hasOwnProperty.call(q,H)&&S.endPrefixMapping(H)}else return E.currentNSMap=I,E.localNSMap=q,!0}function F(E,S,I,L,q){if(/^(?:script|textarea)$/i.test(I)){var _=E.indexOf("</"+I+">",S),M=E.substring(S+1,_);if(/[&<]/.test(M))return/^script$/i.test(I)?(q.characters(M,0,M.length),_):(M=M.replace(/&#?\w+;/g,L),q.characters(M,0,M.length),_)}return S+1}function O(E,S,I,L){var q=L[I];return q==null&&(q=E.lastIndexOf("</"+I+">"),q<S&&(q=E.lastIndexOf("</"+I)),L[I]=q),q<S}function b(E,S){for(var I in E)Object.prototype.hasOwnProperty.call(E,I)&&(S[I]=E[I])}function w(E,S,I,L){var q=E.charAt(S+2);switch(q){case"-":if(E.charAt(S+3)==="-"){var _=E.indexOf("-->",S+4);return _>S?(I.comment(E,S+4,_-S-4),_+3):(L.error("Unclosed comment"),-1)}else return-1;default:if(E.substr(S+3,6)=="CDATA["){var _=E.indexOf("]]>",S+9);return I.startCDATA(),I.characters(E,S+9,_-S-9),I.endCDATA(),_+3}var M=N(E,S),G=M.length;if(G>1&&/!doctype/i.test(M[0][0])){var H=M[1][0],Y=!1,P=!1;G>3&&(/^public$/i.test(M[2][0])?(Y=M[3][0],P=G>4&&M[4][0]):/^system$/i.test(M[2][0])&&(P=M[3][0]));var W=M[G-1];return I.startDTD(H,Y,P),I.endDTD(),W.index+W[0].length}}return-1}function R(E,S,I){var L=E.indexOf("?>",S);if(L){var q=E.substring(S,L).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return q?(q[0].length,I.processingInstruction(q[1],q[2]),L+2):-1}return-1}function C(){this.attributeNames={}}C.prototype={setTagName:function(E){if(!n.test(E))throw new Error("invalid tagName:"+E);this.tagName=E},addValue:function(E,S,I){if(!n.test(E))throw new Error("invalid attribute:"+E);this.attributeNames[E]=this.length,this[this.length++]={qName:E,value:S,offset:I}},length:0,getLocalName:function(E){return this[E].localName},getLocator:function(E){return this[E].locator},getQName:function(E){return this[E].qName},getURI:function(E){return this[E].uri},getValue:function(E){return this[E].value}};function N(E,S){var I,L=[],q=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(q.lastIndex=S,q.exec(E);I=q.exec(E);)if(L.push(I),I[1])return L}return Cr.XMLReader=g,Cr.ParseError=p,Cr}var zi;function Dc(){if(zi)return Xt;zi=1;var t=Er(),e=Vi(),r=Cc(),n=yc(),o=e.DOMImplementation,i=t.NAMESPACE,s=n.ParseError,a=n.XMLReader;function u(A){return A.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function l(A){this.options=A||{locator:{}}}l.prototype.parseFromString=function(A,y){var F=this.options,O=new a,b=F.domBuilder||new c,w=F.errorHandler,R=F.locator,C=F.xmlns||{},N=/\/x?html?$/.test(y),E=N?r.HTML_ENTITIES:r.XML_ENTITIES;R&&b.setDocumentLocator(R),O.errorHandler=f(w,b,R),O.domBuilder=F.domBuilder||b,N&&(C[""]=i.HTML),C.xml=C.xml||i.XML;var S=F.normalizeLineEndings||u;return A&&typeof A=="string"?O.parse(S(A),C,E):O.errorHandler.error("invalid doc source"),b.doc};function f(A,y,F){if(!A){if(y instanceof c)return y;A=y}var O={},b=A instanceof Function;F=F||{};function w(R){var C=A[R];!C&&b&&(C=A.length==2?function(N){A(R,N)}:A),O[R]=C&&function(N){C("[xmldom "+R+"]	"+N+g(F))}||function(){}}return w("warning"),w("error"),w("fatalError"),O}function c(){this.cdata=!1}function p(A,y){y.lineNumber=A.lineNumber,y.columnNumber=A.columnNumber}c.prototype={startDocument:function(){this.doc=new o().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(A,y,F,O){var b=this.doc,w=b.createElementNS(A,F||y),R=O.length;x(this,w),this.currentElement=w,this.locator&&p(this.locator,w);for(var C=0;C<R;C++){var A=O.getURI(C),N=O.getValue(C),F=O.getQName(C),E=b.createAttributeNS(A,F);this.locator&&p(O.getLocator(C),E),E.value=E.nodeValue=N,w.setAttributeNode(E)}},endElement:function(A,y,F){var O=this.currentElement;O.tagName,this.currentElement=O.parentNode},startPrefixMapping:function(A,y){},endPrefixMapping:function(A){},processingInstruction:function(A,y){var F=this.doc.createProcessingInstruction(A,y);this.locator&&p(this.locator,F),x(this,F)},ignorableWhitespace:function(A,y,F){},characters:function(A,y,F){if(A=h.apply(this,arguments),A){if(this.cdata)var O=this.doc.createCDATASection(A);else var O=this.doc.createTextNode(A);this.currentElement?this.currentElement.appendChild(O):/^\s*$/.test(A)&&this.doc.appendChild(O),this.locator&&p(this.locator,O)}},skippedEntity:function(A){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(A){(this.locator=A)&&(A.lineNumber=0)},comment:function(A,y,F){A=h.apply(this,arguments);var O=this.doc.createComment(A);this.locator&&p(this.locator,O),x(this,O)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(A,y,F){var O=this.doc.implementation;if(O&&O.createDocumentType){var b=O.createDocumentType(A,y,F);this.locator&&p(this.locator,b),x(this,b),this.doc.doctype=b}},warning:function(A){console.warn("[xmldom warning]	"+A,g(this.locator))},error:function(A){console.error("[xmldom error]	"+A,g(this.locator))},fatalError:function(A){throw new s(A,this.locator)}};function g(A){if(A)return`
@`+(A.systemId||"")+"#[line:"+A.lineNumber+",col:"+A.columnNumber+"]"}function h(A,y,F){return typeof A=="string"?A.substr(y,F):A.length>=y+F||y?new java.lang.String(A,y,F)+"":A}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(A){c.prototype[A]=function(){return null}});function x(A,y){A.currentElement?A.currentElement.appendChild(y):A.doc.appendChild(y)}return Xt.__DOMHandler=c,Xt.normalizeLineEndings=u,Xt.DOMParser=l,Xt}var Qi;function bc(){if(Qi)return Ht;Qi=1;var t=Vi();return Ht.DOMImplementation=t.DOMImplementation,Ht.XMLSerializer=t.XMLSerializer,Ht.DOMParser=Dc().DOMParser,Ht}var Fc=bc();const wc=Bt({__proto__:null},[Fc]);return Ec}));
//# sourceMappingURL=ovenplayer.js.map
