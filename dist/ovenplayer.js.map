{"version":3,"file":"ovenplayer.js","sources":["../src/js/version.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/_setup.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/restArguments.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/isObject.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/isNull.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/isUndefined.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/isBoolean.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/isElement.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/_tagTester.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/isString.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/isNumber.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/isDate.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/isRegExp.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/isError.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/isSymbol.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/isArrayBuffer.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/isFunction.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/_hasObjectTag.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/_stringTagBug.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/isDataView.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/isArray.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/_has.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/isArguments.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/isFinite.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/isNaN.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/constant.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/_createSizePropertyCheck.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/_shallowProperty.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/_getByteLength.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/_isBufferLike.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/isTypedArray.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/_getLength.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/_collectNonEnumProps.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/keys.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/isEmpty.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/isMatch.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/underscore.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/_toBufferView.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/isEqual.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/allKeys.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/_methodFingerprint.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/isMap.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/isWeakMap.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/isSet.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/isWeakSet.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/values.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/pairs.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/invert.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/functions.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/_createAssigner.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/extend.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/extendOwn.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/defaults.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/_baseCreate.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/create.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/clone.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/tap.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/toPath.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/_toPath.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/_deepGet.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/get.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/has.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/identity.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/matcher.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/property.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/_optimizeCb.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/_baseIteratee.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/iteratee.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/_cb.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/mapObject.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/noop.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/propertyOf.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/times.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/random.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/now.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/_createEscaper.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/_escapeMap.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/escape.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/_unescapeMap.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/unescape.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/templateSettings.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/template.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/result.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/uniqueId.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/chain.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/_executeBound.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/partial.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/bind.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/_isArrayLike.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/_flatten.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/bindAll.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/memoize.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/delay.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/defer.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/throttle.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/debounce.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/wrap.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/negate.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/compose.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/after.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/before.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/once.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/findKey.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/_createPredicateIndexFinder.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/findIndex.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/findLastIndex.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/sortedIndex.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/_createIndexFinder.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/indexOf.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/lastIndexOf.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/find.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/findWhere.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/each.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/map.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/_createReduce.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/reduce.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/reduceRight.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/filter.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/reject.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/every.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/some.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/contains.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/invoke.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/pluck.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/where.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/max.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/min.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/toArray.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/sample.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/shuffle.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/sortBy.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/_group.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/groupBy.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/indexBy.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/countBy.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/partition.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/size.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/_keyInObj.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/pick.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/omit.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/initial.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/first.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/rest.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/last.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/compact.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/flatten.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/difference.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/without.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/uniq.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/union.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/intersection.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/unzip.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/zip.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/object.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/range.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/chunk.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/_chainResult.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/mixin.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/underscore-array-methods.js","../node_modules/.pnpm/underscore@1.13.7/node_modules/underscore/modules/index-default.js","../src/js/utils/strings.js","../src/js/api/caption/parser/SrtParser.js","../src/js/utils/captions/vttCue.js","../src/js/utils/captions/vttRegion.js","../src/js/api/caption/parser/VttParser.js","../src/js/utils/browser.js","../src/js/api/caption/parser/SmiParser.js","../src/js/api/caption/Loader.js","../src/js/api/constants.js","../src/js/api/caption/Manager.js","../src/js/utils/deepMerge.js","../src/js/api/Configurator.js","../src/js/api/EventEmitter.js","../src/js/utils/likeA$.js","../src/js/api/media/Manager.js","../src/js/utils/validator.js","../src/js/api/SupportChecker.js","../src/js/api/playlist/Manager.js","../src/js/api/ads/ima/Listener.js","../src/js/api/ads/utils.js","../src/js/api/ads/ima/Ad.js","../node_modules/.pnpm/@dailymotion+vast-client@6.4.1/node_modules/@dailymotion/vast-client/dist/vast-client.min.js","../src/js/api/ads/vast/Listener.js","../src/js/api/ads/vast/Ad.js","../src/js/api/provider/utils.js","../src/js/api/provider/html5/Listener.js","../src/js/api/provider/html5/Provider.js","../src/js/utils/eme.js","../src/js/api/provider/html5/providers/Html5.js","../src/js/api/provider/html5/providers/WebRTCLoader.js","../src/js/api/worker/RTCTransform.worker.js?raw","../src/js/api/provider/html5/providers/WebRTC.js","../src/js/utils/sizeHumanizer.js","../src/js/api/provider/html5/providers/Dash.js","../src/js/api/provider/html5/providers/Hls.js","../src/js/api/provider/Controller.js","../src/js/api/ApiExpansions.js","../src/js/api/Api.js","../src/js/ovenplayer.sdk.js","../src/js/view/example/textviewTemplate.js","../src/js/view/viewTemplate.js","../src/js/view/components/helpers/mainTemplate.js","../src/js/view/components/helpers/bigButtonTemplate.js","../src/js/view/components/helpers/thumbnailTemplate.js","../src/js/view/components/helpers/waterMarkTemplate.js","../src/js/view/components/helpers/messageBoxTemplate.js","../src/js/view/components/helpers/spinnerTemplate.js","../src/js/view/components/helpers/contextPanelTemplate.js","../src/js/view/components/helpers/captionViewerTemplate.js","../src/js/view/components/controls/mainTemplate.js","../src/js/view/components/controls/volumeButtonTemplate.js","../src/js/view/components/controls/progressBarTemplate.js","../src/js/view/components/controls/playButtonTemplate.js","../src/js/view/components/controls/settingButtonTemplate.js","../src/js/view/components/controls/frameButtonsTemplate.js","../src/js/view/components/controls/timeDisplayTemplate.js","../src/js/view/components/controls/fullScreenButtonTemplate.js","../src/js/view/components/controls/settingPanel/mainTemplate.js","../src/js/view/components/controls/playlistPanelTemplate.js","../src/js/view/engine/Templates.js","../src/js/view/engine/OvenTemplate.js","../src/js/view/components/helpers/bigButton.js","../src/js/view/components/helpers/messageBox.js","../src/js/view/components/helpers/captionViewer.js","../src/js/view/components/helpers/thumbnail.js","../src/js/view/components/helpers/waterMark.js","../src/js/view/components/helpers/spinner.js","../src/js/view/components/helpers/main.js","../src/js/view/components/controls/playButton.js","../src/js/view/global/PanelManager.js","../src/js/view/components/controls/settingPanel/speedPanel.js","../src/js/view/components/controls/settingPanel/zoomPanel.js","../src/js/view/components/controls/settingPanel/sourcePanel.js","../src/js/view/components/controls/settingPanel/qualityPanel.js","../src/js/view/components/controls/settingPanel/audioTrackPanel.js","../src/js/view/components/controls/settingPanel/captionPanel.js","../src/js/view/components/controls/settingPanel/timeDisplayPanel.js","../src/js/view/components/controls/settingPanel/main.js","../src/js/view/components/controls/settingButton.js","../src/js/view/components/controls/volumeButton.js","../src/js/view/components/controls/progressBar.js","../src/js/view/components/controls/playlistPanel.js","../src/js/view/components/controls/timeDisplay.js","../src/js/view/components/controls/fullScreenButton.js","../src/js/view/components/controls/main.js","../src/js/view/components/helpers/contextPanel.js","../src/js/utils/resize-sensor.js","../src/js/utils/getTouchSection.js","../src/js/view/view.js","../src/js/ovenplayer.js","../node_modules/.pnpm/@xmldom+xmldom@0.8.11/node_modules/@xmldom/xmldom/lib/conventions.js","../node_modules/.pnpm/@xmldom+xmldom@0.8.11/node_modules/@xmldom/xmldom/lib/dom.js","../node_modules/.pnpm/@xmldom+xmldom@0.8.11/node_modules/@xmldom/xmldom/lib/entities.js","../node_modules/.pnpm/@xmldom+xmldom@0.8.11/node_modules/@xmldom/xmldom/lib/sax.js","../node_modules/.pnpm/@xmldom+xmldom@0.8.11/node_modules/@xmldom/xmldom/lib/dom-parser.js","../node_modules/.pnpm/@xmldom+xmldom@0.8.11/node_modules/@xmldom/xmldom/lib/index.js"],"sourcesContent":["/**\r\n * Created by hoho on 2018. 6. 29..\r\n */\r\nexport const version = __VERSION__;\r\n","// Current version.\nexport var VERSION = '1.13.7';\n\n// Establish the root object, `window` (`self`) in the browser, `global`\n// on the server, or `this` in some virtual machines. We use `self`\n// instead of `window` for `WebWorker` support.\nexport var root = (typeof self == 'object' && self.self === self && self) ||\n          (typeof global == 'object' && global.global === global && global) ||\n          Function('return this')() ||\n          {};\n\n// Save bytes in the minified (but not gzipped) version:\nexport var ArrayProto = Array.prototype, ObjProto = Object.prototype;\nexport var SymbolProto = typeof Symbol !== 'undefined' ? Symbol.prototype : null;\n\n// Create quick reference variables for speed access to core prototypes.\nexport var push = ArrayProto.push,\n    slice = ArrayProto.slice,\n    toString = ObjProto.toString,\n    hasOwnProperty = ObjProto.hasOwnProperty;\n\n// Modern feature detection.\nexport var supportsArrayBuffer = typeof ArrayBuffer !== 'undefined',\n    supportsDataView = typeof DataView !== 'undefined';\n\n// All **ECMAScript 5+** native function implementations that we hope to use\n// are declared here.\nexport var nativeIsArray = Array.isArray,\n    nativeKeys = Object.keys,\n    nativeCreate = Object.create,\n    nativeIsView = supportsArrayBuffer && ArrayBuffer.isView;\n\n// Create references to these builtin functions because we override them.\nexport var _isNaN = isNaN,\n    _isFinite = isFinite;\n\n// Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\nexport var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\nexport var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n  'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n// The largest integer that can be represented exactly.\nexport var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n","// Some functions take a variable number of arguments, or a few expected\n// arguments at the beginning and then a variable number of values to operate\n// on. This helper accumulates all remaining arguments past the function’s\n// argument length (or an explicit `startIndex`), into an array that becomes\n// the last argument. Similar to ES6’s \"rest parameter\".\nexport default function restArguments(func, startIndex) {\n  startIndex = startIndex == null ? func.length - 1 : +startIndex;\n  return function() {\n    var length = Math.max(arguments.length - startIndex, 0),\n        rest = Array(length),\n        index = 0;\n    for (; index < length; index++) {\n      rest[index] = arguments[index + startIndex];\n    }\n    switch (startIndex) {\n      case 0: return func.call(this, rest);\n      case 1: return func.call(this, arguments[0], rest);\n      case 2: return func.call(this, arguments[0], arguments[1], rest);\n    }\n    var args = Array(startIndex + 1);\n    for (index = 0; index < startIndex; index++) {\n      args[index] = arguments[index];\n    }\n    args[startIndex] = rest;\n    return func.apply(this, args);\n  };\n}\n","// Is a given variable an object?\nexport default function isObject(obj) {\n  var type = typeof obj;\n  return type === 'function' || (type === 'object' && !!obj);\n}\n","// Is a given value equal to null?\nexport default function isNull(obj) {\n  return obj === null;\n}\n","// Is a given variable undefined?\nexport default function isUndefined(obj) {\n  return obj === void 0;\n}\n","import { toString } from './_setup.js';\n\n// Is a given value a boolean?\nexport default function isBoolean(obj) {\n  return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n}\n","// Is a given value a DOM element?\nexport default function isElement(obj) {\n  return !!(obj && obj.nodeType === 1);\n}\n","import { toString } from './_setup.js';\n\n// Internal function for creating a `toString`-based type tester.\nexport default function tagTester(name) {\n  var tag = '[object ' + name + ']';\n  return function(obj) {\n    return toString.call(obj) === tag;\n  };\n}\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('String');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Number');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Date');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('RegExp');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Error');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Symbol');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('ArrayBuffer');\n","import tagTester from './_tagTester.js';\nimport { root } from './_setup.js';\n\nvar isFunction = tagTester('Function');\n\n// Optimize `isFunction` if appropriate. Work around some `typeof` bugs in old\n// v8, IE 11 (#1621), Safari 8 (#1929), and PhantomJS (#2236).\nvar nodelist = root.document && root.document.childNodes;\nif (typeof /./ != 'function' && typeof Int8Array != 'object' && typeof nodelist != 'function') {\n  isFunction = function(obj) {\n    return typeof obj == 'function' || false;\n  };\n}\n\nexport default isFunction;\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Object');\n","import { supportsDataView } from './_setup.js';\nimport hasObjectTag from './_hasObjectTag.js';\n\n// In IE 10 - Edge 13, `DataView` has string tag `'[object Object]'`.\n// In IE 11, the most common among them, this problem also applies to\n// `Map`, `WeakMap` and `Set`.\n// Also, there are cases where an application can override the native\n// `DataView` object, in cases like that we can't use the constructor\n// safely and should just rely on alternate `DataView` checks\nexport var hasDataViewBug = (\n      supportsDataView && (!/\\[native code\\]/.test(String(DataView)) || hasObjectTag(new DataView(new ArrayBuffer(8))))\n    ),\n    isIE11 = (typeof Map !== 'undefined' && hasObjectTag(new Map));\n","import tagTester from './_tagTester.js';\nimport isFunction from './isFunction.js';\nimport isArrayBuffer from './isArrayBuffer.js';\nimport { hasDataViewBug } from './_stringTagBug.js';\n\nvar isDataView = tagTester('DataView');\n\n// In IE 10 - Edge 13, we need a different heuristic\n// to determine whether an object is a `DataView`.\n// Also, in cases where the native `DataView` is\n// overridden we can't rely on the tag itself.\nfunction alternateIsDataView(obj) {\n  return obj != null && isFunction(obj.getInt8) && isArrayBuffer(obj.buffer);\n}\n\nexport default (hasDataViewBug ? alternateIsDataView : isDataView);\n","import { nativeIsArray } from './_setup.js';\nimport tagTester from './_tagTester.js';\n\n// Is a given value an array?\n// Delegates to ECMA5's native `Array.isArray`.\nexport default nativeIsArray || tagTester('Array');\n","import { hasOwnProperty } from './_setup.js';\n\n// Internal function to check whether `key` is an own property name of `obj`.\nexport default function has(obj, key) {\n  return obj != null && hasOwnProperty.call(obj, key);\n}\n","import tagTester from './_tagTester.js';\nimport has from './_has.js';\n\nvar isArguments = tagTester('Arguments');\n\n// Define a fallback version of the method in browsers (ahem, IE < 9), where\n// there isn't any inspectable \"Arguments\" type.\n(function() {\n  if (!isArguments(arguments)) {\n    isArguments = function(obj) {\n      return has(obj, 'callee');\n    };\n  }\n}());\n\nexport default isArguments;\n","import { _isFinite } from './_setup.js';\nimport isSymbol from './isSymbol.js';\n\n// Is a given object a finite number?\nexport default function isFinite(obj) {\n  return !isSymbol(obj) && _isFinite(obj) && !isNaN(parseFloat(obj));\n}\n","import { _isNaN } from './_setup.js';\nimport isNumber from './isNumber.js';\n\n// Is the given value `NaN`?\nexport default function isNaN(obj) {\n  return isNumber(obj) && _isNaN(obj);\n}\n","// Predicate-generating function. Often useful outside of Underscore.\nexport default function constant(value) {\n  return function() {\n    return value;\n  };\n}\n","import { MAX_ARRAY_INDEX } from './_setup.js';\n\n// Common internal logic for `isArrayLike` and `isBufferLike`.\nexport default function createSizePropertyCheck(getSizeProperty) {\n  return function(collection) {\n    var sizeProperty = getSizeProperty(collection);\n    return typeof sizeProperty == 'number' && sizeProperty >= 0 && sizeProperty <= MAX_ARRAY_INDEX;\n  }\n}\n","// Internal helper to generate a function to obtain property `key` from `obj`.\nexport default function shallowProperty(key) {\n  return function(obj) {\n    return obj == null ? void 0 : obj[key];\n  };\n}\n","import shallowProperty from './_shallowProperty.js';\n\n// Internal helper to obtain the `byteLength` property of an object.\nexport default shallowProperty('byteLength');\n","import createSizePropertyCheck from './_createSizePropertyCheck.js';\nimport getByteLength from './_getByteLength.js';\n\n// Internal helper to determine whether we should spend extensive checks against\n// `ArrayBuffer` et al.\nexport default createSizePropertyCheck(getByteLength);\n","import { supportsArrayBuffer, nativeIsView, toString } from './_setup.js';\nimport isDataView from './isDataView.js';\nimport constant from './constant.js';\nimport isBufferLike from './_isBufferLike.js';\n\n// Is a given value a typed array?\nvar typedArrayPattern = /\\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\\]/;\nfunction isTypedArray(obj) {\n  // `ArrayBuffer.isView` is the most future-proof, so use it when available.\n  // Otherwise, fall back on the above regular expression.\n  return nativeIsView ? (nativeIsView(obj) && !isDataView(obj)) :\n                isBufferLike(obj) && typedArrayPattern.test(toString.call(obj));\n}\n\nexport default supportsArrayBuffer ? isTypedArray : constant(false);\n","import shallowProperty from './_shallowProperty.js';\n\n// Internal helper to obtain the `length` property of an object.\nexport default shallowProperty('length');\n","import { nonEnumerableProps, ObjProto } from './_setup.js';\nimport isFunction from './isFunction.js';\nimport has from './_has.js';\n\n// Internal helper to create a simple lookup structure.\n// `collectNonEnumProps` used to depend on `_.contains`, but this led to\n// circular imports. `emulatedSet` is a one-off solution that only works for\n// arrays of strings.\nfunction emulatedSet(keys) {\n  var hash = {};\n  for (var l = keys.length, i = 0; i < l; ++i) hash[keys[i]] = true;\n  return {\n    contains: function(key) { return hash[key] === true; },\n    push: function(key) {\n      hash[key] = true;\n      return keys.push(key);\n    }\n  };\n}\n\n// Internal helper. Checks `keys` for the presence of keys in IE < 9 that won't\n// be iterated by `for key in ...` and thus missed. Extends `keys` in place if\n// needed.\nexport default function collectNonEnumProps(obj, keys) {\n  keys = emulatedSet(keys);\n  var nonEnumIdx = nonEnumerableProps.length;\n  var constructor = obj.constructor;\n  var proto = (isFunction(constructor) && constructor.prototype) || ObjProto;\n\n  // Constructor is a special case.\n  var prop = 'constructor';\n  if (has(obj, prop) && !keys.contains(prop)) keys.push(prop);\n\n  while (nonEnumIdx--) {\n    prop = nonEnumerableProps[nonEnumIdx];\n    if (prop in obj && obj[prop] !== proto[prop] && !keys.contains(prop)) {\n      keys.push(prop);\n    }\n  }\n}\n","import isObject from './isObject.js';\nimport { nativeKeys, hasEnumBug } from './_setup.js';\nimport has from './_has.js';\nimport collectNonEnumProps from './_collectNonEnumProps.js';\n\n// Retrieve the names of an object's own properties.\n// Delegates to **ECMAScript 5**'s native `Object.keys`.\nexport default function keys(obj) {\n  if (!isObject(obj)) return [];\n  if (nativeKeys) return nativeKeys(obj);\n  var keys = [];\n  for (var key in obj) if (has(obj, key)) keys.push(key);\n  // Ahem, IE < 9.\n  if (hasEnumBug) collectNonEnumProps(obj, keys);\n  return keys;\n}\n","import getLength from './_getLength.js';\nimport isArray from './isArray.js';\nimport isString from './isString.js';\nimport isArguments from './isArguments.js';\nimport keys from './keys.js';\n\n// Is a given array, string, or object empty?\n// An \"empty\" object has no enumerable own-properties.\nexport default function isEmpty(obj) {\n  if (obj == null) return true;\n  // Skip the more expensive `toString`-based type checks if `obj` has no\n  // `.length`.\n  var length = getLength(obj);\n  if (typeof length == 'number' && (\n    isArray(obj) || isString(obj) || isArguments(obj)\n  )) return length === 0;\n  return getLength(keys(obj)) === 0;\n}\n","import keys from './keys.js';\n\n// Returns whether an object has a given set of `key:value` pairs.\nexport default function isMatch(object, attrs) {\n  var _keys = keys(attrs), length = _keys.length;\n  if (object == null) return !length;\n  var obj = Object(object);\n  for (var i = 0; i < length; i++) {\n    var key = _keys[i];\n    if (attrs[key] !== obj[key] || !(key in obj)) return false;\n  }\n  return true;\n}\n","import { VERSION } from './_setup.js';\n\n// If Underscore is called as a function, it returns a wrapped object that can\n// be used OO-style. This wrapper holds altered versions of all functions added\n// through `_.mixin`. Wrapped objects may be chained.\nexport default function _(obj) {\n  if (obj instanceof _) return obj;\n  if (!(this instanceof _)) return new _(obj);\n  this._wrapped = obj;\n}\n\n_.VERSION = VERSION;\n\n// Extracts the result from a wrapped and chained object.\n_.prototype.value = function() {\n  return this._wrapped;\n};\n\n// Provide unwrapping proxies for some methods used in engine operations\n// such as arithmetic and JSON stringification.\n_.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n\n_.prototype.toString = function() {\n  return String(this._wrapped);\n};\n","import getByteLength from './_getByteLength.js';\n\n// Internal function to wrap or shallow-copy an ArrayBuffer,\n// typed array or DataView to a new view, reusing the buffer.\nexport default function toBufferView(bufferSource) {\n  return new Uint8Array(\n    bufferSource.buffer || bufferSource,\n    bufferSource.byteOffset || 0,\n    getByteLength(bufferSource)\n  );\n}\n","import _ from './underscore.js';\nimport { toString, SymbolProto } from './_setup.js';\nimport getByteLength from './_getByteLength.js';\nimport isTypedArray from './isTypedArray.js';\nimport isFunction from './isFunction.js';\nimport { hasDataViewBug }  from './_stringTagBug.js';\nimport isDataView from './isDataView.js';\nimport keys from './keys.js';\nimport has from './_has.js';\nimport toBufferView from './_toBufferView.js';\n\n// We use this string twice, so give it a name for minification.\nvar tagDataView = '[object DataView]';\n\n// Internal recursive comparison function for `_.isEqual`.\nfunction eq(a, b, aStack, bStack) {\n  // Identical objects are equal. `0 === -0`, but they aren't identical.\n  // See the [Harmony `egal` proposal](https://wiki.ecmascript.org/doku.php?id=harmony:egal).\n  if (a === b) return a !== 0 || 1 / a === 1 / b;\n  // `null` or `undefined` only equal to itself (strict comparison).\n  if (a == null || b == null) return false;\n  // `NaN`s are equivalent, but non-reflexive.\n  if (a !== a) return b !== b;\n  // Exhaust primitive checks\n  var type = typeof a;\n  if (type !== 'function' && type !== 'object' && typeof b != 'object') return false;\n  return deepEq(a, b, aStack, bStack);\n}\n\n// Internal recursive comparison function for `_.isEqual`.\nfunction deepEq(a, b, aStack, bStack) {\n  // Unwrap any wrapped objects.\n  if (a instanceof _) a = a._wrapped;\n  if (b instanceof _) b = b._wrapped;\n  // Compare `[[Class]]` names.\n  var className = toString.call(a);\n  if (className !== toString.call(b)) return false;\n  // Work around a bug in IE 10 - Edge 13.\n  if (hasDataViewBug && className == '[object Object]' && isDataView(a)) {\n    if (!isDataView(b)) return false;\n    className = tagDataView;\n  }\n  switch (className) {\n    // These types are compared by value.\n    case '[object RegExp]':\n      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n    case '[object String]':\n      // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n      // equivalent to `new String(\"5\")`.\n      return '' + a === '' + b;\n    case '[object Number]':\n      // `NaN`s are equivalent, but non-reflexive.\n      // Object(NaN) is equivalent to NaN.\n      if (+a !== +a) return +b !== +b;\n      // An `egal` comparison is performed for other numeric values.\n      return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n    case '[object Date]':\n    case '[object Boolean]':\n      // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n      // millisecond representations. Note that invalid dates with millisecond representations\n      // of `NaN` are not equivalent.\n      return +a === +b;\n    case '[object Symbol]':\n      return SymbolProto.valueOf.call(a) === SymbolProto.valueOf.call(b);\n    case '[object ArrayBuffer]':\n    case tagDataView:\n      // Coerce to typed array so we can fall through.\n      return deepEq(toBufferView(a), toBufferView(b), aStack, bStack);\n  }\n\n  var areArrays = className === '[object Array]';\n  if (!areArrays && isTypedArray(a)) {\n      var byteLength = getByteLength(a);\n      if (byteLength !== getByteLength(b)) return false;\n      if (a.buffer === b.buffer && a.byteOffset === b.byteOffset) return true;\n      areArrays = true;\n  }\n  if (!areArrays) {\n    if (typeof a != 'object' || typeof b != 'object') return false;\n\n    // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n    // from different frames are.\n    var aCtor = a.constructor, bCtor = b.constructor;\n    if (aCtor !== bCtor && !(isFunction(aCtor) && aCtor instanceof aCtor &&\n                             isFunction(bCtor) && bCtor instanceof bCtor)\n                        && ('constructor' in a && 'constructor' in b)) {\n      return false;\n    }\n  }\n  // Assume equality for cyclic structures. The algorithm for detecting cyclic\n  // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n  // Initializing stack of traversed objects.\n  // It's done here since we only need them for objects and arrays comparison.\n  aStack = aStack || [];\n  bStack = bStack || [];\n  var length = aStack.length;\n  while (length--) {\n    // Linear search. Performance is inversely proportional to the number of\n    // unique nested structures.\n    if (aStack[length] === a) return bStack[length] === b;\n  }\n\n  // Add the first object to the stack of traversed objects.\n  aStack.push(a);\n  bStack.push(b);\n\n  // Recursively compare objects and arrays.\n  if (areArrays) {\n    // Compare array lengths to determine if a deep comparison is necessary.\n    length = a.length;\n    if (length !== b.length) return false;\n    // Deep compare the contents, ignoring non-numeric properties.\n    while (length--) {\n      if (!eq(a[length], b[length], aStack, bStack)) return false;\n    }\n  } else {\n    // Deep compare objects.\n    var _keys = keys(a), key;\n    length = _keys.length;\n    // Ensure that both objects contain the same number of properties before comparing deep equality.\n    if (keys(b).length !== length) return false;\n    while (length--) {\n      // Deep compare each member\n      key = _keys[length];\n      if (!(has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n    }\n  }\n  // Remove the first object from the stack of traversed objects.\n  aStack.pop();\n  bStack.pop();\n  return true;\n}\n\n// Perform a deep comparison to check if two objects are equal.\nexport default function isEqual(a, b) {\n  return eq(a, b);\n}\n","import isObject from './isObject.js';\nimport { hasEnumBug } from './_setup.js';\nimport collectNonEnumProps from './_collectNonEnumProps.js';\n\n// Retrieve all the enumerable property names of an object.\nexport default function allKeys(obj) {\n  if (!isObject(obj)) return [];\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  // Ahem, IE < 9.\n  if (hasEnumBug) collectNonEnumProps(obj, keys);\n  return keys;\n}\n","import getLength from './_getLength.js';\nimport isFunction from './isFunction.js';\nimport allKeys from './allKeys.js';\n\n// Since the regular `Object.prototype.toString` type tests don't work for\n// some types in IE 11, we use a fingerprinting heuristic instead, based\n// on the methods. It's not great, but it's the best we got.\n// The fingerprint method lists are defined below.\nexport function ie11fingerprint(methods) {\n  var length = getLength(methods);\n  return function(obj) {\n    if (obj == null) return false;\n    // `Map`, `WeakMap` and `Set` have no enumerable keys.\n    var keys = allKeys(obj);\n    if (getLength(keys)) return false;\n    for (var i = 0; i < length; i++) {\n      if (!isFunction(obj[methods[i]])) return false;\n    }\n    // If we are testing against `WeakMap`, we need to ensure that\n    // `obj` doesn't have a `forEach` method in order to distinguish\n    // it from a regular `Map`.\n    return methods !== weakMapMethods || !isFunction(obj[forEachName]);\n  };\n}\n\n// In the interest of compact minification, we write\n// each string in the fingerprints only once.\nvar forEachName = 'forEach',\n    hasName = 'has',\n    commonInit = ['clear', 'delete'],\n    mapTail = ['get', hasName, 'set'];\n\n// `Map`, `WeakMap` and `Set` each have slightly different\n// combinations of the above sublists.\nexport var mapMethods = commonInit.concat(forEachName, mapTail),\n    weakMapMethods = commonInit.concat(mapTail),\n    setMethods = ['add'].concat(commonInit, forEachName, hasName);\n","import tagTester from './_tagTester.js';\nimport { isIE11 } from './_stringTagBug.js';\nimport { ie11fingerprint, mapMethods }  from './_methodFingerprint.js';\n\nexport default isIE11 ? ie11fingerprint(mapMethods) : tagTester('Map');\n","import tagTester from './_tagTester.js';\nimport { isIE11 } from './_stringTagBug.js';\nimport { ie11fingerprint, weakMapMethods }  from './_methodFingerprint.js';\n\nexport default isIE11 ? ie11fingerprint(weakMapMethods) : tagTester('WeakMap');\n","import tagTester from './_tagTester.js';\nimport { isIE11 } from './_stringTagBug.js';\nimport { ie11fingerprint, setMethods }  from './_methodFingerprint.js';\n\nexport default isIE11 ? ie11fingerprint(setMethods) : tagTester('Set');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('WeakSet');\n","import keys from './keys.js';\n\n// Retrieve the values of an object's properties.\nexport default function values(obj) {\n  var _keys = keys(obj);\n  var length = _keys.length;\n  var values = Array(length);\n  for (var i = 0; i < length; i++) {\n    values[i] = obj[_keys[i]];\n  }\n  return values;\n}\n","import keys from './keys.js';\n\n// Convert an object into a list of `[key, value]` pairs.\n// The opposite of `_.object` with one argument.\nexport default function pairs(obj) {\n  var _keys = keys(obj);\n  var length = _keys.length;\n  var pairs = Array(length);\n  for (var i = 0; i < length; i++) {\n    pairs[i] = [_keys[i], obj[_keys[i]]];\n  }\n  return pairs;\n}\n","import keys from './keys.js';\n\n// Invert the keys and values of an object. The values must be serializable.\nexport default function invert(obj) {\n  var result = {};\n  var _keys = keys(obj);\n  for (var i = 0, length = _keys.length; i < length; i++) {\n    result[obj[_keys[i]]] = _keys[i];\n  }\n  return result;\n}\n","import isFunction from './isFunction.js';\n\n// Return a sorted list of the function names available on the object.\nexport default function functions(obj) {\n  var names = [];\n  for (var key in obj) {\n    if (isFunction(obj[key])) names.push(key);\n  }\n  return names.sort();\n}\n","// An internal function for creating assigner functions.\nexport default function createAssigner(keysFunc, defaults) {\n  return function(obj) {\n    var length = arguments.length;\n    if (defaults) obj = Object(obj);\n    if (length < 2 || obj == null) return obj;\n    for (var index = 1; index < length; index++) {\n      var source = arguments[index],\n          keys = keysFunc(source),\n          l = keys.length;\n      for (var i = 0; i < l; i++) {\n        var key = keys[i];\n        if (!defaults || obj[key] === void 0) obj[key] = source[key];\n      }\n    }\n    return obj;\n  };\n}\n","import createAssigner from './_createAssigner.js';\nimport allKeys from './allKeys.js';\n\n// Extend a given object with all the properties in passed-in object(s).\nexport default createAssigner(allKeys);\n","import createAssigner from './_createAssigner.js';\nimport keys from './keys.js';\n\n// Assigns a given object with all the own properties in the passed-in\n// object(s).\n// (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\nexport default createAssigner(keys);\n","import createAssigner from './_createAssigner.js';\nimport allKeys from './allKeys.js';\n\n// Fill in a given object with default properties.\nexport default createAssigner(allKeys, true);\n","import isObject from './isObject.js';\nimport { nativeCreate } from './_setup.js';\n\n// Create a naked function reference for surrogate-prototype-swapping.\nfunction ctor() {\n  return function(){};\n}\n\n// An internal function for creating a new object that inherits from another.\nexport default function baseCreate(prototype) {\n  if (!isObject(prototype)) return {};\n  if (nativeCreate) return nativeCreate(prototype);\n  var Ctor = ctor();\n  Ctor.prototype = prototype;\n  var result = new Ctor;\n  Ctor.prototype = null;\n  return result;\n}\n","import baseCreate from './_baseCreate.js';\nimport extendOwn from './extendOwn.js';\n\n// Creates an object that inherits from the given prototype object.\n// If additional properties are provided then they will be added to the\n// created object.\nexport default function create(prototype, props) {\n  var result = baseCreate(prototype);\n  if (props) extendOwn(result, props);\n  return result;\n}\n","import isObject from './isObject.js';\nimport isArray from './isArray.js';\nimport extend from './extend.js';\n\n// Create a (shallow-cloned) duplicate of an object.\nexport default function clone(obj) {\n  if (!isObject(obj)) return obj;\n  return isArray(obj) ? obj.slice() : extend({}, obj);\n}\n","// Invokes `interceptor` with the `obj` and then returns `obj`.\n// The primary purpose of this method is to \"tap into\" a method chain, in\n// order to perform operations on intermediate results within the chain.\nexport default function tap(obj, interceptor) {\n  interceptor(obj);\n  return obj;\n}\n","import _ from './underscore.js';\nimport isArray from './isArray.js';\n\n// Normalize a (deep) property `path` to array.\n// Like `_.iteratee`, this function can be customized.\nexport default function toPath(path) {\n  return isArray(path) ? path : [path];\n}\n_.toPath = toPath;\n","import _ from './underscore.js';\nimport './toPath.js';\n\n// Internal wrapper for `_.toPath` to enable minification.\n// Similar to `cb` for `_.iteratee`.\nexport default function toPath(path) {\n  return _.toPath(path);\n}\n","// Internal function to obtain a nested property in `obj` along `path`.\nexport default function deepGet(obj, path) {\n  var length = path.length;\n  for (var i = 0; i < length; i++) {\n    if (obj == null) return void 0;\n    obj = obj[path[i]];\n  }\n  return length ? obj : void 0;\n}\n","import toPath from './_toPath.js';\nimport deepGet from './_deepGet.js';\nimport isUndefined from './isUndefined.js';\n\n// Get the value of the (deep) property on `path` from `object`.\n// If any property in `path` does not exist or if the value is\n// `undefined`, return `defaultValue` instead.\n// The `path` is normalized through `_.toPath`.\nexport default function get(object, path, defaultValue) {\n  var value = deepGet(object, toPath(path));\n  return isUndefined(value) ? defaultValue : value;\n}\n","import _has from './_has.js';\nimport toPath from './_toPath.js';\n\n// Shortcut function for checking if an object has a given property directly on\n// itself (in other words, not on a prototype). Unlike the internal `has`\n// function, this public version can also traverse nested properties.\nexport default function has(obj, path) {\n  path = toPath(path);\n  var length = path.length;\n  for (var i = 0; i < length; i++) {\n    var key = path[i];\n    if (!_has(obj, key)) return false;\n    obj = obj[key];\n  }\n  return !!length;\n}\n","// Keep the identity function around for default iteratees.\nexport default function identity(value) {\n  return value;\n}\n","import extendOwn from './extendOwn.js';\nimport isMatch from './isMatch.js';\n\n// Returns a predicate for checking whether an object has a given set of\n// `key:value` pairs.\nexport default function matcher(attrs) {\n  attrs = extendOwn({}, attrs);\n  return function(obj) {\n    return isMatch(obj, attrs);\n  };\n}\n","import deepGet from './_deepGet.js';\nimport toPath from './_toPath.js';\n\n// Creates a function that, when passed an object, will traverse that object’s\n// properties down the given `path`, specified as an array of keys or indices.\nexport default function property(path) {\n  path = toPath(path);\n  return function(obj) {\n    return deepGet(obj, path);\n  };\n}\n","// Internal function that returns an efficient (for current engines) version\n// of the passed-in callback, to be repeatedly applied in other Underscore\n// functions.\nexport default function optimizeCb(func, context, argCount) {\n  if (context === void 0) return func;\n  switch (argCount == null ? 3 : argCount) {\n    case 1: return function(value) {\n      return func.call(context, value);\n    };\n    // The 2-argument case is omitted because we’re not using it.\n    case 3: return function(value, index, collection) {\n      return func.call(context, value, index, collection);\n    };\n    case 4: return function(accumulator, value, index, collection) {\n      return func.call(context, accumulator, value, index, collection);\n    };\n  }\n  return function() {\n    return func.apply(context, arguments);\n  };\n}\n","import identity from './identity.js';\nimport isFunction from './isFunction.js';\nimport isObject from './isObject.js';\nimport isArray from './isArray.js';\nimport matcher from './matcher.js';\nimport property from './property.js';\nimport optimizeCb from './_optimizeCb.js';\n\n// An internal function to generate callbacks that can be applied to each\n// element in a collection, returning the desired result — either `_.identity`,\n// an arbitrary callback, a property matcher, or a property accessor.\nexport default function baseIteratee(value, context, argCount) {\n  if (value == null) return identity;\n  if (isFunction(value)) return optimizeCb(value, context, argCount);\n  if (isObject(value) && !isArray(value)) return matcher(value);\n  return property(value);\n}\n","import _ from './underscore.js';\nimport baseIteratee from './_baseIteratee.js';\n\n// External wrapper for our callback generator. Users may customize\n// `_.iteratee` if they want additional predicate/iteratee shorthand styles.\n// This abstraction hides the internal-only `argCount` argument.\nexport default function iteratee(value, context) {\n  return baseIteratee(value, context, Infinity);\n}\n_.iteratee = iteratee;\n","import _ from './underscore.js';\nimport baseIteratee from './_baseIteratee.js';\nimport iteratee from './iteratee.js';\n\n// The function we call internally to generate a callback. It invokes\n// `_.iteratee` if overridden, otherwise `baseIteratee`.\nexport default function cb(value, context, argCount) {\n  if (_.iteratee !== iteratee) return _.iteratee(value, context);\n  return baseIteratee(value, context, argCount);\n}\n","import cb from './_cb.js';\nimport keys from './keys.js';\n\n// Returns the results of applying the `iteratee` to each element of `obj`.\n// In contrast to `_.map` it returns an object.\nexport default function mapObject(obj, iteratee, context) {\n  iteratee = cb(iteratee, context);\n  var _keys = keys(obj),\n      length = _keys.length,\n      results = {};\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys[index];\n    results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n  }\n  return results;\n}\n","// Predicate-generating function. Often useful outside of Underscore.\nexport default function noop(){}\n","import noop from './noop.js';\nimport get from './get.js';\n\n// Generates a function for a given object that returns a given property.\nexport default function propertyOf(obj) {\n  if (obj == null) return noop;\n  return function(path) {\n    return get(obj, path);\n  };\n}\n","import optimizeCb from './_optimizeCb.js';\n\n// Run a function **n** times.\nexport default function times(n, iteratee, context) {\n  var accum = Array(Math.max(0, n));\n  iteratee = optimizeCb(iteratee, context, 1);\n  for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n  return accum;\n}\n","// Return a random integer between `min` and `max` (inclusive).\nexport default function random(min, max) {\n  if (max == null) {\n    max = min;\n    min = 0;\n  }\n  return min + Math.floor(Math.random() * (max - min + 1));\n}\n","// A (possibly faster) way to get the current timestamp as an integer.\nexport default Date.now || function() {\n  return new Date().getTime();\n};\n","import keys from './keys.js';\n\n// Internal helper to generate functions for escaping and unescaping strings\n// to/from HTML interpolation.\nexport default function createEscaper(map) {\n  var escaper = function(match) {\n    return map[match];\n  };\n  // Regexes for identifying a key that needs to be escaped.\n  var source = '(?:' + keys(map).join('|') + ')';\n  var testRegexp = RegExp(source);\n  var replaceRegexp = RegExp(source, 'g');\n  return function(string) {\n    string = string == null ? '' : '' + string;\n    return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n  };\n}\n","// Internal list of HTML entities for escaping.\nexport default {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#x27;',\n  '`': '&#x60;'\n};\n","import createEscaper from './_createEscaper.js';\nimport escapeMap from './_escapeMap.js';\n\n// Function for escaping strings to HTML interpolation.\nexport default createEscaper(escapeMap);\n","import invert from './invert.js';\nimport escapeMap from './_escapeMap.js';\n\n// Internal list of HTML entities for unescaping.\nexport default invert(escapeMap);\n","import createEscaper from './_createEscaper.js';\nimport unescapeMap from './_unescapeMap.js';\n\n// Function for unescaping strings from HTML interpolation.\nexport default createEscaper(unescapeMap);\n","import _ from './underscore.js';\n\n// By default, Underscore uses ERB-style template delimiters. Change the\n// following template settings to use alternative delimiters.\nexport default _.templateSettings = {\n  evaluate: /<%([\\s\\S]+?)%>/g,\n  interpolate: /<%=([\\s\\S]+?)%>/g,\n  escape: /<%-([\\s\\S]+?)%>/g\n};\n","import defaults from './defaults.js';\nimport _ from './underscore.js';\nimport './templateSettings.js';\n\n// When customizing `_.templateSettings`, if you don't want to define an\n// interpolation, evaluation or escaping regex, we need one that is\n// guaranteed not to match.\nvar noMatch = /(.)^/;\n\n// Certain characters need to be escaped so that they can be put into a\n// string literal.\nvar escapes = {\n  \"'\": \"'\",\n  '\\\\': '\\\\',\n  '\\r': 'r',\n  '\\n': 'n',\n  '\\u2028': 'u2028',\n  '\\u2029': 'u2029'\n};\n\nvar escapeRegExp = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\nfunction escapeChar(match) {\n  return '\\\\' + escapes[match];\n}\n\n// In order to prevent third-party code injection through\n// `_.templateSettings.variable`, we test it against the following regular\n// expression. It is intentionally a bit more liberal than just matching valid\n// identifiers, but still prevents possible loopholes through defaults or\n// destructuring assignment.\nvar bareIdentifier = /^\\s*(\\w|\\$)+\\s*$/;\n\n// JavaScript micro-templating, similar to John Resig's implementation.\n// Underscore templating handles arbitrary delimiters, preserves whitespace,\n// and correctly escapes quotes within interpolated code.\n// NB: `oldSettings` only exists for backwards compatibility.\nexport default function template(text, settings, oldSettings) {\n  if (!settings && oldSettings) settings = oldSettings;\n  settings = defaults({}, settings, _.templateSettings);\n\n  // Combine delimiters into one regular expression via alternation.\n  var matcher = RegExp([\n    (settings.escape || noMatch).source,\n    (settings.interpolate || noMatch).source,\n    (settings.evaluate || noMatch).source\n  ].join('|') + '|$', 'g');\n\n  // Compile the template source, escaping string literals appropriately.\n  var index = 0;\n  var source = \"__p+='\";\n  text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n    source += text.slice(index, offset).replace(escapeRegExp, escapeChar);\n    index = offset + match.length;\n\n    if (escape) {\n      source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n    } else if (interpolate) {\n      source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n    } else if (evaluate) {\n      source += \"';\\n\" + evaluate + \"\\n__p+='\";\n    }\n\n    // Adobe VMs need the match returned to produce the correct offset.\n    return match;\n  });\n  source += \"';\\n\";\n\n  var argument = settings.variable;\n  if (argument) {\n    // Insure against third-party code injection. (CVE-2021-23358)\n    if (!bareIdentifier.test(argument)) throw new Error(\n      'variable is not a bare identifier: ' + argument\n    );\n  } else {\n    // If a variable is not specified, place data values in local scope.\n    source = 'with(obj||{}){\\n' + source + '}\\n';\n    argument = 'obj';\n  }\n\n  source = \"var __t,__p='',__j=Array.prototype.join,\" +\n    \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n    source + 'return __p;\\n';\n\n  var render;\n  try {\n    render = new Function(argument, '_', source);\n  } catch (e) {\n    e.source = source;\n    throw e;\n  }\n\n  var template = function(data) {\n    return render.call(this, data, _);\n  };\n\n  // Provide the compiled source as a convenience for precompilation.\n  template.source = 'function(' + argument + '){\\n' + source + '}';\n\n  return template;\n}\n","import isFunction from './isFunction.js';\nimport toPath from './_toPath.js';\n\n// Traverses the children of `obj` along `path`. If a child is a function, it\n// is invoked with its parent as context. Returns the value of the final\n// child, or `fallback` if any child is undefined.\nexport default function result(obj, path, fallback) {\n  path = toPath(path);\n  var length = path.length;\n  if (!length) {\n    return isFunction(fallback) ? fallback.call(obj) : fallback;\n  }\n  for (var i = 0; i < length; i++) {\n    var prop = obj == null ? void 0 : obj[path[i]];\n    if (prop === void 0) {\n      prop = fallback;\n      i = length; // Ensure we don't continue iterating.\n    }\n    obj = isFunction(prop) ? prop.call(obj) : prop;\n  }\n  return obj;\n}\n","// Generate a unique integer id (unique within the entire client session).\n// Useful for temporary DOM ids.\nvar idCounter = 0;\nexport default function uniqueId(prefix) {\n  var id = ++idCounter + '';\n  return prefix ? prefix + id : id;\n}\n","import _ from './underscore.js';\n\n// Start chaining a wrapped Underscore object.\nexport default function chain(obj) {\n  var instance = _(obj);\n  instance._chain = true;\n  return instance;\n}\n","import baseCreate from './_baseCreate.js';\nimport isObject from './isObject.js';\n\n// Internal function to execute `sourceFunc` bound to `context` with optional\n// `args`. Determines whether to execute a function as a constructor or as a\n// normal function.\nexport default function executeBound(sourceFunc, boundFunc, context, callingContext, args) {\n  if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n  var self = baseCreate(sourceFunc.prototype);\n  var result = sourceFunc.apply(self, args);\n  if (isObject(result)) return result;\n  return self;\n}\n","import restArguments from './restArguments.js';\nimport executeBound from './_executeBound.js';\nimport _ from './underscore.js';\n\n// Partially apply a function by creating a version that has had some of its\n// arguments pre-filled, without changing its dynamic `this` context. `_` acts\n// as a placeholder by default, allowing any combination of arguments to be\n// pre-filled. Set `_.partial.placeholder` for a custom placeholder argument.\nvar partial = restArguments(function(func, boundArgs) {\n  var placeholder = partial.placeholder;\n  var bound = function() {\n    var position = 0, length = boundArgs.length;\n    var args = Array(length);\n    for (var i = 0; i < length; i++) {\n      args[i] = boundArgs[i] === placeholder ? arguments[position++] : boundArgs[i];\n    }\n    while (position < arguments.length) args.push(arguments[position++]);\n    return executeBound(func, bound, this, this, args);\n  };\n  return bound;\n});\n\npartial.placeholder = _;\nexport default partial;\n","import restArguments from './restArguments.js';\nimport isFunction from './isFunction.js';\nimport executeBound from './_executeBound.js';\n\n// Create a function bound to a given object (assigning `this`, and arguments,\n// optionally).\nexport default restArguments(function(func, context, args) {\n  if (!isFunction(func)) throw new TypeError('Bind must be called on a function');\n  var bound = restArguments(function(callArgs) {\n    return executeBound(func, bound, context, this, args.concat(callArgs));\n  });\n  return bound;\n});\n","import createSizePropertyCheck from './_createSizePropertyCheck.js';\nimport getLength from './_getLength.js';\n\n// Internal helper for collection methods to determine whether a collection\n// should be iterated as an array or as an object.\n// Related: https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n// Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\nexport default createSizePropertyCheck(getLength);\n","import getLength from './_getLength.js';\nimport isArrayLike from './_isArrayLike.js';\nimport isArray from './isArray.js';\nimport isArguments from './isArguments.js';\n\n// Internal implementation of a recursive `flatten` function.\nexport default function flatten(input, depth, strict, output) {\n  output = output || [];\n  if (!depth && depth !== 0) {\n    depth = Infinity;\n  } else if (depth <= 0) {\n    return output.concat(input);\n  }\n  var idx = output.length;\n  for (var i = 0, length = getLength(input); i < length; i++) {\n    var value = input[i];\n    if (isArrayLike(value) && (isArray(value) || isArguments(value))) {\n      // Flatten current level of array or arguments object.\n      if (depth > 1) {\n        flatten(value, depth - 1, strict, output);\n        idx = output.length;\n      } else {\n        var j = 0, len = value.length;\n        while (j < len) output[idx++] = value[j++];\n      }\n    } else if (!strict) {\n      output[idx++] = value;\n    }\n  }\n  return output;\n}\n","import restArguments from './restArguments.js';\nimport flatten from './_flatten.js';\nimport bind from './bind.js';\n\n// Bind a number of an object's methods to that object. Remaining arguments\n// are the method names to be bound. Useful for ensuring that all callbacks\n// defined on an object belong to it.\nexport default restArguments(function(obj, keys) {\n  keys = flatten(keys, false, false);\n  var index = keys.length;\n  if (index < 1) throw new Error('bindAll must be passed function names');\n  while (index--) {\n    var key = keys[index];\n    obj[key] = bind(obj[key], obj);\n  }\n  return obj;\n});\n","import has from './_has.js';\n\n// Memoize an expensive function by storing its results.\nexport default function memoize(func, hasher) {\n  var memoize = function(key) {\n    var cache = memoize.cache;\n    var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n    if (!has(cache, address)) cache[address] = func.apply(this, arguments);\n    return cache[address];\n  };\n  memoize.cache = {};\n  return memoize;\n}\n","import restArguments from './restArguments.js';\n\n// Delays a function for the given number of milliseconds, and then calls\n// it with the arguments supplied.\nexport default restArguments(function(func, wait, args) {\n  return setTimeout(function() {\n    return func.apply(null, args);\n  }, wait);\n});\n","import partial from './partial.js';\nimport delay from './delay.js';\nimport _ from './underscore.js';\n\n// Defers a function, scheduling it to run after the current call stack has\n// cleared.\nexport default partial(delay, _, 1);\n","import now from './now.js';\n\n// Returns a function, that, when invoked, will only be triggered at most once\n// during a given window of time. Normally, the throttled function will run\n// as much as it can, without ever going more than once per `wait` duration;\n// but if you'd like to disable the execution on the leading edge, pass\n// `{leading: false}`. To disable execution on the trailing edge, ditto.\nexport default function throttle(func, wait, options) {\n  var timeout, context, args, result;\n  var previous = 0;\n  if (!options) options = {};\n\n  var later = function() {\n    previous = options.leading === false ? 0 : now();\n    timeout = null;\n    result = func.apply(context, args);\n    if (!timeout) context = args = null;\n  };\n\n  var throttled = function() {\n    var _now = now();\n    if (!previous && options.leading === false) previous = _now;\n    var remaining = wait - (_now - previous);\n    context = this;\n    args = arguments;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = _now;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(later, remaining);\n    }\n    return result;\n  };\n\n  throttled.cancel = function() {\n    clearTimeout(timeout);\n    previous = 0;\n    timeout = context = args = null;\n  };\n\n  return throttled;\n}\n","import restArguments from './restArguments.js';\nimport now from './now.js';\n\n// When a sequence of calls of the returned function ends, the argument\n// function is triggered. The end of a sequence is defined by the `wait`\n// parameter. If `immediate` is passed, the argument function will be\n// triggered at the beginning of the sequence instead of at the end.\nexport default function debounce(func, wait, immediate) {\n  var timeout, previous, args, result, context;\n\n  var later = function() {\n    var passed = now() - previous;\n    if (wait > passed) {\n      timeout = setTimeout(later, wait - passed);\n    } else {\n      timeout = null;\n      if (!immediate) result = func.apply(context, args);\n      // This check is needed because `func` can recursively invoke `debounced`.\n      if (!timeout) args = context = null;\n    }\n  };\n\n  var debounced = restArguments(function(_args) {\n    context = this;\n    args = _args;\n    previous = now();\n    if (!timeout) {\n      timeout = setTimeout(later, wait);\n      if (immediate) result = func.apply(context, args);\n    }\n    return result;\n  });\n\n  debounced.cancel = function() {\n    clearTimeout(timeout);\n    timeout = args = context = null;\n  };\n\n  return debounced;\n}\n","import partial from './partial.js';\n\n// Returns the first function passed as an argument to the second,\n// allowing you to adjust arguments, run code before and after, and\n// conditionally execute the original function.\nexport default function wrap(func, wrapper) {\n  return partial(wrapper, func);\n}\n","// Returns a negated version of the passed-in predicate.\nexport default function negate(predicate) {\n  return function() {\n    return !predicate.apply(this, arguments);\n  };\n}\n","// Returns a function that is the composition of a list of functions, each\n// consuming the return value of the function that follows.\nexport default function compose() {\n  var args = arguments;\n  var start = args.length - 1;\n  return function() {\n    var i = start;\n    var result = args[start].apply(this, arguments);\n    while (i--) result = args[i].call(this, result);\n    return result;\n  };\n}\n","// Returns a function that will only be executed on and after the Nth call.\nexport default function after(times, func) {\n  return function() {\n    if (--times < 1) {\n      return func.apply(this, arguments);\n    }\n  };\n}\n","// Returns a function that will only be executed up to (but not including) the\n// Nth call.\nexport default function before(times, func) {\n  var memo;\n  return function() {\n    if (--times > 0) {\n      memo = func.apply(this, arguments);\n    }\n    if (times <= 1) func = null;\n    return memo;\n  };\n}\n","import partial from './partial.js';\nimport before from './before.js';\n\n// Returns a function that will be executed at most one time, no matter how\n// often you call it. Useful for lazy initialization.\nexport default partial(before, 2);\n","import cb from './_cb.js';\nimport keys from './keys.js';\n\n// Returns the first key on an object that passes a truth test.\nexport default function findKey(obj, predicate, context) {\n  predicate = cb(predicate, context);\n  var _keys = keys(obj), key;\n  for (var i = 0, length = _keys.length; i < length; i++) {\n    key = _keys[i];\n    if (predicate(obj[key], key, obj)) return key;\n  }\n}\n","import cb from './_cb.js';\nimport getLength from './_getLength.js';\n\n// Internal function to generate `_.findIndex` and `_.findLastIndex`.\nexport default function createPredicateIndexFinder(dir) {\n  return function(array, predicate, context) {\n    predicate = cb(predicate, context);\n    var length = getLength(array);\n    var index = dir > 0 ? 0 : length - 1;\n    for (; index >= 0 && index < length; index += dir) {\n      if (predicate(array[index], index, array)) return index;\n    }\n    return -1;\n  };\n}\n","import createPredicateIndexFinder from './_createPredicateIndexFinder.js';\n\n// Returns the first index on an array-like that passes a truth test.\nexport default createPredicateIndexFinder(1);\n","import createPredicateIndexFinder from './_createPredicateIndexFinder.js';\n\n// Returns the last index on an array-like that passes a truth test.\nexport default createPredicateIndexFinder(-1);\n","import cb from './_cb.js';\nimport getLength from './_getLength.js';\n\n// Use a comparator function to figure out the smallest index at which\n// an object should be inserted so as to maintain order. Uses binary search.\nexport default function sortedIndex(array, obj, iteratee, context) {\n  iteratee = cb(iteratee, context, 1);\n  var value = iteratee(obj);\n  var low = 0, high = getLength(array);\n  while (low < high) {\n    var mid = Math.floor((low + high) / 2);\n    if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n  }\n  return low;\n}\n","import getLength from './_getLength.js';\nimport { slice } from './_setup.js';\nimport isNaN from './isNaN.js';\n\n// Internal function to generate the `_.indexOf` and `_.lastIndexOf` functions.\nexport default function createIndexFinder(dir, predicateFind, sortedIndex) {\n  return function(array, item, idx) {\n    var i = 0, length = getLength(array);\n    if (typeof idx == 'number') {\n      if (dir > 0) {\n        i = idx >= 0 ? idx : Math.max(idx + length, i);\n      } else {\n        length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n      }\n    } else if (sortedIndex && idx && length) {\n      idx = sortedIndex(array, item);\n      return array[idx] === item ? idx : -1;\n    }\n    if (item !== item) {\n      idx = predicateFind(slice.call(array, i, length), isNaN);\n      return idx >= 0 ? idx + i : -1;\n    }\n    for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n      if (array[idx] === item) return idx;\n    }\n    return -1;\n  };\n}\n","import sortedIndex from './sortedIndex.js';\nimport findIndex from './findIndex.js';\nimport createIndexFinder from './_createIndexFinder.js';\n\n// Return the position of the first occurrence of an item in an array,\n// or -1 if the item is not included in the array.\n// If the array is large and already in sort order, pass `true`\n// for **isSorted** to use binary search.\nexport default createIndexFinder(1, findIndex, sortedIndex);\n","import findLastIndex from './findLastIndex.js';\nimport createIndexFinder from './_createIndexFinder.js';\n\n// Return the position of the last occurrence of an item in an array,\n// or -1 if the item is not included in the array.\nexport default createIndexFinder(-1, findLastIndex);\n","import isArrayLike from './_isArrayLike.js';\nimport findIndex from './findIndex.js';\nimport findKey from './findKey.js';\n\n// Return the first value which passes a truth test.\nexport default function find(obj, predicate, context) {\n  var keyFinder = isArrayLike(obj) ? findIndex : findKey;\n  var key = keyFinder(obj, predicate, context);\n  if (key !== void 0 && key !== -1) return obj[key];\n}\n","import find from './find.js';\nimport matcher from './matcher.js';\n\n// Convenience version of a common use case of `_.find`: getting the first\n// object containing specific `key:value` pairs.\nexport default function findWhere(obj, attrs) {\n  return find(obj, matcher(attrs));\n}\n","import optimizeCb from './_optimizeCb.js';\nimport isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// The cornerstone for collection functions, an `each`\n// implementation, aka `forEach`.\n// Handles raw objects in addition to array-likes. Treats all\n// sparse array-likes as if they were dense.\nexport default function each(obj, iteratee, context) {\n  iteratee = optimizeCb(iteratee, context);\n  var i, length;\n  if (isArrayLike(obj)) {\n    for (i = 0, length = obj.length; i < length; i++) {\n      iteratee(obj[i], i, obj);\n    }\n  } else {\n    var _keys = keys(obj);\n    for (i = 0, length = _keys.length; i < length; i++) {\n      iteratee(obj[_keys[i]], _keys[i], obj);\n    }\n  }\n  return obj;\n}\n","import cb from './_cb.js';\nimport isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// Return the results of applying the iteratee to each element.\nexport default function map(obj, iteratee, context) {\n  iteratee = cb(iteratee, context);\n  var _keys = !isArrayLike(obj) && keys(obj),\n      length = (_keys || obj).length,\n      results = Array(length);\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys ? _keys[index] : index;\n    results[index] = iteratee(obj[currentKey], currentKey, obj);\n  }\n  return results;\n}\n","import isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\nimport optimizeCb from './_optimizeCb.js';\n\n// Internal helper to create a reducing function, iterating left or right.\nexport default function createReduce(dir) {\n  // Wrap code that reassigns argument variables in a separate function than\n  // the one that accesses `arguments.length` to avoid a perf hit. (#1991)\n  var reducer = function(obj, iteratee, memo, initial) {\n    var _keys = !isArrayLike(obj) && keys(obj),\n        length = (_keys || obj).length,\n        index = dir > 0 ? 0 : length - 1;\n    if (!initial) {\n      memo = obj[_keys ? _keys[index] : index];\n      index += dir;\n    }\n    for (; index >= 0 && index < length; index += dir) {\n      var currentKey = _keys ? _keys[index] : index;\n      memo = iteratee(memo, obj[currentKey], currentKey, obj);\n    }\n    return memo;\n  };\n\n  return function(obj, iteratee, memo, context) {\n    var initial = arguments.length >= 3;\n    return reducer(obj, optimizeCb(iteratee, context, 4), memo, initial);\n  };\n}\n","import createReduce from './_createReduce.js';\n\n// **Reduce** builds up a single result from a list of values, aka `inject`,\n// or `foldl`.\nexport default createReduce(1);\n","import createReduce from './_createReduce.js';\n\n// The right-associative version of reduce, also known as `foldr`.\nexport default createReduce(-1);\n","import cb from './_cb.js';\nimport each from './each.js';\n\n// Return all the elements that pass a truth test.\nexport default function filter(obj, predicate, context) {\n  var results = [];\n  predicate = cb(predicate, context);\n  each(obj, function(value, index, list) {\n    if (predicate(value, index, list)) results.push(value);\n  });\n  return results;\n}\n","import filter from './filter.js';\nimport negate from './negate.js';\nimport cb from './_cb.js';\n\n// Return all the elements for which a truth test fails.\nexport default function reject(obj, predicate, context) {\n  return filter(obj, negate(cb(predicate)), context);\n}\n","import cb from './_cb.js';\nimport isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// Determine whether all of the elements pass a truth test.\nexport default function every(obj, predicate, context) {\n  predicate = cb(predicate, context);\n  var _keys = !isArrayLike(obj) && keys(obj),\n      length = (_keys || obj).length;\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys ? _keys[index] : index;\n    if (!predicate(obj[currentKey], currentKey, obj)) return false;\n  }\n  return true;\n}\n","import cb from './_cb.js';\nimport isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// Determine if at least one element in the object passes a truth test.\nexport default function some(obj, predicate, context) {\n  predicate = cb(predicate, context);\n  var _keys = !isArrayLike(obj) && keys(obj),\n      length = (_keys || obj).length;\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys ? _keys[index] : index;\n    if (predicate(obj[currentKey], currentKey, obj)) return true;\n  }\n  return false;\n}\n","import isArrayLike from './_isArrayLike.js';\nimport values from './values.js';\nimport indexOf from './indexOf.js';\n\n// Determine if the array or object contains a given item (using `===`).\nexport default function contains(obj, item, fromIndex, guard) {\n  if (!isArrayLike(obj)) obj = values(obj);\n  if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n  return indexOf(obj, item, fromIndex) >= 0;\n}\n","import restArguments from './restArguments.js';\nimport isFunction from './isFunction.js';\nimport map from './map.js';\nimport deepGet from './_deepGet.js';\nimport toPath from './_toPath.js';\n\n// Invoke a method (with arguments) on every item in a collection.\nexport default restArguments(function(obj, path, args) {\n  var contextPath, func;\n  if (isFunction(path)) {\n    func = path;\n  } else {\n    path = toPath(path);\n    contextPath = path.slice(0, -1);\n    path = path[path.length - 1];\n  }\n  return map(obj, function(context) {\n    var method = func;\n    if (!method) {\n      if (contextPath && contextPath.length) {\n        context = deepGet(context, contextPath);\n      }\n      if (context == null) return void 0;\n      method = context[path];\n    }\n    return method == null ? method : method.apply(context, args);\n  });\n});\n","import map from './map.js';\nimport property from './property.js';\n\n// Convenience version of a common use case of `_.map`: fetching a property.\nexport default function pluck(obj, key) {\n  return map(obj, property(key));\n}\n","import filter from './filter.js';\nimport matcher from './matcher.js';\n\n// Convenience version of a common use case of `_.filter`: selecting only\n// objects containing specific `key:value` pairs.\nexport default function where(obj, attrs) {\n  return filter(obj, matcher(attrs));\n}\n","import isArrayLike from './_isArrayLike.js';\nimport values from './values.js';\nimport cb from './_cb.js';\nimport each from './each.js';\n\n// Return the maximum element (or element-based computation).\nexport default function max(obj, iteratee, context) {\n  var result = -Infinity, lastComputed = -Infinity,\n      value, computed;\n  if (iteratee == null || (typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null)) {\n    obj = isArrayLike(obj) ? obj : values(obj);\n    for (var i = 0, length = obj.length; i < length; i++) {\n      value = obj[i];\n      if (value != null && value > result) {\n        result = value;\n      }\n    }\n  } else {\n    iteratee = cb(iteratee, context);\n    each(obj, function(v, index, list) {\n      computed = iteratee(v, index, list);\n      if (computed > lastComputed || (computed === -Infinity && result === -Infinity)) {\n        result = v;\n        lastComputed = computed;\n      }\n    });\n  }\n  return result;\n}\n","import isArrayLike from './_isArrayLike.js';\nimport values from './values.js';\nimport cb from './_cb.js';\nimport each from './each.js';\n\n// Return the minimum element (or element-based computation).\nexport default function min(obj, iteratee, context) {\n  var result = Infinity, lastComputed = Infinity,\n      value, computed;\n  if (iteratee == null || (typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null)) {\n    obj = isArrayLike(obj) ? obj : values(obj);\n    for (var i = 0, length = obj.length; i < length; i++) {\n      value = obj[i];\n      if (value != null && value < result) {\n        result = value;\n      }\n    }\n  } else {\n    iteratee = cb(iteratee, context);\n    each(obj, function(v, index, list) {\n      computed = iteratee(v, index, list);\n      if (computed < lastComputed || (computed === Infinity && result === Infinity)) {\n        result = v;\n        lastComputed = computed;\n      }\n    });\n  }\n  return result;\n}\n","import isArray from './isArray.js';\nimport { slice } from './_setup.js';\nimport isString from './isString.js';\nimport isArrayLike from './_isArrayLike.js';\nimport map from './map.js';\nimport identity from './identity.js';\nimport values from './values.js';\n\n// Safely create a real, live array from anything iterable.\nvar reStrSymbol = /[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g;\nexport default function toArray(obj) {\n  if (!obj) return [];\n  if (isArray(obj)) return slice.call(obj);\n  if (isString(obj)) {\n    // Keep surrogate pair characters together.\n    return obj.match(reStrSymbol);\n  }\n  if (isArrayLike(obj)) return map(obj, identity);\n  return values(obj);\n}\n","import isArrayLike from './_isArrayLike.js';\nimport values from './values.js';\nimport getLength from './_getLength.js';\nimport random from './random.js';\nimport toArray from './toArray.js';\n\n// Sample **n** random values from a collection using the modern version of the\n// [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher–Yates_shuffle).\n// If **n** is not specified, returns a single random element.\n// The internal `guard` argument allows it to work with `_.map`.\nexport default function sample(obj, n, guard) {\n  if (n == null || guard) {\n    if (!isArrayLike(obj)) obj = values(obj);\n    return obj[random(obj.length - 1)];\n  }\n  var sample = toArray(obj);\n  var length = getLength(sample);\n  n = Math.max(Math.min(n, length), 0);\n  var last = length - 1;\n  for (var index = 0; index < n; index++) {\n    var rand = random(index, last);\n    var temp = sample[index];\n    sample[index] = sample[rand];\n    sample[rand] = temp;\n  }\n  return sample.slice(0, n);\n}\n","import sample from './sample.js';\n\n// Shuffle a collection.\nexport default function shuffle(obj) {\n  return sample(obj, Infinity);\n}\n","import cb from './_cb.js';\nimport pluck from './pluck.js';\nimport map from './map.js';\n\n// Sort the object's values by a criterion produced by an iteratee.\nexport default function sortBy(obj, iteratee, context) {\n  var index = 0;\n  iteratee = cb(iteratee, context);\n  return pluck(map(obj, function(value, key, list) {\n    return {\n      value: value,\n      index: index++,\n      criteria: iteratee(value, key, list)\n    };\n  }).sort(function(left, right) {\n    var a = left.criteria;\n    var b = right.criteria;\n    if (a !== b) {\n      if (a > b || a === void 0) return 1;\n      if (a < b || b === void 0) return -1;\n    }\n    return left.index - right.index;\n  }), 'value');\n}\n","import cb from './_cb.js';\nimport each from './each.js';\n\n// An internal function used for aggregate \"group by\" operations.\nexport default function group(behavior, partition) {\n  return function(obj, iteratee, context) {\n    var result = partition ? [[], []] : {};\n    iteratee = cb(iteratee, context);\n    each(obj, function(value, index) {\n      var key = iteratee(value, index, obj);\n      behavior(result, value, key);\n    });\n    return result;\n  };\n}\n","import group from './_group.js';\nimport has from './_has.js';\n\n// Groups the object's values by a criterion. Pass either a string attribute\n// to group by, or a function that returns the criterion.\nexport default group(function(result, value, key) {\n  if (has(result, key)) result[key].push(value); else result[key] = [value];\n});\n","import group from './_group.js';\n\n// Indexes the object's values by a criterion, similar to `_.groupBy`, but for\n// when you know that your index values will be unique.\nexport default group(function(result, value, key) {\n  result[key] = value;\n});\n","import group from './_group.js';\nimport has from './_has.js';\n\n// Counts instances of an object that group by a certain criterion. Pass\n// either a string attribute to count by, or a function that returns the\n// criterion.\nexport default group(function(result, value, key) {\n  if (has(result, key)) result[key]++; else result[key] = 1;\n});\n","import group from './_group.js';\n\n// Split a collection into two arrays: one whose elements all pass the given\n// truth test, and one whose elements all do not pass the truth test.\nexport default group(function(result, value, pass) {\n  result[pass ? 0 : 1].push(value);\n}, true);\n","import isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// Return the number of elements in a collection.\nexport default function size(obj) {\n  if (obj == null) return 0;\n  return isArrayLike(obj) ? obj.length : keys(obj).length;\n}\n","// Internal `_.pick` helper function to determine whether `key` is an enumerable\n// property name of `obj`.\nexport default function keyInObj(value, key, obj) {\n  return key in obj;\n}\n","import restArguments from './restArguments.js';\nimport isFunction from './isFunction.js';\nimport optimizeCb from './_optimizeCb.js';\nimport allKeys from './allKeys.js';\nimport keyInObj from './_keyInObj.js';\nimport flatten from './_flatten.js';\n\n// Return a copy of the object only containing the allowed properties.\nexport default restArguments(function(obj, keys) {\n  var result = {}, iteratee = keys[0];\n  if (obj == null) return result;\n  if (isFunction(iteratee)) {\n    if (keys.length > 1) iteratee = optimizeCb(iteratee, keys[1]);\n    keys = allKeys(obj);\n  } else {\n    iteratee = keyInObj;\n    keys = flatten(keys, false, false);\n    obj = Object(obj);\n  }\n  for (var i = 0, length = keys.length; i < length; i++) {\n    var key = keys[i];\n    var value = obj[key];\n    if (iteratee(value, key, obj)) result[key] = value;\n  }\n  return result;\n});\n","import restArguments from './restArguments.js';\nimport isFunction from './isFunction.js';\nimport negate from './negate.js';\nimport map from './map.js';\nimport flatten from './_flatten.js';\nimport contains from './contains.js';\nimport pick from './pick.js';\n\n// Return a copy of the object without the disallowed properties.\nexport default restArguments(function(obj, keys) {\n  var iteratee = keys[0], context;\n  if (isFunction(iteratee)) {\n    iteratee = negate(iteratee);\n    if (keys.length > 1) context = keys[1];\n  } else {\n    keys = map(flatten(keys, false, false), String);\n    iteratee = function(value, key) {\n      return !contains(keys, key);\n    };\n  }\n  return pick(obj, iteratee, context);\n});\n","import { slice } from './_setup.js';\n\n// Returns everything but the last entry of the array. Especially useful on\n// the arguments object. Passing **n** will return all the values in\n// the array, excluding the last N.\nexport default function initial(array, n, guard) {\n  return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n}\n","import initial from './initial.js';\n\n// Get the first element of an array. Passing **n** will return the first N\n// values in the array. The **guard** check allows it to work with `_.map`.\nexport default function first(array, n, guard) {\n  if (array == null || array.length < 1) return n == null || guard ? void 0 : [];\n  if (n == null || guard) return array[0];\n  return initial(array, array.length - n);\n}\n","import { slice } from './_setup.js';\n\n// Returns everything but the first entry of the `array`. Especially useful on\n// the `arguments` object. Passing an **n** will return the rest N values in the\n// `array`.\nexport default function rest(array, n, guard) {\n  return slice.call(array, n == null || guard ? 1 : n);\n}\n","import rest from './rest.js';\n\n// Get the last element of an array. Passing **n** will return the last N\n// values in the array.\nexport default function last(array, n, guard) {\n  if (array == null || array.length < 1) return n == null || guard ? void 0 : [];\n  if (n == null || guard) return array[array.length - 1];\n  return rest(array, Math.max(0, array.length - n));\n}\n","import filter from './filter.js';\n\n// Trim out all falsy values from an array.\nexport default function compact(array) {\n  return filter(array, Boolean);\n}\n","import _flatten from './_flatten.js';\n\n// Flatten out an array, either recursively (by default), or up to `depth`.\n// Passing `true` or `false` as `depth` means `1` or `Infinity`, respectively.\nexport default function flatten(array, depth) {\n  return _flatten(array, depth, false);\n}\n","import restArguments from './restArguments.js';\nimport flatten from './_flatten.js';\nimport filter from './filter.js';\nimport contains from './contains.js';\n\n// Take the difference between one array and a number of other arrays.\n// Only the elements present in just the first array will remain.\nexport default restArguments(function(array, rest) {\n  rest = flatten(rest, true, true);\n  return filter(array, function(value){\n    return !contains(rest, value);\n  });\n});\n","import restArguments from './restArguments.js';\nimport difference from './difference.js';\n\n// Return a version of the array that does not contain the specified value(s).\nexport default restArguments(function(array, otherArrays) {\n  return difference(array, otherArrays);\n});\n","import isBoolean from './isBoolean.js';\nimport cb from './_cb.js';\nimport getLength from './_getLength.js';\nimport contains from './contains.js';\n\n// Produce a duplicate-free version of the array. If the array has already\n// been sorted, you have the option of using a faster algorithm.\n// The faster algorithm will not work with an iteratee if the iteratee\n// is not a one-to-one function, so providing an iteratee will disable\n// the faster algorithm.\nexport default function uniq(array, isSorted, iteratee, context) {\n  if (!isBoolean(isSorted)) {\n    context = iteratee;\n    iteratee = isSorted;\n    isSorted = false;\n  }\n  if (iteratee != null) iteratee = cb(iteratee, context);\n  var result = [];\n  var seen = [];\n  for (var i = 0, length = getLength(array); i < length; i++) {\n    var value = array[i],\n        computed = iteratee ? iteratee(value, i, array) : value;\n    if (isSorted && !iteratee) {\n      if (!i || seen !== computed) result.push(value);\n      seen = computed;\n    } else if (iteratee) {\n      if (!contains(seen, computed)) {\n        seen.push(computed);\n        result.push(value);\n      }\n    } else if (!contains(result, value)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n","import restArguments from './restArguments.js';\nimport uniq from './uniq.js';\nimport flatten from './_flatten.js';\n\n// Produce an array that contains the union: each distinct element from all of\n// the passed-in arrays.\nexport default restArguments(function(arrays) {\n  return uniq(flatten(arrays, true, true));\n});\n","import getLength from './_getLength.js';\nimport contains from './contains.js';\n\n// Produce an array that contains every item shared between all the\n// passed-in arrays.\nexport default function intersection(array) {\n  var result = [];\n  var argsLength = arguments.length;\n  for (var i = 0, length = getLength(array); i < length; i++) {\n    var item = array[i];\n    if (contains(result, item)) continue;\n    var j;\n    for (j = 1; j < argsLength; j++) {\n      if (!contains(arguments[j], item)) break;\n    }\n    if (j === argsLength) result.push(item);\n  }\n  return result;\n}\n","import max from './max.js';\nimport getLength from './_getLength.js';\nimport pluck from './pluck.js';\n\n// Complement of zip. Unzip accepts an array of arrays and groups\n// each array's elements on shared indices.\nexport default function unzip(array) {\n  var length = (array && max(array, getLength).length) || 0;\n  var result = Array(length);\n\n  for (var index = 0; index < length; index++) {\n    result[index] = pluck(array, index);\n  }\n  return result;\n}\n","import restArguments from './restArguments.js';\nimport unzip from './unzip.js';\n\n// Zip together multiple lists into a single array -- elements that share\n// an index go together.\nexport default restArguments(unzip);\n","import getLength  from './_getLength.js';\n\n// Converts lists into objects. Pass either a single array of `[key, value]`\n// pairs, or two parallel arrays of the same length -- one of keys, and one of\n// the corresponding values. Passing by pairs is the reverse of `_.pairs`.\nexport default function object(list, values) {\n  var result = {};\n  for (var i = 0, length = getLength(list); i < length; i++) {\n    if (values) {\n      result[list[i]] = values[i];\n    } else {\n      result[list[i][0]] = list[i][1];\n    }\n  }\n  return result;\n}\n","// Generate an integer Array containing an arithmetic progression. A port of\n// the native Python `range()` function. See\n// [the Python documentation](https://docs.python.org/library/functions.html#range).\nexport default function range(start, stop, step) {\n  if (stop == null) {\n    stop = start || 0;\n    start = 0;\n  }\n  if (!step) {\n    step = stop < start ? -1 : 1;\n  }\n\n  var length = Math.max(Math.ceil((stop - start) / step), 0);\n  var range = Array(length);\n\n  for (var idx = 0; idx < length; idx++, start += step) {\n    range[idx] = start;\n  }\n\n  return range;\n}\n","import { slice } from './_setup.js';\n\n// Chunk a single array into multiple arrays, each containing `count` or fewer\n// items.\nexport default function chunk(array, count) {\n  if (count == null || count < 1) return [];\n  var result = [];\n  var i = 0, length = array.length;\n  while (i < length) {\n    result.push(slice.call(array, i, i += count));\n  }\n  return result;\n}\n","import _ from './underscore.js';\n\n// Helper function to continue chaining intermediate results.\nexport default function chainResult(instance, obj) {\n  return instance._chain ? _(obj).chain() : obj;\n}\n","import _ from './underscore.js';\nimport each from './each.js';\nimport functions from './functions.js';\nimport { push } from './_setup.js';\nimport chainResult from './_chainResult.js';\n\n// Add your own custom functions to the Underscore object.\nexport default function mixin(obj) {\n  each(functions(obj), function(name) {\n    var func = _[name] = obj[name];\n    _.prototype[name] = function() {\n      var args = [this._wrapped];\n      push.apply(args, arguments);\n      return chainResult(this, func.apply(_, args));\n    };\n  });\n  return _;\n}\n","import _ from './underscore.js';\nimport each from './each.js';\nimport { ArrayProto } from './_setup.js';\nimport chainResult from './_chainResult.js';\n\n// Add all mutator `Array` functions to the wrapper.\neach(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n  var method = ArrayProto[name];\n  _.prototype[name] = function() {\n    var obj = this._wrapped;\n    if (obj != null) {\n      method.apply(obj, arguments);\n      if ((name === 'shift' || name === 'splice') && obj.length === 0) {\n        delete obj[0];\n      }\n    }\n    return chainResult(this, obj);\n  };\n});\n\n// Add all accessor `Array` functions to the wrapper.\neach(['concat', 'join', 'slice'], function(name) {\n  var method = ArrayProto[name];\n  _.prototype[name] = function() {\n    var obj = this._wrapped;\n    if (obj != null) obj = method.apply(obj, arguments);\n    return chainResult(this, obj);\n  };\n});\n\nexport default _;\n","// Default Export\n// ==============\n// In this module, we mix our bundled exports into the `_` object and export\n// the result. This is analogous to setting `module.exports = _` in CommonJS.\n// Hence, this module is also the entry point of our UMD bundle and the package\n// entry point for CommonJS and AMD users. In other words, this is (the source\n// of) the module you are interfacing with when you do any of the following:\n//\n// ```js\n// // CommonJS\n// var _ = require('underscore');\n//\n// // AMD\n// define(['underscore'], function(_) {...});\n//\n// // UMD in the browser\n// // _ is available as a global variable\n// ```\nimport * as allExports from './index.js';\nimport { mixin } from './index.js';\n\n// Add all of the Underscore functions to the wrapper object.\nvar _ = mixin(allExports);\n// Legacy Node.js API.\n_._ = _;\n// Export the Underscore API.\nexport default _;\n","import _ from 'underscore';\r\n\r\nexport function trim(string) {\r\n    return string ? string.replace(/^\\s+|\\s+$/g, '') : \"\";\r\n}\r\n\r\n/**\r\n * extractExtension\r\n *\r\n * @param      {string} path for url\r\n * @return     {string}  Extension\r\n */\r\nexport const extractExtension = function(path) {\r\n    if(!path || path.substr(0,4)=='rtmp') {\r\n        return \"\";\r\n    }\r\n    function getAzureFileFormat(path) {\r\n        let extension = \"\";\r\n        if ((/[(,]format=mpd-/i).test(path)) {\r\n            extension = 'mpd';\r\n        }else if ((/[(,]format=m3u8-/i).test(path)) {\r\n            extension = 'm3u8';\r\n        }\r\n        return extension;\r\n    }\r\n\r\n    let azuredFormat = getAzureFileFormat(path);\r\n    if(azuredFormat) {\r\n        return azuredFormat;\r\n    }\r\n    path = path.split('?')[0].split('#')[0];\r\n    if(path.lastIndexOf('.') > -1) {\r\n        return path.substr(path.lastIndexOf('.') + 1, path.length).toLowerCase();\r\n    }else{\r\n        return \"\";\r\n    }\r\n};\r\n\r\n\r\n/**\r\n * naturalHms\r\n *\r\n * @param      {number | string}  second  The second\r\n * @return     {string}  formatted String\r\n */\r\nexport function naturalHms(second) {\r\n    let secNum = parseInt(second, 10);\r\n    if(!second){\r\n        return \"00:00\";\r\n    }\r\n    let hours   = Math.floor(secNum / 3600);\r\n    let minutes = Math.floor((secNum - (hours * 3600)) / 60);\r\n    let seconds = secNum - (hours * 3600) - (minutes * 60);\r\n\r\n    //if (hours > 0) {minutes = \"0\"+minutes;}\r\n    if (minutes < 10) {minutes = \"0\"+minutes;}\r\n    if (seconds < 10) {seconds = \"0\"+seconds;}\r\n\r\n    if (hours > 0) {\r\n        return hours+':'+minutes+':'+seconds;\r\n    } else {\r\n        return minutes+':'+seconds;\r\n    }\r\n}\r\n\r\n\r\nexport function hmsToSecond(str, frameRate) {\r\n    if(!str) {\r\n        return 0;\r\n    }\r\n    if(_.isNumber(str) && !_.isNaN(str)){\r\n        return str;\r\n    }\r\n    str = str.replace(',', '.');\r\n    let arr = str.split(':');\r\n    let arrLength = arr.length;\r\n    let sec = 0;\r\n    if (str.slice(-1) === 's'){\r\n        sec = parseFloat(str);\r\n    }else if (str.slice(-1) === 'm'){\r\n        sec = parseFloat(str) * 60;\r\n    }else if (str.slice(-1) === 'h'){\r\n        sec = parseFloat(str) * 3600;\r\n    }else if (arrLength > 1) {\r\n        var secIndex = arrLength - 1;\r\n        if (arrLength === 4) {\r\n            if (frameRate) {\r\n                sec = parseFloat(arr[secIndex]) / frameRate;\r\n            }\r\n            secIndex -= 1;\r\n        }\r\n        sec += parseFloat(arr[secIndex]);\r\n        sec += parseFloat(arr[secIndex - 1]) * 60;\r\n        if (arrLength >= 3) {\r\n            sec += parseFloat(arr[secIndex - 2]) * 3600;\r\n        }\r\n    } else {\r\n        sec = parseFloat(str);\r\n    }\r\n    if (_.isNaN(sec)) {\r\n        return 0;\r\n    }\r\n    return sec;\r\n}\r\n","/**\r\n * Created by hoho on 2018. 5. 29..\r\n */\r\nimport {hmsToSecond, trim} from \"utils/strings\"\r\n\r\nfunction _entry(data) {\r\n    var entry = {};\r\n    var array = data.split('\\r\\n');\r\n    if (array.length === 1) {\r\n        array = data.split('\\n');\r\n    }\r\n    var idx = 1;\r\n    if (array[0].indexOf(' --> ') > 0) {\r\n        idx = 0;\r\n    }\r\n    if (array.length > idx + 1 && array[idx + 1]) {\r\n        // This line contains the start and end.\r\n        var line = array[idx];\r\n        var index = line.indexOf(' --> ');\r\n        if (index > 0) {\r\n            entry.start = hmsToSecond(line.substr(0, index));\r\n            entry.end = hmsToSecond(line.substr(index + 5));\r\n            entry.text = array.slice(idx + 1).join('\\r\\n');\r\n        }\r\n    }\r\n    return entry;\r\n\r\n}\r\n\r\nconst SrtParser = function(data) {\r\n    var captions = [];\r\n\r\n    data = trim(data);\r\n\r\n    var list = data.split('\\r\\n\\r\\n');\r\n    if (list.length === 1) {\r\n        list = data.split('\\n\\n');\r\n    }\r\n\r\n\r\n\r\n    for (var i = 0; i < list.length; i++) {\r\n        if (list[i] === 'WEBVTT') {\r\n            continue;\r\n        }\r\n        var entry = _entry(list[i]);\r\n        if (entry.text) {\r\n            captions.push(entry);\r\n        }\r\n    }\r\n\r\n    return captions;\r\n}\r\n\r\n\r\n\r\nexport default SrtParser;\r\n","/**\r\n * Copyright 2013 vtt.js Contributors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nlet VTTCue = window.VTTCue;\r\n\r\nvar autoKeyword = \"auto\";\r\nvar directionSetting = {\r\n    \"\": true,\r\n    \"lr\": true,\r\n    \"rl\": true\r\n};\r\nvar alignSetting = {\r\n    \"start\": true,\r\n    \"middle\": true,\r\n    \"end\": true,\r\n    \"left\": true,\r\n    \"right\": true\r\n};\r\n\r\nfunction findDirectionSetting(value) {\r\n    if (typeof value !== \"string\") {\r\n        return false;\r\n    }\r\n    var dir = directionSetting[value.toLowerCase()];\r\n    return dir ? value.toLowerCase() : false;\r\n}\r\n\r\nfunction findAlignSetting(value) {\r\n    if (typeof value !== \"string\") {\r\n        return false;\r\n    }\r\n    var align = alignSetting[value.toLowerCase()];\r\n    return align ? value.toLowerCase() : false;\r\n}\r\n\r\nfunction extend(obj) {\r\n    var i = 1;\r\n    for (; i < arguments.length; i++) {\r\n        var cobj = arguments[i];\r\n        for (var p in cobj) {\r\n            obj[p] = cobj[p];\r\n        }\r\n    }\r\n\r\n    return obj;\r\n}\r\nif(!VTTCue){\r\n    VTTCue = function (startTime, endTime, text) {\r\n        var cue = this;\r\n        var isIE8 = (/MSIE\\s8\\.0/).test(navigator.userAgent);\r\n        var baseObj = {};\r\n\r\n        if (isIE8) {\r\n            cue = document.createElement('custom');\r\n        } else {\r\n            baseObj.enumerable = true;\r\n        }\r\n\r\n        /**\r\n         * Shim implementation specific properties. These properties are not in\r\n         * the spec.\r\n         */\r\n\r\n            // Lets us know when the VTTCue's data has changed in such a way that we need\r\n            // to recompute its display state. This lets us compute its display state\r\n            // lazily.\r\n        cue.hasBeenReset = false;\r\n\r\n        /**\r\n         * VTTCue and TextTrackCue properties\r\n         * http://dev.w3.org/html5/webvtt/#vttcue-interface\r\n         */\r\n\r\n        var _id = \"\";\r\n        var _pauseOnExit = false;\r\n        var _startTime = startTime;\r\n        var _endTime = endTime;\r\n        var _text = text;\r\n        var _region = null;\r\n        var _vertical = \"\";\r\n        var _snapToLines = true;\r\n        var _line = \"auto\";\r\n        var _lineAlign = \"start\";\r\n        var _position = 50;\r\n        var _positionAlign = \"middle\";\r\n        var _size = 50;\r\n        var _align = \"middle\";\r\n\r\n        Object.defineProperty(cue,\r\n            \"id\", extend({}, baseObj, {\r\n                get: function() {\r\n                    return _id;\r\n                },\r\n                set: function(value) {\r\n                    _id = \"\" + value;\r\n                }\r\n            }));\r\n\r\n        Object.defineProperty(cue,\r\n            \"pauseOnExit\", extend({}, baseObj, {\r\n                get: function() {\r\n                    return _pauseOnExit;\r\n                },\r\n                set: function(value) {\r\n                    _pauseOnExit = !!value;\r\n                }\r\n            }));\r\n\r\n        Object.defineProperty(cue,\r\n            \"startTime\", extend({}, baseObj, {\r\n                get: function() {\r\n                    return _startTime;\r\n                },\r\n                set: function(value) {\r\n                    if (typeof value !== \"number\") {\r\n                        throw new TypeError(\"Start time must be set to a number.\");\r\n                    }\r\n                    _startTime = value;\r\n                    this.hasBeenReset = true;\r\n                }\r\n            }));\r\n\r\n        Object.defineProperty(cue,\r\n            \"endTime\", extend({}, baseObj, {\r\n                get: function() {\r\n                    return _endTime;\r\n                },\r\n                set: function(value) {\r\n                    if (typeof value !== \"number\") {\r\n                        throw new TypeError(\"End time must be set to a number.\");\r\n                    }\r\n                    _endTime = value;\r\n                    this.hasBeenReset = true;\r\n                }\r\n            }));\r\n\r\n        Object.defineProperty(cue,\r\n            \"text\", extend({}, baseObj, {\r\n                get: function() {\r\n                    return _text;\r\n                },\r\n                set: function(value) {\r\n                    _text = \"\" + value;\r\n                    this.hasBeenReset = true;\r\n                }\r\n            }));\r\n\r\n        Object.defineProperty(cue,\r\n            \"region\", extend({}, baseObj, {\r\n                get: function() {\r\n                    return _region;\r\n                },\r\n                set: function(value) {\r\n                    _region = value;\r\n                    this.hasBeenReset = true;\r\n                }\r\n            }));\r\n\r\n        Object.defineProperty(cue,\r\n            \"vertical\", extend({}, baseObj, {\r\n                get: function() {\r\n                    return _vertical;\r\n                },\r\n                set: function(value) {\r\n                    var setting = findDirectionSetting(value);\r\n                    // Have to check for false because the setting an be an empty string.\r\n                    if (setting === false) {\r\n                        throw new SyntaxError(\"An invalid or illegal string was specified.\");\r\n                    }\r\n                    _vertical = setting;\r\n                    this.hasBeenReset = true;\r\n                }\r\n            }));\r\n\r\n        Object.defineProperty(cue,\r\n            \"snapToLines\", extend({}, baseObj, {\r\n                get: function() {\r\n                    return _snapToLines;\r\n                },\r\n                set: function(value) {\r\n                    _snapToLines = !!value;\r\n                    this.hasBeenReset = true;\r\n                }\r\n            }));\r\n\r\n        Object.defineProperty(cue,\r\n            \"line\", extend({}, baseObj, {\r\n                get: function() {\r\n                    return _line;\r\n                },\r\n                set: function(value) {\r\n                    if (typeof value !== \"number\" && value !== autoKeyword) {\r\n                        throw new SyntaxError(\"An invalid number or illegal string was specified.\");\r\n                    }\r\n                    _line = value;\r\n                    this.hasBeenReset = true;\r\n                }\r\n            }));\r\n\r\n        Object.defineProperty(cue,\r\n            \"lineAlign\", extend({}, baseObj, {\r\n                get: function() {\r\n                    return _lineAlign;\r\n                },\r\n                set: function(value) {\r\n                    var setting = findAlignSetting(value);\r\n                    if (!setting) {\r\n                        throw new SyntaxError(\"An invalid or illegal string was specified.\");\r\n                    }\r\n                    _lineAlign = setting;\r\n                    this.hasBeenReset = true;\r\n                }\r\n            }));\r\n\r\n        Object.defineProperty(cue,\r\n            \"position\", extend({}, baseObj, {\r\n                get: function() {\r\n                    return _position;\r\n                },\r\n                set: function(value) {\r\n                    if (value < 0 || value > 100) {\r\n                        throw new Error(\"Position must be between 0 and 100.\");\r\n                    }\r\n                    _position = value;\r\n                    this.hasBeenReset = true;\r\n                }\r\n            }));\r\n\r\n        Object.defineProperty(cue,\r\n            \"positionAlign\", extend({}, baseObj, {\r\n                get: function() {\r\n                    return _positionAlign;\r\n                },\r\n                set: function(value) {\r\n                    var setting = findAlignSetting(value);\r\n                    if (!setting) {\r\n                        throw new SyntaxError(\"An invalid or illegal string was specified.\");\r\n                    }\r\n                    _positionAlign = setting;\r\n                    this.hasBeenReset = true;\r\n                }\r\n            }));\r\n\r\n        Object.defineProperty(cue,\r\n            \"size\", extend({}, baseObj, {\r\n                get: function() {\r\n                    return _size;\r\n                },\r\n                set: function(value) {\r\n                    if (value < 0 || value > 100) {\r\n                        throw new Error(\"Size must be between 0 and 100.\");\r\n                    }\r\n                    _size = value;\r\n                    this.hasBeenReset = true;\r\n                }\r\n            }));\r\n\r\n        Object.defineProperty(cue,\r\n            \"align\", extend({}, baseObj, {\r\n                get: function() {\r\n                    return _align;\r\n                },\r\n                set: function(value) {\r\n                    var setting = findAlignSetting(value);\r\n                    if (!setting) {\r\n                        throw new SyntaxError(\"An invalid or illegal string was specified.\");\r\n                    }\r\n                    _align = setting;\r\n                    this.hasBeenReset = true;\r\n                }\r\n            }));\r\n\r\n        /**\r\n         * Other <track> spec defined properties\r\n         */\r\n\r\n            // http://www.whatwg.org/specs/web-apps/current-work/multipage/the-video-element.html#text-track-cue-display-state\r\n        cue.displayState = undefined;\r\n\r\n        if (isIE8) {\r\n            return cue;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * VTTCue methods\r\n     */\r\n\r\n    VTTCue.prototype.getCueAsHTML = function() {\r\n        // Assume WebVTT.convertCueToDOMTree is on the global.\r\n        return WebVTT.convertCueToDOMTree(window, this.text);\r\n    };\r\n\r\n};\r\n\r\nexport default VTTCue;","/**\r\n * Copyright 2013 vtt.js Contributors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nlet VTTRegion = \"\";\r\n\r\nvar scrollSetting = {\r\n    \"\": true,\r\n    \"up\": true\r\n};\r\n\r\nfunction findScrollSetting(value) {\r\n    if (typeof value !== \"string\") {\r\n        return false;\r\n    }\r\n    var scroll = scrollSetting[value.toLowerCase()];\r\n    return scroll ? value.toLowerCase() : false;\r\n}\r\n\r\nfunction isValidPercentValue(value) {\r\n    return typeof value === \"number\" && (value >= 0 && value <= 100);\r\n}\r\n\r\n// VTTRegion shim http://dev.w3.org/html5/webvtt/#vttregion-interface\r\nVTTRegion = function() {\r\n    var _width = 100;\r\n    var _lines = 3;\r\n    var _regionAnchorX = 0;\r\n    var _regionAnchorY = 100;\r\n    var _viewportAnchorX = 0;\r\n    var _viewportAnchorY = 100;\r\n    var _scroll = \"\";\r\n\r\n    Object.defineProperties(this, {\r\n        \"width\": {\r\n            enumerable: true,\r\n            get: function() {\r\n                return _width;\r\n            },\r\n            set: function(value) {\r\n                if (!isValidPercentValue(value)) {\r\n                    throw new Error(\"Width must be between 0 and 100.\");\r\n                }\r\n                _width = value;\r\n            }\r\n        },\r\n        \"lines\": {\r\n            enumerable: true,\r\n            get: function() {\r\n                return _lines;\r\n            },\r\n            set: function(value) {\r\n                if (typeof value !== \"number\") {\r\n                    throw new TypeError(\"Lines must be set to a number.\");\r\n                }\r\n                _lines = value;\r\n            }\r\n        },\r\n        \"regionAnchorY\": {\r\n            enumerable: true,\r\n            get: function() {\r\n                return _regionAnchorY;\r\n            },\r\n            set: function(value) {\r\n                if (!isValidPercentValue(value)) {\r\n                    throw new Error(\"RegionAnchorX must be between 0 and 100.\");\r\n                }\r\n                _regionAnchorY = value;\r\n            }\r\n        },\r\n        \"regionAnchorX\": {\r\n            enumerable: true,\r\n            get: function() {\r\n                return _regionAnchorX;\r\n            },\r\n            set: function(value) {\r\n                if(!isValidPercentValue(value)) {\r\n                    throw new Error(\"RegionAnchorY must be between 0 and 100.\");\r\n                }\r\n                _regionAnchorX = value;\r\n            }\r\n        },\r\n        \"viewportAnchorY\": {\r\n            enumerable: true,\r\n            get: function() {\r\n                return _viewportAnchorY;\r\n            },\r\n            set: function(value) {\r\n                if (!isValidPercentValue(value)) {\r\n                    throw new Error(\"ViewportAnchorY must be between 0 and 100.\");\r\n                }\r\n                _viewportAnchorY = value;\r\n            }\r\n        },\r\n        \"viewportAnchorX\": {\r\n            enumerable: true,\r\n            get: function() {\r\n                return _viewportAnchorX;\r\n            },\r\n            set: function(value) {\r\n                if (!isValidPercentValue(value)) {\r\n                    throw new Error(\"ViewportAnchorX must be between 0 and 100.\");\r\n                }\r\n                _viewportAnchorX = value;\r\n            }\r\n        },\r\n        \"scroll\": {\r\n            enumerable: true,\r\n            get: function() {\r\n                return _scroll;\r\n            },\r\n            set: function(value) {\r\n                var setting = findScrollSetting(value);\r\n                // Have to check for false as an empty string is a legal value.\r\n                if (setting === false) {\r\n                    throw new SyntaxError(\"An invalid or illegal string was specified.\");\r\n                }\r\n                _scroll = setting;\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\nexport default VTTRegion;","/* vtt.js - v0.12.1 (https://github.com/mozilla/vtt.js) built on 03-12-2015 */\r\nimport VTTCue from 'utils/captions/vttCue';\r\nimport VTTRegion from 'utils/captions/vttRegion';\r\n\r\n/**\r\n * Copyright 2013 vtt.js Contributors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\n/* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */\r\n/* vim: set shiftwidth=2 tabstop=2 autoindent cindent expandtab: */\r\n\r\nlet WebVTT = function(){};\r\nfunction makeColorSet(color, opacity) {\r\n    if(opacity === undefined) {\r\n        opacity = 1;\r\n    }\r\n    return \"rgba(\" + [parseInt(color.substring(0, 2), 16),\r\n            parseInt(color.substring(2, 4), 16),\r\n            parseInt(color.substring(4, 6), 16),\r\n            opacity].join(\",\") + \")\";\r\n}\r\n\r\nvar WebVTTPrefs = ['webvtt.font.color', 'webvtt.font.opacity', 'webvtt.font.scale',\r\n    'webvtt.bg.color', 'webvtt.bg.opacity',\r\n    'webvtt.edge.color', 'webvtt.edge.type'];\r\n\r\nvar fontScale = 1;\r\n\r\nfunction observe(subject, topic, data) {\r\n    switch (data) {\r\n        case \"webvtt.font.color\":\r\n        case \"webvtt.font.opacity\":\r\n            var fontColor = Services.prefs.getCharPref(\"webvtt.font.color\");\r\n            var fontOpacity = Services.prefs.getIntPref(\"webvtt.font.opacity\") / 100;\r\n            WebVTTSet.fontSet = makeColorSet(fontColor, fontOpacity);\r\n            break;\r\n        case \"webvtt.font.scale\":\r\n            fontScale = Services.prefs.getIntPref(\"webvtt.font.scale\") / 100;\r\n            break;\r\n        case \"webvtt.bg.color\":\r\n        case \"webvtt.bg.opacity\":\r\n            var backgroundColor = Services.prefs.getCharPref(\"webvtt.bg.color\");\r\n            var backgroundOpacity = Services.prefs.getIntPref(\"webvtt.bg.opacity\") / 100;\r\n            WebVTTSet.backgroundSet = makeColorSet(backgroundColor, backgroundOpacity);\r\n            break;\r\n        case \"webvtt.edge.color\":\r\n        case \"webvtt.edge.type\":\r\n            var edgeTypeList = [\"\", \"0px 0px \", \"4px 4px 4px \", \"-2px -2px \", \"2px 2px \"];\r\n            var edgeType = Services.prefs.getIntPref(\"webvtt.edge.type\");\r\n            var edgeColor = Services.prefs.getCharPref(\"webvtt.edge.color\");\r\n            WebVTTSet.edgeSet = edgeTypeList[edgeType] + makeColorSet(edgeColor);\r\n            break;\r\n    }\r\n}\r\n\r\nif(typeof Services !== \"undefined\") {\r\n    var WebVTTSet = {};\r\n    WebVTTPrefs.forEach(function (pref) {\r\n        observe(undefined, undefined, pref);\r\n        Services.prefs.addObserver(pref, observe, false);\r\n    });\r\n}\r\n\r\nvar _objCreate = Object.create || (function() {\r\n        function F() {}\r\n        return function(o) {\r\n            if (arguments.length !== 1) {\r\n                throw new Error('Object.create shim only accepts one parameter.');\r\n            }\r\n            F.prototype = o;\r\n            return new F();\r\n        };\r\n    })();\r\n\r\n// Creates a new ParserError object from an errorData object. The errorData\r\n// object should have default code and message properties. The default message\r\n// property can be overriden by passing in a message parameter.\r\n// See ParsingError.Errors below for acceptable errors.\r\nfunction ParsingError(errorData, message) {\r\n    this.name = \"ParsingError\";\r\n    this.code = errorData.code;\r\n    this.message = message || errorData.message;\r\n}\r\nParsingError.prototype = _objCreate(Error.prototype);\r\nParsingError.prototype.constructor = ParsingError;\r\n\r\n// ParsingError metadata for acceptable ParsingErrors.\r\nParsingError.Errors = {\r\n    BadSignature: {\r\n        code: 0,\r\n        message: \"Malformed WebVTT signature.\"\r\n    },\r\n    BadTimeStamp: {\r\n        code: 1,\r\n        message: \"Malformed time stamp.\"\r\n    }\r\n};\r\n\r\n// Try to parse input as a time stamp.\r\nfunction parseTimeStamp(input) {\r\n\r\n    function computeSeconds(h, m, s, f) {\r\n        return (h | 0) * 3600 + (m | 0) * 60 + (s | 0) + (f | 0) / 1000;\r\n    }\r\n\r\n    var m = input.match(/^(\\d+):(\\d{2})(:\\d{2})?\\.(\\d{3})/);\r\n    if (!m) {\r\n        return null;\r\n    }\r\n\r\n    if (m[3]) {\r\n        // Timestamp takes the form of [hours]:[minutes]:[seconds].[milliseconds]\r\n        return computeSeconds(m[1], m[2], m[3].replace(\":\", \"\"), m[4]);\r\n    } else if (m[1] > 59) {\r\n        // Timestamp takes the form of [hours]:[minutes].[milliseconds]\r\n        // First position is hours as it's over 59.\r\n        return computeSeconds(m[1], m[2], 0,  m[4]);\r\n    } else {\r\n        // Timestamp takes the form of [minutes]:[seconds].[milliseconds]\r\n        return computeSeconds(0, m[1], m[2], m[4]);\r\n    }\r\n}\r\n\r\n// A settings object holds key/value pairs and will ignore anything but the first\r\n// assignment to a specific key.\r\nfunction Settings() {\r\n    this.values = _objCreate(null);\r\n}\r\n\r\nSettings.prototype = {\r\n    // Only accept the first assignment to any key.\r\n    set: function(k, v) {\r\n        if (!this.get(k) && v !== \"\") {\r\n            this.values[k] = v;\r\n        }\r\n    },\r\n    // Return the value for a key, or a default value.\r\n    // If 'defaultKey' is passed then 'dflt' is assumed to be an object with\r\n    // a number of possible default values as properties where 'defaultKey' is\r\n    // the key of the property that will be chosen; otherwise it's assumed to be\r\n    // a single value.\r\n    get: function(k, dflt, defaultKey) {\r\n        if (defaultKey) {\r\n            return this.has(k) ? this.values[k] : dflt[defaultKey];\r\n        }\r\n        return this.has(k) ? this.values[k] : dflt;\r\n    },\r\n    // Check whether we have a value for a key.\r\n    has: function(k) {\r\n        return k in this.values;\r\n    },\r\n    // Accept a setting if its one of the given alternatives.\r\n    alt: function(k, v, a) {\r\n        for (var n = 0; n < a.length; ++n) {\r\n            if (v === a[n]) {\r\n                this.set(k, v);\r\n                break;\r\n            }\r\n        }\r\n    },\r\n    // Accept a setting if its a valid (signed) integer.\r\n    integer: function(k, v) {\r\n        if (/^-?\\d+$/.test(v)) { // integer\r\n            this.set(k, parseInt(v, 10));\r\n        }\r\n    },\r\n    // Accept a setting if its a valid percentage.\r\n    percent: function(k, v) {\r\n        var m;\r\n        if ((m = v.match(/^([\\d]{1,3})(\\.[\\d]*)?%$/))) {\r\n            v = parseFloat(v);\r\n            if (v >= 0 && v <= 100) {\r\n                this.set(k, v);\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n};\r\n\r\n// Helper function to parse input into groups separated by 'groupDelim', and\r\n// interprete each group as a key/value pair separated by 'keyValueDelim'.\r\nfunction parseOptions(input, callback, keyValueDelim, groupDelim) {\r\n    var groups = groupDelim ? input.split(groupDelim) : [input];\r\n    for (var i in groups) {\r\n        if (typeof groups[i] !== \"string\") {\r\n            continue;\r\n        }\r\n        var kv = groups[i].split(keyValueDelim);\r\n        if (kv.length !== 2) {\r\n            continue;\r\n        }\r\n        var k = kv[0];\r\n        var v = kv[1];\r\n        callback(k, v);\r\n    }\r\n}\r\n\r\nfunction parseCue(input, cue, regionList) {\r\n    // Remember the original input if we need to throw an error.\r\n    var oInput = input;\r\n    // 4.1 WebVTT timestamp\r\n    function consumeTimeStamp() {\r\n        var ts = parseTimeStamp(input);\r\n        if (ts === null) {\r\n            throw new ParsingError(ParsingError.Errors.BadTimeStamp,\r\n                \"Malformed timestamp: \" + oInput);\r\n        }\r\n        // Remove time stamp from input.\r\n        input = input.replace(/^[^\\sa-zA-Z-]+/, \"\");\r\n        return ts;\r\n    }\r\n\r\n    // 4.4.2 WebVTT cue settings\r\n    function consumeCueSettings(input, cue) {\r\n        var settings = new Settings();\r\n\r\n        parseOptions(input, function (k, v) {\r\n            switch (k) {\r\n                case \"region\":\r\n                    // Find the last region we parsed with the same region id.\r\n                    for (var i = regionList.length - 1; i >= 0; i--) {\r\n                        if (regionList[i].id === v) {\r\n                            settings.set(k, regionList[i].region);\r\n                            break;\r\n                        }\r\n                    }\r\n                    break;\r\n                case \"vertical\":\r\n                    settings.alt(k, v, [\"rl\", \"lr\"]);\r\n                    break;\r\n                case \"line\":\r\n                    var vals = v.split(\",\"),\r\n                        vals0 = vals[0];\r\n                    settings.integer(k, vals0);\r\n                    settings.percent(k, vals0) ? settings.set(\"snapToLines\", false) : null;\r\n                    settings.alt(k, vals0, [\"auto\"]);\r\n                    if (vals.length === 2) {\r\n                        settings.alt(\"lineAlign\", vals[1], [\"start\", \"middle\", \"end\"]);\r\n                    }\r\n                    break;\r\n                case \"position\":\r\n                    vals = v.split(\",\");\r\n                    settings.percent(k, vals[0]);\r\n                    if (vals.length === 2) {\r\n                        settings.alt(\"positionAlign\", vals[1], [\"start\", \"middle\", \"end\"]);\r\n                    }\r\n                    break;\r\n                case \"size\":\r\n                    settings.percent(k, v);\r\n                    break;\r\n                case \"align\":\r\n                    settings.alt(k, v, [\"start\", \"middle\", \"end\", \"left\", \"right\"]);\r\n                    break;\r\n            }\r\n        }, /:/, /\\s/);\r\n\r\n        //hslee remove these fields.\r\n        //Because safari dies here always. And Player doen't use style fields.\r\n        // Apply default values for any missing fields.\r\n        /*cue.region = settings.get(\"region\", null);\r\n        cue.vertical = settings.get(\"vertical\", \"\");\r\n        cue.line = settings.get(\"line\", \"auto\");\r\n        cue.lineAlign = settings.get(\"lineAlign\", \"start\");\r\n        cue.snapToLines = settings.get(\"snapToLines\", true);\r\n        cue.size = settings.get(\"size\", 100);\r\n        //cue.align = settings.get(\"align\", \"middle\");\r\n        cue.position = settings.get(\"position\", \"auto\");\r\n        cue.positionAlign = settings.get(\"positionAlign\", {\r\n            start: \"start\",\r\n            left: \"start\",\r\n            middle: \"middle\",\r\n            end: \"end\",\r\n            right: \"end\"\r\n        }, cue.align\r\n        );*/\r\n    }\r\n\r\n    function skipWhitespace() {\r\n        input = input.replace(/^\\s+/, \"\");\r\n    }\r\n\r\n    // 4.1 WebVTT cue timings.\r\n    skipWhitespace();\r\n    cue.startTime = consumeTimeStamp();   // (1) collect cue start time\r\n    skipWhitespace();\r\n    if (input.substr(0, 3) !== \"-->\") {     // (3) next characters must match \"-->\"\r\n        throw new ParsingError(ParsingError.Errors.BadTimeStamp,\r\n            \"Malformed time stamp (time stamps must be separated by '-->'): \" +\r\n            oInput);\r\n    }\r\n    input = input.substr(3);\r\n    skipWhitespace();\r\n    cue.endTime = consumeTimeStamp();     // (5) collect cue end time\r\n\r\n    // 4.1 WebVTT cue settings list.\r\n    skipWhitespace();\r\n    consumeCueSettings(input, cue);\r\n}\r\n\r\nvar ESCAPE = {\r\n    \"&amp;\": \"&\",\r\n    \"&lt;\": \"<\",\r\n    \"&gt;\": \">\",\r\n    \"&lrm;\": \"\\u200e\",\r\n    \"&rlm;\": \"\\u200f\",\r\n    \"&nbsp;\": \"\\u00a0\"\r\n};\r\n\r\nvar TAG_NAME = {\r\n    c: \"span\",\r\n    i: \"i\",\r\n    b: \"b\",\r\n    u: \"u\",\r\n    ruby: \"ruby\",\r\n    rt: \"rt\",\r\n    v: \"span\",\r\n    lang: \"span\"\r\n};\r\n\r\nvar TAG_ANNOTATION = {\r\n    v: \"title\",\r\n    lang: \"lang\"\r\n};\r\n\r\nvar NEEDS_PARENT = {\r\n    rt: \"ruby\"\r\n};\r\n\r\n// Parse content into a document fragment.\r\nfunction parseContent(window, input) {\r\n    function nextToken() {\r\n        // Check for end-of-string.\r\n        if (!input) {\r\n            return null;\r\n        }\r\n\r\n        // Consume 'n' characters from the input.\r\n        function consume(result) {\r\n            input = input.substr(result.length);\r\n            return result;\r\n        }\r\n\r\n        var m = input.match(/^([^<]*)(<[^>]+>?)?/);\r\n        // If there is some text before the next tag, return it, otherwise return\r\n        // the tag.\r\n        return consume(m[1] ? m[1] : m[2]);\r\n    }\r\n\r\n    // Unescape a string 's'.\r\n    function unescape1(e) {\r\n        return ESCAPE[e];\r\n    }\r\n    function unescape(s) {\r\n        while ((m = s.match(/&(amp|lt|gt|lrm|rlm|nbsp);/))) {\r\n            s = s.replace(m[0], unescape1);\r\n        }\r\n        return s;\r\n    }\r\n\r\n    function shouldAdd(current, element) {\r\n        return !NEEDS_PARENT[element.localName] ||\r\n            NEEDS_PARENT[element.localName] === current.localName;\r\n    }\r\n\r\n    // Create an element for this tag.\r\n    function createElement(type, annotation) {\r\n        var tagName = TAG_NAME[type];\r\n        if (!tagName) {\r\n            return null;\r\n        }\r\n        var element = window.document.createElement(tagName);\r\n        element.localName = tagName;\r\n        var name = TAG_ANNOTATION[type];\r\n        if (name && annotation) {\r\n            element[name] = annotation.trim();\r\n        }\r\n        return element;\r\n    }\r\n\r\n    var rootDiv = window.document.createElement(\"div\"),\r\n        current = rootDiv,\r\n        t,\r\n        tagStack = [];\r\n\r\n    while ((t = nextToken()) !== null) {\r\n        if (t[0] === '<') {\r\n            if (t[1] === \"/\") {\r\n                // If the closing tag matches, move back up to the parent node.\r\n                if (tagStack.length &&\r\n                    tagStack[tagStack.length - 1] === t.substr(2).replace(\">\", \"\")) {\r\n                    tagStack.pop();\r\n                    current = current.parentNode;\r\n                }\r\n                // Otherwise just ignore the end tag.\r\n                continue;\r\n            }\r\n            var ts = parseTimeStamp(t.substr(1, t.length - 2));\r\n            var node;\r\n            if (ts) {\r\n                // Timestamps are lead nodes as well.\r\n                node = window.document.createProcessingInstruction(\"timestamp\", ts);\r\n                current.appendChild(node);\r\n                continue;\r\n            }\r\n            var m = t.match(/^<([^.\\s/0-9>]+)(\\.[^\\s\\\\>]+)?([^>\\\\]+)?(\\\\?)>?$/);\r\n            // If we can't parse the tag, skip to the next tag.\r\n            if (!m) {\r\n                continue;\r\n            }\r\n            // Try to construct an element, and ignore the tag if we couldn't.\r\n            node = createElement(m[1], m[3]);\r\n            if (!node) {\r\n                continue;\r\n            }\r\n            // Determine if the tag should be added based on the context of where it\r\n            // is placed in the cuetext.\r\n            if (!shouldAdd(current, node)) {\r\n                continue;\r\n            }\r\n            // Set the class list (as a list of classes, separated by space).\r\n            if (m[2]) {\r\n                node.className = m[2].substr(1).replace('.', ' ');\r\n            }\r\n            // Append the node to the current node, and enter the scope of the new\r\n            // node.\r\n            tagStack.push(m[1]);\r\n            current.appendChild(node);\r\n            current = node;\r\n            continue;\r\n        }\r\n\r\n        // Text nodes are leaf nodes.\r\n        current.appendChild(window.document.createTextNode(unescape(t)));\r\n    }\r\n\r\n    return rootDiv;\r\n}\r\n\r\n// This is a list of all the Unicode characters that have a strong\r\n// right-to-left category. What this means is that these characters are\r\n// written right-to-left for sure. It was generated by pulling all the strong\r\n// right-to-left characters out of the Unicode data table. That table can\r\n// found at: http://www.unicode.org/Public/UNIDATA/UnicodeData.txt\r\nvar strongRTLChars = [0x05BE, 0x05C0, 0x05C3, 0x05C6, 0x05D0, 0x05D1,\r\n    0x05D2, 0x05D3, 0x05D4, 0x05D5, 0x05D6, 0x05D7, 0x05D8, 0x05D9, 0x05DA,\r\n    0x05DB, 0x05DC, 0x05DD, 0x05DE, 0x05DF, 0x05E0, 0x05E1, 0x05E2, 0x05E3,\r\n    0x05E4, 0x05E5, 0x05E6, 0x05E7, 0x05E8, 0x05E9, 0x05EA, 0x05F0, 0x05F1,\r\n    0x05F2, 0x05F3, 0x05F4, 0x0608, 0x060B, 0x060D, 0x061B, 0x061E, 0x061F,\r\n    0x0620, 0x0621, 0x0622, 0x0623, 0x0624, 0x0625, 0x0626, 0x0627, 0x0628,\r\n    0x0629, 0x062A, 0x062B, 0x062C, 0x062D, 0x062E, 0x062F, 0x0630, 0x0631,\r\n    0x0632, 0x0633, 0x0634, 0x0635, 0x0636, 0x0637, 0x0638, 0x0639, 0x063A,\r\n    0x063B, 0x063C, 0x063D, 0x063E, 0x063F, 0x0640, 0x0641, 0x0642, 0x0643,\r\n    0x0644, 0x0645, 0x0646, 0x0647, 0x0648, 0x0649, 0x064A, 0x066D, 0x066E,\r\n    0x066F, 0x0671, 0x0672, 0x0673, 0x0674, 0x0675, 0x0676, 0x0677, 0x0678,\r\n    0x0679, 0x067A, 0x067B, 0x067C, 0x067D, 0x067E, 0x067F, 0x0680, 0x0681,\r\n    0x0682, 0x0683, 0x0684, 0x0685, 0x0686, 0x0687, 0x0688, 0x0689, 0x068A,\r\n    0x068B, 0x068C, 0x068D, 0x068E, 0x068F, 0x0690, 0x0691, 0x0692, 0x0693,\r\n    0x0694, 0x0695, 0x0696, 0x0697, 0x0698, 0x0699, 0x069A, 0x069B, 0x069C,\r\n    0x069D, 0x069E, 0x069F, 0x06A0, 0x06A1, 0x06A2, 0x06A3, 0x06A4, 0x06A5,\r\n    0x06A6, 0x06A7, 0x06A8, 0x06A9, 0x06AA, 0x06AB, 0x06AC, 0x06AD, 0x06AE,\r\n    0x06AF, 0x06B0, 0x06B1, 0x06B2, 0x06B3, 0x06B4, 0x06B5, 0x06B6, 0x06B7,\r\n    0x06B8, 0x06B9, 0x06BA, 0x06BB, 0x06BC, 0x06BD, 0x06BE, 0x06BF, 0x06C0,\r\n    0x06C1, 0x06C2, 0x06C3, 0x06C4, 0x06C5, 0x06C6, 0x06C7, 0x06C8, 0x06C9,\r\n    0x06CA, 0x06CB, 0x06CC, 0x06CD, 0x06CE, 0x06CF, 0x06D0, 0x06D1, 0x06D2,\r\n    0x06D3, 0x06D4, 0x06D5, 0x06E5, 0x06E6, 0x06EE, 0x06EF, 0x06FA, 0x06FB,\r\n    0x06FC, 0x06FD, 0x06FE, 0x06FF, 0x0700, 0x0701, 0x0702, 0x0703, 0x0704,\r\n    0x0705, 0x0706, 0x0707, 0x0708, 0x0709, 0x070A, 0x070B, 0x070C, 0x070D,\r\n    0x070F, 0x0710, 0x0712, 0x0713, 0x0714, 0x0715, 0x0716, 0x0717, 0x0718,\r\n    0x0719, 0x071A, 0x071B, 0x071C, 0x071D, 0x071E, 0x071F, 0x0720, 0x0721,\r\n    0x0722, 0x0723, 0x0724, 0x0725, 0x0726, 0x0727, 0x0728, 0x0729, 0x072A,\r\n    0x072B, 0x072C, 0x072D, 0x072E, 0x072F, 0x074D, 0x074E, 0x074F, 0x0750,\r\n    0x0751, 0x0752, 0x0753, 0x0754, 0x0755, 0x0756, 0x0757, 0x0758, 0x0759,\r\n    0x075A, 0x075B, 0x075C, 0x075D, 0x075E, 0x075F, 0x0760, 0x0761, 0x0762,\r\n    0x0763, 0x0764, 0x0765, 0x0766, 0x0767, 0x0768, 0x0769, 0x076A, 0x076B,\r\n    0x076C, 0x076D, 0x076E, 0x076F, 0x0770, 0x0771, 0x0772, 0x0773, 0x0774,\r\n    0x0775, 0x0776, 0x0777, 0x0778, 0x0779, 0x077A, 0x077B, 0x077C, 0x077D,\r\n    0x077E, 0x077F, 0x0780, 0x0781, 0x0782, 0x0783, 0x0784, 0x0785, 0x0786,\r\n    0x0787, 0x0788, 0x0789, 0x078A, 0x078B, 0x078C, 0x078D, 0x078E, 0x078F,\r\n    0x0790, 0x0791, 0x0792, 0x0793, 0x0794, 0x0795, 0x0796, 0x0797, 0x0798,\r\n    0x0799, 0x079A, 0x079B, 0x079C, 0x079D, 0x079E, 0x079F, 0x07A0, 0x07A1,\r\n    0x07A2, 0x07A3, 0x07A4, 0x07A5, 0x07B1, 0x07C0, 0x07C1, 0x07C2, 0x07C3,\r\n    0x07C4, 0x07C5, 0x07C6, 0x07C7, 0x07C8, 0x07C9, 0x07CA, 0x07CB, 0x07CC,\r\n    0x07CD, 0x07CE, 0x07CF, 0x07D0, 0x07D1, 0x07D2, 0x07D3, 0x07D4, 0x07D5,\r\n    0x07D6, 0x07D7, 0x07D8, 0x07D9, 0x07DA, 0x07DB, 0x07DC, 0x07DD, 0x07DE,\r\n    0x07DF, 0x07E0, 0x07E1, 0x07E2, 0x07E3, 0x07E4, 0x07E5, 0x07E6, 0x07E7,\r\n    0x07E8, 0x07E9, 0x07EA, 0x07F4, 0x07F5, 0x07FA, 0x0800, 0x0801, 0x0802,\r\n    0x0803, 0x0804, 0x0805, 0x0806, 0x0807, 0x0808, 0x0809, 0x080A, 0x080B,\r\n    0x080C, 0x080D, 0x080E, 0x080F, 0x0810, 0x0811, 0x0812, 0x0813, 0x0814,\r\n    0x0815, 0x081A, 0x0824, 0x0828, 0x0830, 0x0831, 0x0832, 0x0833, 0x0834,\r\n    0x0835, 0x0836, 0x0837, 0x0838, 0x0839, 0x083A, 0x083B, 0x083C, 0x083D,\r\n    0x083E, 0x0840, 0x0841, 0x0842, 0x0843, 0x0844, 0x0845, 0x0846, 0x0847,\r\n    0x0848, 0x0849, 0x084A, 0x084B, 0x084C, 0x084D, 0x084E, 0x084F, 0x0850,\r\n    0x0851, 0x0852, 0x0853, 0x0854, 0x0855, 0x0856, 0x0857, 0x0858, 0x085E,\r\n    0x08A0, 0x08A2, 0x08A3, 0x08A4, 0x08A5, 0x08A6, 0x08A7, 0x08A8, 0x08A9,\r\n    0x08AA, 0x08AB, 0x08AC, 0x200F, 0xFB1D, 0xFB1F, 0xFB20, 0xFB21, 0xFB22,\r\n    0xFB23, 0xFB24, 0xFB25, 0xFB26, 0xFB27, 0xFB28, 0xFB2A, 0xFB2B, 0xFB2C,\r\n    0xFB2D, 0xFB2E, 0xFB2F, 0xFB30, 0xFB31, 0xFB32, 0xFB33, 0xFB34, 0xFB35,\r\n    0xFB36, 0xFB38, 0xFB39, 0xFB3A, 0xFB3B, 0xFB3C, 0xFB3E, 0xFB40, 0xFB41,\r\n    0xFB43, 0xFB44, 0xFB46, 0xFB47, 0xFB48, 0xFB49, 0xFB4A, 0xFB4B, 0xFB4C,\r\n    0xFB4D, 0xFB4E, 0xFB4F, 0xFB50, 0xFB51, 0xFB52, 0xFB53, 0xFB54, 0xFB55,\r\n    0xFB56, 0xFB57, 0xFB58, 0xFB59, 0xFB5A, 0xFB5B, 0xFB5C, 0xFB5D, 0xFB5E,\r\n    0xFB5F, 0xFB60, 0xFB61, 0xFB62, 0xFB63, 0xFB64, 0xFB65, 0xFB66, 0xFB67,\r\n    0xFB68, 0xFB69, 0xFB6A, 0xFB6B, 0xFB6C, 0xFB6D, 0xFB6E, 0xFB6F, 0xFB70,\r\n    0xFB71, 0xFB72, 0xFB73, 0xFB74, 0xFB75, 0xFB76, 0xFB77, 0xFB78, 0xFB79,\r\n    0xFB7A, 0xFB7B, 0xFB7C, 0xFB7D, 0xFB7E, 0xFB7F, 0xFB80, 0xFB81, 0xFB82,\r\n    0xFB83, 0xFB84, 0xFB85, 0xFB86, 0xFB87, 0xFB88, 0xFB89, 0xFB8A, 0xFB8B,\r\n    0xFB8C, 0xFB8D, 0xFB8E, 0xFB8F, 0xFB90, 0xFB91, 0xFB92, 0xFB93, 0xFB94,\r\n    0xFB95, 0xFB96, 0xFB97, 0xFB98, 0xFB99, 0xFB9A, 0xFB9B, 0xFB9C, 0xFB9D,\r\n    0xFB9E, 0xFB9F, 0xFBA0, 0xFBA1, 0xFBA2, 0xFBA3, 0xFBA4, 0xFBA5, 0xFBA6,\r\n    0xFBA7, 0xFBA8, 0xFBA9, 0xFBAA, 0xFBAB, 0xFBAC, 0xFBAD, 0xFBAE, 0xFBAF,\r\n    0xFBB0, 0xFBB1, 0xFBB2, 0xFBB3, 0xFBB4, 0xFBB5, 0xFBB6, 0xFBB7, 0xFBB8,\r\n    0xFBB9, 0xFBBA, 0xFBBB, 0xFBBC, 0xFBBD, 0xFBBE, 0xFBBF, 0xFBC0, 0xFBC1,\r\n    0xFBD3, 0xFBD4, 0xFBD5, 0xFBD6, 0xFBD7, 0xFBD8, 0xFBD9, 0xFBDA, 0xFBDB,\r\n    0xFBDC, 0xFBDD, 0xFBDE, 0xFBDF, 0xFBE0, 0xFBE1, 0xFBE2, 0xFBE3, 0xFBE4,\r\n    0xFBE5, 0xFBE6, 0xFBE7, 0xFBE8, 0xFBE9, 0xFBEA, 0xFBEB, 0xFBEC, 0xFBED,\r\n    0xFBEE, 0xFBEF, 0xFBF0, 0xFBF1, 0xFBF2, 0xFBF3, 0xFBF4, 0xFBF5, 0xFBF6,\r\n    0xFBF7, 0xFBF8, 0xFBF9, 0xFBFA, 0xFBFB, 0xFBFC, 0xFBFD, 0xFBFE, 0xFBFF,\r\n    0xFC00, 0xFC01, 0xFC02, 0xFC03, 0xFC04, 0xFC05, 0xFC06, 0xFC07, 0xFC08,\r\n    0xFC09, 0xFC0A, 0xFC0B, 0xFC0C, 0xFC0D, 0xFC0E, 0xFC0F, 0xFC10, 0xFC11,\r\n    0xFC12, 0xFC13, 0xFC14, 0xFC15, 0xFC16, 0xFC17, 0xFC18, 0xFC19, 0xFC1A,\r\n    0xFC1B, 0xFC1C, 0xFC1D, 0xFC1E, 0xFC1F, 0xFC20, 0xFC21, 0xFC22, 0xFC23,\r\n    0xFC24, 0xFC25, 0xFC26, 0xFC27, 0xFC28, 0xFC29, 0xFC2A, 0xFC2B, 0xFC2C,\r\n    0xFC2D, 0xFC2E, 0xFC2F, 0xFC30, 0xFC31, 0xFC32, 0xFC33, 0xFC34, 0xFC35,\r\n    0xFC36, 0xFC37, 0xFC38, 0xFC39, 0xFC3A, 0xFC3B, 0xFC3C, 0xFC3D, 0xFC3E,\r\n    0xFC3F, 0xFC40, 0xFC41, 0xFC42, 0xFC43, 0xFC44, 0xFC45, 0xFC46, 0xFC47,\r\n    0xFC48, 0xFC49, 0xFC4A, 0xFC4B, 0xFC4C, 0xFC4D, 0xFC4E, 0xFC4F, 0xFC50,\r\n    0xFC51, 0xFC52, 0xFC53, 0xFC54, 0xFC55, 0xFC56, 0xFC57, 0xFC58, 0xFC59,\r\n    0xFC5A, 0xFC5B, 0xFC5C, 0xFC5D, 0xFC5E, 0xFC5F, 0xFC60, 0xFC61, 0xFC62,\r\n    0xFC63, 0xFC64, 0xFC65, 0xFC66, 0xFC67, 0xFC68, 0xFC69, 0xFC6A, 0xFC6B,\r\n    0xFC6C, 0xFC6D, 0xFC6E, 0xFC6F, 0xFC70, 0xFC71, 0xFC72, 0xFC73, 0xFC74,\r\n    0xFC75, 0xFC76, 0xFC77, 0xFC78, 0xFC79, 0xFC7A, 0xFC7B, 0xFC7C, 0xFC7D,\r\n    0xFC7E, 0xFC7F, 0xFC80, 0xFC81, 0xFC82, 0xFC83, 0xFC84, 0xFC85, 0xFC86,\r\n    0xFC87, 0xFC88, 0xFC89, 0xFC8A, 0xFC8B, 0xFC8C, 0xFC8D, 0xFC8E, 0xFC8F,\r\n    0xFC90, 0xFC91, 0xFC92, 0xFC93, 0xFC94, 0xFC95, 0xFC96, 0xFC97, 0xFC98,\r\n    0xFC99, 0xFC9A, 0xFC9B, 0xFC9C, 0xFC9D, 0xFC9E, 0xFC9F, 0xFCA0, 0xFCA1,\r\n    0xFCA2, 0xFCA3, 0xFCA4, 0xFCA5, 0xFCA6, 0xFCA7, 0xFCA8, 0xFCA9, 0xFCAA,\r\n    0xFCAB, 0xFCAC, 0xFCAD, 0xFCAE, 0xFCAF, 0xFCB0, 0xFCB1, 0xFCB2, 0xFCB3,\r\n    0xFCB4, 0xFCB5, 0xFCB6, 0xFCB7, 0xFCB8, 0xFCB9, 0xFCBA, 0xFCBB, 0xFCBC,\r\n    0xFCBD, 0xFCBE, 0xFCBF, 0xFCC0, 0xFCC1, 0xFCC2, 0xFCC3, 0xFCC4, 0xFCC5,\r\n    0xFCC6, 0xFCC7, 0xFCC8, 0xFCC9, 0xFCCA, 0xFCCB, 0xFCCC, 0xFCCD, 0xFCCE,\r\n    0xFCCF, 0xFCD0, 0xFCD1, 0xFCD2, 0xFCD3, 0xFCD4, 0xFCD5, 0xFCD6, 0xFCD7,\r\n    0xFCD8, 0xFCD9, 0xFCDA, 0xFCDB, 0xFCDC, 0xFCDD, 0xFCDE, 0xFCDF, 0xFCE0,\r\n    0xFCE1, 0xFCE2, 0xFCE3, 0xFCE4, 0xFCE5, 0xFCE6, 0xFCE7, 0xFCE8, 0xFCE9,\r\n    0xFCEA, 0xFCEB, 0xFCEC, 0xFCED, 0xFCEE, 0xFCEF, 0xFCF0, 0xFCF1, 0xFCF2,\r\n    0xFCF3, 0xFCF4, 0xFCF5, 0xFCF6, 0xFCF7, 0xFCF8, 0xFCF9, 0xFCFA, 0xFCFB,\r\n    0xFCFC, 0xFCFD, 0xFCFE, 0xFCFF, 0xFD00, 0xFD01, 0xFD02, 0xFD03, 0xFD04,\r\n    0xFD05, 0xFD06, 0xFD07, 0xFD08, 0xFD09, 0xFD0A, 0xFD0B, 0xFD0C, 0xFD0D,\r\n    0xFD0E, 0xFD0F, 0xFD10, 0xFD11, 0xFD12, 0xFD13, 0xFD14, 0xFD15, 0xFD16,\r\n    0xFD17, 0xFD18, 0xFD19, 0xFD1A, 0xFD1B, 0xFD1C, 0xFD1D, 0xFD1E, 0xFD1F,\r\n    0xFD20, 0xFD21, 0xFD22, 0xFD23, 0xFD24, 0xFD25, 0xFD26, 0xFD27, 0xFD28,\r\n    0xFD29, 0xFD2A, 0xFD2B, 0xFD2C, 0xFD2D, 0xFD2E, 0xFD2F, 0xFD30, 0xFD31,\r\n    0xFD32, 0xFD33, 0xFD34, 0xFD35, 0xFD36, 0xFD37, 0xFD38, 0xFD39, 0xFD3A,\r\n    0xFD3B, 0xFD3C, 0xFD3D, 0xFD50, 0xFD51, 0xFD52, 0xFD53, 0xFD54, 0xFD55,\r\n    0xFD56, 0xFD57, 0xFD58, 0xFD59, 0xFD5A, 0xFD5B, 0xFD5C, 0xFD5D, 0xFD5E,\r\n    0xFD5F, 0xFD60, 0xFD61, 0xFD62, 0xFD63, 0xFD64, 0xFD65, 0xFD66, 0xFD67,\r\n    0xFD68, 0xFD69, 0xFD6A, 0xFD6B, 0xFD6C, 0xFD6D, 0xFD6E, 0xFD6F, 0xFD70,\r\n    0xFD71, 0xFD72, 0xFD73, 0xFD74, 0xFD75, 0xFD76, 0xFD77, 0xFD78, 0xFD79,\r\n    0xFD7A, 0xFD7B, 0xFD7C, 0xFD7D, 0xFD7E, 0xFD7F, 0xFD80, 0xFD81, 0xFD82,\r\n    0xFD83, 0xFD84, 0xFD85, 0xFD86, 0xFD87, 0xFD88, 0xFD89, 0xFD8A, 0xFD8B,\r\n    0xFD8C, 0xFD8D, 0xFD8E, 0xFD8F, 0xFD92, 0xFD93, 0xFD94, 0xFD95, 0xFD96,\r\n    0xFD97, 0xFD98, 0xFD99, 0xFD9A, 0xFD9B, 0xFD9C, 0xFD9D, 0xFD9E, 0xFD9F,\r\n    0xFDA0, 0xFDA1, 0xFDA2, 0xFDA3, 0xFDA4, 0xFDA5, 0xFDA6, 0xFDA7, 0xFDA8,\r\n    0xFDA9, 0xFDAA, 0xFDAB, 0xFDAC, 0xFDAD, 0xFDAE, 0xFDAF, 0xFDB0, 0xFDB1,\r\n    0xFDB2, 0xFDB3, 0xFDB4, 0xFDB5, 0xFDB6, 0xFDB7, 0xFDB8, 0xFDB9, 0xFDBA,\r\n    0xFDBB, 0xFDBC, 0xFDBD, 0xFDBE, 0xFDBF, 0xFDC0, 0xFDC1, 0xFDC2, 0xFDC3,\r\n    0xFDC4, 0xFDC5, 0xFDC6, 0xFDC7, 0xFDF0, 0xFDF1, 0xFDF2, 0xFDF3, 0xFDF4,\r\n    0xFDF5, 0xFDF6, 0xFDF7, 0xFDF8, 0xFDF9, 0xFDFA, 0xFDFB, 0xFDFC, 0xFE70,\r\n    0xFE71, 0xFE72, 0xFE73, 0xFE74, 0xFE76, 0xFE77, 0xFE78, 0xFE79, 0xFE7A,\r\n    0xFE7B, 0xFE7C, 0xFE7D, 0xFE7E, 0xFE7F, 0xFE80, 0xFE81, 0xFE82, 0xFE83,\r\n    0xFE84, 0xFE85, 0xFE86, 0xFE87, 0xFE88, 0xFE89, 0xFE8A, 0xFE8B, 0xFE8C,\r\n    0xFE8D, 0xFE8E, 0xFE8F, 0xFE90, 0xFE91, 0xFE92, 0xFE93, 0xFE94, 0xFE95,\r\n    0xFE96, 0xFE97, 0xFE98, 0xFE99, 0xFE9A, 0xFE9B, 0xFE9C, 0xFE9D, 0xFE9E,\r\n    0xFE9F, 0xFEA0, 0xFEA1, 0xFEA2, 0xFEA3, 0xFEA4, 0xFEA5, 0xFEA6, 0xFEA7,\r\n    0xFEA8, 0xFEA9, 0xFEAA, 0xFEAB, 0xFEAC, 0xFEAD, 0xFEAE, 0xFEAF, 0xFEB0,\r\n    0xFEB1, 0xFEB2, 0xFEB3, 0xFEB4, 0xFEB5, 0xFEB6, 0xFEB7, 0xFEB8, 0xFEB9,\r\n    0xFEBA, 0xFEBB, 0xFEBC, 0xFEBD, 0xFEBE, 0xFEBF, 0xFEC0, 0xFEC1, 0xFEC2,\r\n    0xFEC3, 0xFEC4, 0xFEC5, 0xFEC6, 0xFEC7, 0xFEC8, 0xFEC9, 0xFECA, 0xFECB,\r\n    0xFECC, 0xFECD, 0xFECE, 0xFECF, 0xFED0, 0xFED1, 0xFED2, 0xFED3, 0xFED4,\r\n    0xFED5, 0xFED6, 0xFED7, 0xFED8, 0xFED9, 0xFEDA, 0xFEDB, 0xFEDC, 0xFEDD,\r\n    0xFEDE, 0xFEDF, 0xFEE0, 0xFEE1, 0xFEE2, 0xFEE3, 0xFEE4, 0xFEE5, 0xFEE6,\r\n    0xFEE7, 0xFEE8, 0xFEE9, 0xFEEA, 0xFEEB, 0xFEEC, 0xFEED, 0xFEEE, 0xFEEF,\r\n    0xFEF0, 0xFEF1, 0xFEF2, 0xFEF3, 0xFEF4, 0xFEF5, 0xFEF6, 0xFEF7, 0xFEF8,\r\n    0xFEF9, 0xFEFA, 0xFEFB, 0xFEFC, 0x10800, 0x10801, 0x10802, 0x10803,\r\n    0x10804, 0x10805, 0x10808, 0x1080A, 0x1080B, 0x1080C, 0x1080D, 0x1080E,\r\n    0x1080F, 0x10810, 0x10811, 0x10812, 0x10813, 0x10814, 0x10815, 0x10816,\r\n    0x10817, 0x10818, 0x10819, 0x1081A, 0x1081B, 0x1081C, 0x1081D, 0x1081E,\r\n    0x1081F, 0x10820, 0x10821, 0x10822, 0x10823, 0x10824, 0x10825, 0x10826,\r\n    0x10827, 0x10828, 0x10829, 0x1082A, 0x1082B, 0x1082C, 0x1082D, 0x1082E,\r\n    0x1082F, 0x10830, 0x10831, 0x10832, 0x10833, 0x10834, 0x10835, 0x10837,\r\n    0x10838, 0x1083C, 0x1083F, 0x10840, 0x10841, 0x10842, 0x10843, 0x10844,\r\n    0x10845, 0x10846, 0x10847, 0x10848, 0x10849, 0x1084A, 0x1084B, 0x1084C,\r\n    0x1084D, 0x1084E, 0x1084F, 0x10850, 0x10851, 0x10852, 0x10853, 0x10854,\r\n    0x10855, 0x10857, 0x10858, 0x10859, 0x1085A, 0x1085B, 0x1085C, 0x1085D,\r\n    0x1085E, 0x1085F, 0x10900, 0x10901, 0x10902, 0x10903, 0x10904, 0x10905,\r\n    0x10906, 0x10907, 0x10908, 0x10909, 0x1090A, 0x1090B, 0x1090C, 0x1090D,\r\n    0x1090E, 0x1090F, 0x10910, 0x10911, 0x10912, 0x10913, 0x10914, 0x10915,\r\n    0x10916, 0x10917, 0x10918, 0x10919, 0x1091A, 0x1091B, 0x10920, 0x10921,\r\n    0x10922, 0x10923, 0x10924, 0x10925, 0x10926, 0x10927, 0x10928, 0x10929,\r\n    0x1092A, 0x1092B, 0x1092C, 0x1092D, 0x1092E, 0x1092F, 0x10930, 0x10931,\r\n    0x10932, 0x10933, 0x10934, 0x10935, 0x10936, 0x10937, 0x10938, 0x10939,\r\n    0x1093F, 0x10980, 0x10981, 0x10982, 0x10983, 0x10984, 0x10985, 0x10986,\r\n    0x10987, 0x10988, 0x10989, 0x1098A, 0x1098B, 0x1098C, 0x1098D, 0x1098E,\r\n    0x1098F, 0x10990, 0x10991, 0x10992, 0x10993, 0x10994, 0x10995, 0x10996,\r\n    0x10997, 0x10998, 0x10999, 0x1099A, 0x1099B, 0x1099C, 0x1099D, 0x1099E,\r\n    0x1099F, 0x109A0, 0x109A1, 0x109A2, 0x109A3, 0x109A4, 0x109A5, 0x109A6,\r\n    0x109A7, 0x109A8, 0x109A9, 0x109AA, 0x109AB, 0x109AC, 0x109AD, 0x109AE,\r\n    0x109AF, 0x109B0, 0x109B1, 0x109B2, 0x109B3, 0x109B4, 0x109B5, 0x109B6,\r\n    0x109B7, 0x109BE, 0x109BF, 0x10A00, 0x10A10, 0x10A11, 0x10A12, 0x10A13,\r\n    0x10A15, 0x10A16, 0x10A17, 0x10A19, 0x10A1A, 0x10A1B, 0x10A1C, 0x10A1D,\r\n    0x10A1E, 0x10A1F, 0x10A20, 0x10A21, 0x10A22, 0x10A23, 0x10A24, 0x10A25,\r\n    0x10A26, 0x10A27, 0x10A28, 0x10A29, 0x10A2A, 0x10A2B, 0x10A2C, 0x10A2D,\r\n    0x10A2E, 0x10A2F, 0x10A30, 0x10A31, 0x10A32, 0x10A33, 0x10A40, 0x10A41,\r\n    0x10A42, 0x10A43, 0x10A44, 0x10A45, 0x10A46, 0x10A47, 0x10A50, 0x10A51,\r\n    0x10A52, 0x10A53, 0x10A54, 0x10A55, 0x10A56, 0x10A57, 0x10A58, 0x10A60,\r\n    0x10A61, 0x10A62, 0x10A63, 0x10A64, 0x10A65, 0x10A66, 0x10A67, 0x10A68,\r\n    0x10A69, 0x10A6A, 0x10A6B, 0x10A6C, 0x10A6D, 0x10A6E, 0x10A6F, 0x10A70,\r\n    0x10A71, 0x10A72, 0x10A73, 0x10A74, 0x10A75, 0x10A76, 0x10A77, 0x10A78,\r\n    0x10A79, 0x10A7A, 0x10A7B, 0x10A7C, 0x10A7D, 0x10A7E, 0x10A7F, 0x10B00,\r\n    0x10B01, 0x10B02, 0x10B03, 0x10B04, 0x10B05, 0x10B06, 0x10B07, 0x10B08,\r\n    0x10B09, 0x10B0A, 0x10B0B, 0x10B0C, 0x10B0D, 0x10B0E, 0x10B0F, 0x10B10,\r\n    0x10B11, 0x10B12, 0x10B13, 0x10B14, 0x10B15, 0x10B16, 0x10B17, 0x10B18,\r\n    0x10B19, 0x10B1A, 0x10B1B, 0x10B1C, 0x10B1D, 0x10B1E, 0x10B1F, 0x10B20,\r\n    0x10B21, 0x10B22, 0x10B23, 0x10B24, 0x10B25, 0x10B26, 0x10B27, 0x10B28,\r\n    0x10B29, 0x10B2A, 0x10B2B, 0x10B2C, 0x10B2D, 0x10B2E, 0x10B2F, 0x10B30,\r\n    0x10B31, 0x10B32, 0x10B33, 0x10B34, 0x10B35, 0x10B40, 0x10B41, 0x10B42,\r\n    0x10B43, 0x10B44, 0x10B45, 0x10B46, 0x10B47, 0x10B48, 0x10B49, 0x10B4A,\r\n    0x10B4B, 0x10B4C, 0x10B4D, 0x10B4E, 0x10B4F, 0x10B50, 0x10B51, 0x10B52,\r\n    0x10B53, 0x10B54, 0x10B55, 0x10B58, 0x10B59, 0x10B5A, 0x10B5B, 0x10B5C,\r\n    0x10B5D, 0x10B5E, 0x10B5F, 0x10B60, 0x10B61, 0x10B62, 0x10B63, 0x10B64,\r\n    0x10B65, 0x10B66, 0x10B67, 0x10B68, 0x10B69, 0x10B6A, 0x10B6B, 0x10B6C,\r\n    0x10B6D, 0x10B6E, 0x10B6F, 0x10B70, 0x10B71, 0x10B72, 0x10B78, 0x10B79,\r\n    0x10B7A, 0x10B7B, 0x10B7C, 0x10B7D, 0x10B7E, 0x10B7F, 0x10C00, 0x10C01,\r\n    0x10C02, 0x10C03, 0x10C04, 0x10C05, 0x10C06, 0x10C07, 0x10C08, 0x10C09,\r\n    0x10C0A, 0x10C0B, 0x10C0C, 0x10C0D, 0x10C0E, 0x10C0F, 0x10C10, 0x10C11,\r\n    0x10C12, 0x10C13, 0x10C14, 0x10C15, 0x10C16, 0x10C17, 0x10C18, 0x10C19,\r\n    0x10C1A, 0x10C1B, 0x10C1C, 0x10C1D, 0x10C1E, 0x10C1F, 0x10C20, 0x10C21,\r\n    0x10C22, 0x10C23, 0x10C24, 0x10C25, 0x10C26, 0x10C27, 0x10C28, 0x10C29,\r\n    0x10C2A, 0x10C2B, 0x10C2C, 0x10C2D, 0x10C2E, 0x10C2F, 0x10C30, 0x10C31,\r\n    0x10C32, 0x10C33, 0x10C34, 0x10C35, 0x10C36, 0x10C37, 0x10C38, 0x10C39,\r\n    0x10C3A, 0x10C3B, 0x10C3C, 0x10C3D, 0x10C3E, 0x10C3F, 0x10C40, 0x10C41,\r\n    0x10C42, 0x10C43, 0x10C44, 0x10C45, 0x10C46, 0x10C47, 0x10C48, 0x1EE00,\r\n    0x1EE01, 0x1EE02, 0x1EE03, 0x1EE05, 0x1EE06, 0x1EE07, 0x1EE08, 0x1EE09,\r\n    0x1EE0A, 0x1EE0B, 0x1EE0C, 0x1EE0D, 0x1EE0E, 0x1EE0F, 0x1EE10, 0x1EE11,\r\n    0x1EE12, 0x1EE13, 0x1EE14, 0x1EE15, 0x1EE16, 0x1EE17, 0x1EE18, 0x1EE19,\r\n    0x1EE1A, 0x1EE1B, 0x1EE1C, 0x1EE1D, 0x1EE1E, 0x1EE1F, 0x1EE21, 0x1EE22,\r\n    0x1EE24, 0x1EE27, 0x1EE29, 0x1EE2A, 0x1EE2B, 0x1EE2C, 0x1EE2D, 0x1EE2E,\r\n    0x1EE2F, 0x1EE30, 0x1EE31, 0x1EE32, 0x1EE34, 0x1EE35, 0x1EE36, 0x1EE37,\r\n    0x1EE39, 0x1EE3B, 0x1EE42, 0x1EE47, 0x1EE49, 0x1EE4B, 0x1EE4D, 0x1EE4E,\r\n    0x1EE4F, 0x1EE51, 0x1EE52, 0x1EE54, 0x1EE57, 0x1EE59, 0x1EE5B, 0x1EE5D,\r\n    0x1EE5F, 0x1EE61, 0x1EE62, 0x1EE64, 0x1EE67, 0x1EE68, 0x1EE69, 0x1EE6A,\r\n    0x1EE6C, 0x1EE6D, 0x1EE6E, 0x1EE6F, 0x1EE70, 0x1EE71, 0x1EE72, 0x1EE74,\r\n    0x1EE75, 0x1EE76, 0x1EE77, 0x1EE79, 0x1EE7A, 0x1EE7B, 0x1EE7C, 0x1EE7E,\r\n    0x1EE80, 0x1EE81, 0x1EE82, 0x1EE83, 0x1EE84, 0x1EE85, 0x1EE86, 0x1EE87,\r\n    0x1EE88, 0x1EE89, 0x1EE8B, 0x1EE8C, 0x1EE8D, 0x1EE8E, 0x1EE8F, 0x1EE90,\r\n    0x1EE91, 0x1EE92, 0x1EE93, 0x1EE94, 0x1EE95, 0x1EE96, 0x1EE97, 0x1EE98,\r\n    0x1EE99, 0x1EE9A, 0x1EE9B, 0x1EEA1, 0x1EEA2, 0x1EEA3, 0x1EEA5, 0x1EEA6,\r\n    0x1EEA7, 0x1EEA8, 0x1EEA9, 0x1EEAB, 0x1EEAC, 0x1EEAD, 0x1EEAE, 0x1EEAF,\r\n    0x1EEB0, 0x1EEB1, 0x1EEB2, 0x1EEB3, 0x1EEB4, 0x1EEB5, 0x1EEB6, 0x1EEB7,\r\n    0x1EEB8, 0x1EEB9, 0x1EEBA, 0x1EEBB, 0x10FFFD];\r\n\r\nfunction determineBidi(cueDiv) {\r\n    var nodeStack = [],\r\n        text = \"\",\r\n        charCode;\r\n\r\n    if (!cueDiv || !cueDiv.childNodes) {\r\n        return \"ltr\";\r\n    }\r\n\r\n    function pushNodes(nodeStack, node) {\r\n        for (var i = node.childNodes.length - 1; i >= 0; i--) {\r\n            nodeStack.push(node.childNodes[i]);\r\n        }\r\n    }\r\n\r\n    function nextTextNode(nodeStack) {\r\n        if (!nodeStack || !nodeStack.length) {\r\n            return null;\r\n        }\r\n\r\n        var node = nodeStack.pop(),\r\n            text = node.textContent || node.innerText;\r\n        if (text) {\r\n            // TODO: This should match all unicode type B characters (paragraph\r\n            // separator characters). See issue #115.\r\n            var m = text.match(/^.*(\\n|\\r)/);\r\n            if (m) {\r\n                nodeStack.length = 0;\r\n                return m[0];\r\n            }\r\n            return text;\r\n        }\r\n        if (node.tagName === \"ruby\") {\r\n            return nextTextNode(nodeStack);\r\n        }\r\n        if (node.childNodes) {\r\n            pushNodes(nodeStack, node);\r\n            return nextTextNode(nodeStack);\r\n        }\r\n    }\r\n\r\n    pushNodes(nodeStack, cueDiv);\r\n    while ((text = nextTextNode(nodeStack))) {\r\n        for (var i = 0; i < text.length; i++) {\r\n            charCode = text.charCodeAt(i);\r\n            for (var j = 0; j < strongRTLChars.length; j++) {\r\n                if (strongRTLChars[j] === charCode) {\r\n                    return \"rtl\";\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return \"ltr\";\r\n}\r\n\r\nfunction computeLinePos(cue) {\r\n    if (typeof cue.line === \"number\" &&\r\n        (cue.snapToLines || (cue.line >= 0 && cue.line <= 100))) {\r\n        return cue.line;\r\n    }\r\n    if (!cue.track || !cue.track.textTrackList ||\r\n        !cue.track.textTrackList.mediaElement) {\r\n        return -1;\r\n    }\r\n    var track = cue.track,\r\n        trackList = track.textTrackList,\r\n        count = 0;\r\n    for (var i = 0; i < trackList.length && trackList[i] !== track; i++) {\r\n        if (trackList[i].mode === \"showing\") {\r\n            count++;\r\n        }\r\n    }\r\n    return ++count * -1;\r\n}\r\n\r\nfunction StyleBox() {\r\n}\r\n\r\n// Apply styles to a div. If there is no div passed then it defaults to the\r\n// div on 'this'.\r\nStyleBox.prototype.applyStyles = function(styles, div) {\r\n    div = div || this.div;\r\n    for (var prop in styles) {\r\n        if (styles.hasOwnProperty(prop)) {\r\n            div.style[prop] = styles[prop];\r\n        }\r\n    }\r\n};\r\n\r\nStyleBox.prototype.formatStyle = function(val, unit) {\r\n    return val === 0 ? 0 : val + unit;\r\n};\r\n\r\n// Constructs the computed display state of the cue (a div). Places the div\r\n// into the overlay which should be a block level element (usually a div).\r\nfunction CueStyleBox(window, cue, styleOptions) {\r\n    var isIE8 = (typeof navigator !== \"undefined\") &&\r\n        (/MSIE\\s8\\.0/).test(navigator.userAgent);\r\n    var color = \"rgba(255, 255, 255, 1)\";\r\n    var backgroundColor = \"rgba(0, 0, 0, 0.8)\";\r\n    var textShadow = \"\";\r\n\r\n    if(typeof WebVTTSet !== \"undefined\") {\r\n        color = WebVTTSet.fontSet;\r\n        backgroundColor = WebVTTSet.backgroundSet;\r\n        textShadow = WebVTTSet.edgeSet;\r\n    }\r\n\r\n    if (isIE8) {\r\n        color = \"rgb(255, 255, 255)\";\r\n        backgroundColor = \"rgb(0, 0, 0)\";\r\n    }\r\n\r\n    StyleBox.call(this);\r\n    this.cue = cue;\r\n\r\n    // Parse our cue's text into a DOM tree rooted at 'cueDiv'. This div will\r\n    // have inline positioning and will function as the cue background box.\r\n    this.cueDiv = parseContent(window, cue.text);\r\n    var styles = {\r\n        color: color,\r\n        backgroundColor: backgroundColor,\r\n        textShadow: textShadow,\r\n        position: \"relative\",\r\n        left: 0,\r\n        right: 0,\r\n        top: 0,\r\n        bottom: 0,\r\n        display: \"inline\"\r\n    };\r\n\r\n    if (!isIE8) {\r\n        styles.writingMode = cue.vertical === \"\" ? \"horizontal-tb\"\r\n            : cue.vertical === \"lr\" ? \"vertical-lr\"\r\n            : \"vertical-rl\";\r\n        styles.unicodeBidi = \"plaintext\";\r\n    }\r\n    this.applyStyles(styles, this.cueDiv);\r\n\r\n    // Create an absolutely positioned div that will be used to position the cue\r\n    // div. Note, all WebVTT cue-setting alignments are equivalent to the CSS\r\n    // mirrors of them except \"middle\" which is \"center\" in CSS.\r\n    this.div = window.document.createElement(\"div\");\r\n    styles = {\r\n        textAlign: cue.align === \"middle\" ? \"center\" : cue.align,\r\n        font: styleOptions.font,\r\n        whiteSpace: \"pre-line\",\r\n        position: \"absolute\"\r\n    };\r\n\r\n    if (!isIE8) {\r\n        styles.direction = determineBidi(this.cueDiv);\r\n        styles.writingMode = cue.vertical === \"\" ? \"horizontal-tb\"\r\n            : cue.vertical === \"lr\" ? \"vertical-lr\"\r\n            : \"vertical-rl\".\r\n            stylesunicodeBidi =  \"plaintext\";\r\n    }\r\n\r\n    this.applyStyles(styles);\r\n\r\n    this.div.appendChild(this.cueDiv);\r\n\r\n    // Calculate the distance from the reference edge of the viewport to the text\r\n    // position of the cue box. The reference edge will be resolved later when\r\n    // the box orientation styles are applied.\r\n    var textPos = 0;\r\n    switch (cue.positionAlign) {\r\n        case \"start\":\r\n            textPos = cue.position;\r\n            break;\r\n        case \"middle\":\r\n            textPos = cue.position - (cue.size / 2);\r\n            break;\r\n        case \"end\":\r\n            textPos = cue.position - cue.size;\r\n            break;\r\n    }\r\n\r\n    // Horizontal box orientation; textPos is the distance from the left edge of the\r\n    // area to the left edge of the box and cue.size is the distance extending to\r\n    // the right from there.\r\n    if (cue.vertical === \"\") {\r\n        this.applyStyles({\r\n            left:  this.formatStyle(textPos, \"%\"),\r\n            width: this.formatStyle(cue.size, \"%\")\r\n        });\r\n        // Vertical box orientation; textPos is the distance from the top edge of the\r\n        // area to the top edge of the box and cue.size is the height extending\r\n        // downwards from there.\r\n    } else {\r\n        this.applyStyles({\r\n            top: this.formatStyle(textPos, \"%\"),\r\n            height: this.formatStyle(cue.size, \"%\")\r\n        });\r\n    }\r\n\r\n    this.move = function(box) {\r\n        this.applyStyles({\r\n            top: this.formatStyle(box.top, \"px\"),\r\n            bottom: this.formatStyle(box.bottom, \"px\"),\r\n            left: this.formatStyle(box.left, \"px\"),\r\n            right: this.formatStyle(box.right, \"px\"),\r\n            height: this.formatStyle(box.height, \"px\"),\r\n            width: this.formatStyle(box.width, \"px\")\r\n        });\r\n    };\r\n}\r\nCueStyleBox.prototype = _objCreate(StyleBox.prototype);\r\nCueStyleBox.prototype.constructor = CueStyleBox;\r\n\r\n// Represents the co-ordinates of an Element in a way that we can easily\r\n// compute things with such as if it overlaps or intersects with another Element.\r\n// Can initialize it with either a StyleBox or another BoxPosition.\r\nfunction BoxPosition(obj) {\r\n    var isIE8 = (typeof navigator !== \"undefined\") &&\r\n        (/MSIE\\s8\\.0/).test(navigator.userAgent);\r\n\r\n    // Either a BoxPosition was passed in and we need to copy it, or a StyleBox\r\n    // was passed in and we need to copy the results of 'getBoundingClientRect'\r\n    // as the object returned is readonly. All co-ordinate values are in reference\r\n    // to the viewport origin (top left).\r\n    var lh, height, width, top;\r\n    if (obj.div) {\r\n        height = obj.div.offsetHeight;\r\n        width = obj.div.offsetWidth;\r\n        top = obj.div.offsetTop;\r\n\r\n        var rects = (rects = obj.div.childNodes) && (rects = rects[0]) &&\r\n            rects.getClientRects && rects.getClientRects();\r\n        obj = obj.div.getBoundingClientRect();\r\n        // In certain cases the outter div will be slightly larger then the sum of\r\n        // the inner div's lines. This could be due to bold text, etc, on some platforms.\r\n        // In this case we should get the average line height and use that. This will\r\n        // result in the desired behaviour.\r\n        lh = rects ? Math.max((rects[0] && rects[0].height) || 0, obj.height / rects.length)\r\n            : 0;\r\n\r\n    }\r\n    this.left = obj.left;\r\n    this.right = obj.right;\r\n    this.top = obj.top || top;\r\n    this.height = obj.height || height;\r\n    this.bottom = obj.bottom || (top + (obj.height || height));\r\n    this.width = obj.width || width;\r\n    this.lineHeight = lh !== undefined ? lh : obj.lineHeight;\r\n\r\n    if (isIE8 && !this.lineHeight) {\r\n        this.lineHeight = 13;\r\n    }\r\n}\r\n\r\n// Move the box along a particular axis. Optionally pass in an amount to move\r\n// the box. If no amount is passed then the default is the line height of the\r\n// box.\r\nBoxPosition.prototype.move = function(axis, toMove) {\r\n    toMove = toMove !== undefined ? toMove : this.lineHeight;\r\n    switch (axis) {\r\n        case \"+x\":\r\n            this.left += toMove;\r\n            this.right += toMove;\r\n            break;\r\n        case \"-x\":\r\n            this.left -= toMove;\r\n            this.right -= toMove;\r\n            break;\r\n        case \"+y\":\r\n            this.top += toMove;\r\n            this.bottom += toMove;\r\n            break;\r\n        case \"-y\":\r\n            this.top -= toMove;\r\n            this.bottom -= toMove;\r\n            break;\r\n    }\r\n};\r\n\r\n// Check if this box overlaps another box, b2.\r\nBoxPosition.prototype.overlaps = function(b2) {\r\n    return this.left < b2.right &&\r\n        this.right > b2.left &&\r\n        this.top < b2.bottom &&\r\n        this.bottom > b2.top;\r\n};\r\n\r\n// Check if this box overlaps any other boxes in boxes.\r\nBoxPosition.prototype.overlapsAny = function(boxes) {\r\n    for (var i = 0; i < boxes.length; i++) {\r\n        if (this.overlaps(boxes[i])) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n};\r\n\r\n// Check if this box is within another box.\r\nBoxPosition.prototype.within = function(container) {\r\n    return this.top >= container.top &&\r\n        this.bottom <= container.bottom &&\r\n        this.left >= container.left &&\r\n        this.right <= container.right;\r\n};\r\n\r\n// Check if this box is entirely within the container or it is overlapping\r\n// on the edge opposite of the axis direction passed. For example, if \"+x\" is\r\n// passed and the box is overlapping on the left edge of the container, then\r\n// return true.\r\nBoxPosition.prototype.overlapsOppositeAxis = function(container, axis) {\r\n    switch (axis) {\r\n        case \"+x\":\r\n            return this.left < container.left;\r\n        case \"-x\":\r\n            return this.right > container.right;\r\n        case \"+y\":\r\n            return this.top < container.top;\r\n        case \"-y\":\r\n            return this.bottom > container.bottom;\r\n    }\r\n};\r\n\r\n// Find the percentage of the area that this box is overlapping with another\r\n// box.\r\nBoxPosition.prototype.intersectPercentage = function(b2) {\r\n    var x = Math.max(0, Math.min(this.right, b2.right) - Math.max(this.left, b2.left)),\r\n        y = Math.max(0, Math.min(this.bottom, b2.bottom) - Math.max(this.top, b2.top)),\r\n        intersectArea = x * y;\r\n    return intersectArea / (this.height * this.width);\r\n};\r\n\r\n// Convert the positions from this box to CSS compatible positions using\r\n// the reference container's positions. This has to be done because this\r\n// box's positions are in reference to the viewport origin, whereas, CSS\r\n// values are in referecne to their respective edges.\r\nBoxPosition.prototype.toCSSCompatValues = function(reference) {\r\n    return {\r\n        top: this.top - reference.top,\r\n        bottom: reference.bottom - this.bottom,\r\n        left: this.left - reference.left,\r\n        right: reference.right - this.right,\r\n        height: this.height,\r\n        width: this.width\r\n    };\r\n};\r\n\r\n// Get an object that represents the box's position without anything extra.\r\n// Can pass a StyleBox, HTMLElement, or another BoxPositon.\r\nBoxPosition.getSimpleBoxPosition = function(obj) {\r\n    var height = obj.div ? obj.div.offsetHeight : obj.tagName ? obj.offsetHeight : 0;\r\n    var width = obj.div ? obj.div.offsetWidth : obj.tagName ? obj.offsetWidth : 0;\r\n    var top = obj.div ? obj.div.offsetTop : obj.tagName ? obj.offsetTop : 0;\r\n\r\n    obj = obj.div ? obj.div.getBoundingClientRect() :\r\n        obj.tagName ? obj.getBoundingClientRect() : obj;\r\n    var ret = {\r\n        left: obj.left,\r\n        right: obj.right,\r\n        top: obj.top || top,\r\n        height: obj.height || height,\r\n        bottom: obj.bottom || (top + (obj.height || height)),\r\n        width: obj.width || width\r\n    };\r\n    return ret;\r\n};\r\n\r\n// Move a StyleBox to its specified, or next best, position. The containerBox\r\n// is the box that contains the StyleBox, such as a div. boxPositions are\r\n// a list of other boxes that the styleBox can't overlap with.\r\nfunction moveBoxToLinePosition(window, styleBox, containerBox, boxPositions) {\r\n\r\n    // Find the best position for a cue box, b, on the video. The axis parameter\r\n    // is a list of axis, the order of which, it will move the box along. For example:\r\n    // Passing [\"+x\", \"-x\"] will move the box first along the x axis in the positive\r\n    // direction. If it doesn't find a good position for it there it will then move\r\n    // it along the x axis in the negative direction.\r\n    function findBestPosition(b, axis) {\r\n        var bestPosition,\r\n            specifiedPosition = new BoxPosition(b),\r\n            percentage = 1; // Highest possible so the first thing we get is better.\r\n\r\n        for (var i = 0; i < axis.length; i++) {\r\n            while (b.overlapsOppositeAxis(containerBox, axis[i]) ||\r\n            (b.within(containerBox) && b.overlapsAny(boxPositions))) {\r\n                b.move(axis[i]);\r\n            }\r\n            // We found a spot where we aren't overlapping anything. This is our\r\n            // best position.\r\n            if (b.within(containerBox)) {\r\n                return b;\r\n            }\r\n            var p = b.intersectPercentage(containerBox);\r\n            // If we're outside the container box less then we were on our last try\r\n            // then remember this position as the best position.\r\n            if (percentage > p) {\r\n                bestPosition = new BoxPosition(b);\r\n                percentage = p;\r\n            }\r\n            // Reset the box position to the specified position.\r\n            b = new BoxPosition(specifiedPosition);\r\n        }\r\n        return bestPosition || specifiedPosition;\r\n    }\r\n\r\n    var boxPosition = new BoxPosition(styleBox),\r\n        cue = styleBox.cue,\r\n        linePos = computeLinePos(cue),\r\n        axis = [];\r\n\r\n    // If we have a line number to align the cue to.\r\n    if (cue.snapToLines) {\r\n        var size;\r\n        switch (cue.vertical) {\r\n            case \"\":\r\n                axis = [ \"+y\", \"-y\" ];\r\n                size = \"height\";\r\n                break;\r\n            case \"rl\":\r\n                axis = [ \"+x\", \"-x\" ];\r\n                size = \"width\";\r\n                break;\r\n            case \"lr\":\r\n                axis = [ \"-x\", \"+x\" ];\r\n                size = \"width\";\r\n                break;\r\n        }\r\n\r\n        var step = boxPosition.lineHeight,\r\n            position = step * Math.round(linePos),\r\n            maxPosition = containerBox[size] + step,\r\n            initialAxis = axis[0];\r\n\r\n        // If the specified intial position is greater then the max position then\r\n        // clamp the box to the amount of steps it would take for the box to\r\n        // reach the max position.\r\n        if (Math.abs(position) > maxPosition) {\r\n            position = position < 0 ? -1 : 1;\r\n            position *= Math.ceil(maxPosition / step) * step;\r\n        }\r\n\r\n        // If computed line position returns negative then line numbers are\r\n        // relative to the bottom of the video instead of the top. Therefore, we\r\n        // need to increase our initial position by the length or width of the\r\n        // video, depending on the writing direction, and reverse our axis directions.\r\n        if (linePos < 0) {\r\n            position += cue.vertical === \"\" ? containerBox.height : containerBox.width;\r\n            axis = axis.reverse();\r\n        }\r\n\r\n        // Move the box to the specified position. This may not be its best\r\n        // position.\r\n        boxPosition.move(initialAxis, position);\r\n\r\n    } else {\r\n        // If we have a percentage line value for the cue.\r\n        var calculatedPercentage = (boxPosition.lineHeight / containerBox.height) * 100;\r\n\r\n        switch (cue.lineAlign) {\r\n            case \"middle\":\r\n                linePos -= (calculatedPercentage / 2);\r\n                break;\r\n            case \"end\":\r\n                linePos -= calculatedPercentage;\r\n                break;\r\n        }\r\n\r\n        // Apply initial line position to the cue box.\r\n        switch (cue.vertical) {\r\n            case \"\":\r\n                styleBox.applyStyles({\r\n                    top: styleBox.formatStyle(linePos, \"%\")\r\n                });\r\n                break;\r\n            case \"rl\":\r\n                styleBox.applyStyles({\r\n                    left: styleBox.formatStyle(linePos, \"%\")\r\n                });\r\n                break;\r\n            case \"lr\":\r\n                styleBox.applyStyles({\r\n                    right: styleBox.formatStyle(linePos, \"%\")\r\n                });\r\n                break;\r\n        }\r\n\r\n        axis = [ \"+y\", \"-x\", \"+x\", \"-y\" ];\r\n\r\n        // Get the box position again after we've applied the specified positioning\r\n        // to it.\r\n        boxPosition = new BoxPosition(styleBox);\r\n    }\r\n\r\n    var bestPosition = findBestPosition(boxPosition, axis);\r\n    styleBox.move(bestPosition.toCSSCompatValues(containerBox));\r\n}\r\n\r\n/*function WebVTT() {\r\n // Nothing\r\n }*/\r\n\r\n// Helper to allow strings to be decoded instead of the default binary utf8 data.\r\nWebVTT.StringDecoder = function() {\r\n    return {\r\n        decode: function(data) {\r\n            if (!data) {\r\n                return \"\";\r\n            }\r\n            if (typeof data !== \"string\") {\r\n                throw new Error(\"Error - expected string data.\");\r\n            }\r\n            return decodeURIComponent(encodeURIComponent(data));\r\n        }\r\n    };\r\n};\r\n\r\nWebVTT.convertCueToDOMTree = function(window, cuetext) {\r\n    if (!window || !cuetext) {\r\n        return null;\r\n    }\r\n    return parseContent(window, cuetext);\r\n};\r\n\r\nvar FONT_SIZE_PERCENT = 0.05;\r\nvar FONT_STYLE = \"sans-serif\";\r\nvar CUE_BACKGROUND_PADDING = \"1.5%\";\r\n\r\n// Runs the processing model over the cues and regions passed to it.\r\n// @param overlay A block level element (usually a div) that the computed cues\r\n//                and regions will be placed into.\r\nWebVTT.processCues = function(window, cues, overlay) {\r\n    if (!window || !cues || !overlay) {\r\n        return null;\r\n    }\r\n\r\n    // Remove all previous children.\r\n    while (overlay.firstChild) {\r\n        overlay.removeChild(overlay.firstChild);\r\n    }\r\n\r\n    var paddedOverlay = window.document.createElement(\"div\");\r\n    paddedOverlay.style.position = \"absolute\";\r\n    paddedOverlay.style.left = \"0\";\r\n    paddedOverlay.style.right = \"0\";\r\n    paddedOverlay.style.top = \"0\";\r\n    paddedOverlay.style.bottom = \"0\";\r\n    paddedOverlay.style.margin = CUE_BACKGROUND_PADDING;\r\n    overlay.appendChild(paddedOverlay);\r\n\r\n    // Determine if we need to compute the display states of the cues. This could\r\n    // be the case if a cue's state has been changed since the last computation or\r\n    // if it has not been computed yet.\r\n    function shouldCompute(cues) {\r\n        for (var i = 0; i < cues.length; i++) {\r\n            if (cues[i].hasBeenReset || !cues[i].displayState) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    // We don't need to recompute the cues' display states. Just reuse them.\r\n    if (!shouldCompute(cues)) {\r\n        for (var i = 0; i < cues.length; i++) {\r\n            paddedOverlay.appendChild(cues[i].displayState);\r\n        }\r\n        return;\r\n    }\r\n\r\n    var boxPositions = [],\r\n        containerBox = BoxPosition.getSimpleBoxPosition(paddedOverlay),\r\n        fontSize = Math.round(containerBox.height * FONT_SIZE_PERCENT * 100) / 100;\r\n    var styleOptions = {\r\n        font: (fontSize * fontScale) + \"px \" + FONT_STYLE\r\n    };\r\n\r\n    (function() {\r\n        var styleBox, cue;\r\n\r\n        for (var i = 0; i < cues.length; i++) {\r\n            cue = cues[i];\r\n\r\n            // Compute the intial position and styles of the cue div.\r\n            styleBox = new CueStyleBox(window, cue, styleOptions);\r\n            paddedOverlay.appendChild(styleBox.div);\r\n\r\n            // Move the cue div to it's correct line position.\r\n            moveBoxToLinePosition(window, styleBox, containerBox, boxPositions);\r\n\r\n            // Remember the computed div so that we don't have to recompute it later\r\n            // if we don't have too.\r\n            cue.displayState = styleBox.div;\r\n\r\n            boxPositions.push(BoxPosition.getSimpleBoxPosition(styleBox));\r\n        }\r\n    })();\r\n};\r\n\r\nWebVTT.Parser = function(window, decoder) {\r\n    this.window = window;\r\n    this.state = \"INITIAL\";\r\n    this.buffer = \"\";\r\n    this.decoder = decoder || new TextDecoder(\"utf8\");\r\n    this.regionList = [];\r\n};\r\n\r\nWebVTT.Parser.prototype = {\r\n    // If the error is a ParsingError then report it to the consumer if\r\n    // possible. If it's not a ParsingError then throw it like normal.\r\n    reportOrThrowError: function(e) {\r\n        if (e instanceof ParsingError) {\r\n            this.onparsingerror && this.onparsingerror(e);\r\n        } else {\r\n            throw e;\r\n        }\r\n    },\r\n    parse: function (data, flushing) {\r\n        var self = this;\r\n        // If there is no data then we won't decode it, but will just try to parse\r\n        // whatever is in buffer already. This may occur in circumstances, for\r\n        // example when flush() is called.\r\n        if (data) {\r\n            // Try to decode the data that we received.\r\n            self.buffer += self.decoder.decode(data, {stream: true});\r\n        }\r\n        function collectNextLine() {\r\n            var buffer = self.buffer;\r\n            var pos = 0;\r\n            while (pos < buffer.length && buffer[pos] !== '\\r' && buffer[pos] !== '\\n') {\r\n                ++pos;\r\n            }\r\n            var line = buffer.substr(0, pos);\r\n            // Advance the buffer early in case we fail below.\r\n            if (buffer[pos] === '\\r') {\r\n                ++pos;\r\n            }\r\n            if (buffer[pos] === '\\n') {\r\n                ++pos;\r\n            }\r\n            self.buffer = buffer.substr(pos);\r\n            return line;\r\n        }\r\n\r\n        // 3.4 WebVTT region and WebVTT region settings syntax\r\n        function parseRegion(input) {\r\n            var settings = new Settings();\r\n\r\n            parseOptions(input, function (k, v) {\r\n                switch (k) {\r\n                    case \"id\":\r\n                        settings.set(k, v);\r\n                        break;\r\n                    case \"width\":\r\n                        settings.percent(k, v);\r\n                        break;\r\n                    case \"lines\":\r\n                        settings.integer(k, v);\r\n                        break;\r\n                    case \"regionanchor\":\r\n                    case \"viewportanchor\":\r\n                        var xy = v.split(',');\r\n                        if (xy.length !== 2) {\r\n                            break;\r\n                        }\r\n                        // We have to make sure both x and y parse, so use a temporary\r\n                        // settings object here.\r\n                        var anchor = new Settings();\r\n                        anchor.percent(\"x\", xy[0]);\r\n                        anchor.percent(\"y\", xy[1]);\r\n                        if (!anchor.has(\"x\") || !anchor.has(\"y\")) {\r\n                            break;\r\n                        }\r\n                        settings.set(k + \"X\", anchor.get(\"x\"));\r\n                        settings.set(k + \"Y\", anchor.get(\"y\"));\r\n                        break;\r\n                    case \"scroll\":\r\n                        settings.alt(k, v, [\"up\"]);\r\n                        break;\r\n                }\r\n            }, /=/, /\\s/);\r\n\r\n            // Create the region, using default values for any values that were not\r\n            // specified.\r\n            if (settings.has(\"id\")) {\r\n                var region = new VTTRegion();\r\n                region.width = settings.get(\"width\", 100);\r\n                region.lines = settings.get(\"lines\", 3);\r\n                region.regionAnchorX = settings.get(\"regionanchorX\", 0);\r\n                region.regionAnchorY = settings.get(\"regionanchorY\", 100);\r\n                region.viewportAnchorX = settings.get(\"viewportanchorX\", 0);\r\n                region.viewportAnchorY = settings.get(\"viewportanchorY\", 100);\r\n                region.scroll = settings.get(\"scroll\", \"\");\r\n                // Register the region.\r\n                self.onregion && self.onregion(region);\r\n                // Remember the VTTRegion for later in case we parse any VTTCues that\r\n                // reference it.\r\n                self.regionList.push({\r\n                    id: settings.get(\"id\"),\r\n                    region: region\r\n                });\r\n            }\r\n        }\r\n\r\n        // 3.2 WebVTT metadata header syntax\r\n        function parseHeader(input) {\r\n            parseOptions(input, function (k, v) {\r\n                switch (k) {\r\n                    case \"Region\":\r\n                        // 3.3 WebVTT region metadata header syntax\r\n                        parseRegion(v);\r\n                        break;\r\n                }\r\n            }, /:/);\r\n        }\r\n\r\n        // 5.1 WebVTT file parsing.\r\n        try {\r\n            var line;\r\n            if (self.state === \"INITIAL\") {\r\n                // We can't start parsing until we have the first line.\r\n                if (!/\\r\\n|\\n/.test(self.buffer)) {\r\n                    return this;\r\n                }\r\n\r\n                line = collectNextLine();\r\n\r\n                var m = line.match(/^WEBVTT([ \\t].*)?$/);\r\n                if (!m || !m[0]) {\r\n                    throw new ParsingError(ParsingError.Errors.BadSignature);\r\n                }\r\n\r\n                self.state = \"HEADER\";\r\n            }\r\n\r\n            var alreadyCollectedLine = false;\r\n            while (self.buffer) {\r\n                // We can't parse a line until we have the full line.\r\n                if (!/\\r\\n|\\n/.test(self.buffer)) {\r\n                    return this;\r\n                }\r\n\r\n                if (!alreadyCollectedLine) {\r\n                    line = collectNextLine();\r\n                } else {\r\n                    alreadyCollectedLine = false;\r\n                }\r\n                switch (self.state) {\r\n                    case \"HEADER\":\r\n                        // 13-18 - Allow a header (metadata) under the WEBVTT line.\r\n                        if (/:/.test(line)) {\r\n                            parseHeader(line);\r\n                        } else if (!line) {\r\n                            // An empty line terminates the header and starts the body (cues).\r\n                            self.state = \"ID\";\r\n                        }\r\n                        continue;\r\n                    case \"NOTE\":\r\n                        // Ignore NOTE blocks.\r\n                        if (!line) {\r\n                            self.state = \"ID\";\r\n                        }\r\n                        continue;\r\n                    case \"ID\":\r\n                        // Check for the start of NOTE blocks.\r\n                        if (/^NOTE($|[ \\t])/.test(line)) {\r\n                            self.state = \"NOTE\";\r\n                            break;\r\n                        }\r\n                        // 19-29 - Allow any number of line terminators, then initialize new cue values.\r\n                        if (!line) {\r\n                            continue;\r\n                        }\r\n                        self.cue = new VTTCue(0, 0, \"\");\r\n                        self.state = \"CUE\";\r\n                        // 30-39 - Check if self line contains an optional identifier or timing data.\r\n                        if (line.indexOf(\"-->\") === -1) {\r\n                            self.cue.id = line;\r\n                            continue;\r\n                        }\r\n                    // Process line as start of a cue.\r\n                    /*falls through*/\r\n                    case \"CUE\":\r\n                        // 40 - Collect cue timings and settings.\r\n                        try {\r\n                            parseCue(line, self.cue, self.regionList);\r\n                        } catch (e) {\r\n                            self.reportOrThrowError(e);\r\n                            // In case of an error ignore rest of the cue.\r\n                            self.cue = null;\r\n                            self.state = \"BADCUE\";\r\n                            continue;\r\n                        }\r\n                        self.state = \"CUETEXT\";\r\n                        continue;\r\n                    case \"CUETEXT\":\r\n                        var hasSubstring = line.indexOf(\"-->\") !== -1;\r\n                        // 34 - If we have an empty line then report the cue.\r\n                        // 35 - If we have the special substring '-->' then report the cue,\r\n                        // but do not collect the line as we need to process the current\r\n                        // one as a new cue.\r\n                        if (!line || hasSubstring && (alreadyCollectedLine = true)) {\r\n                            // We are done parsing self cue.\r\n                            self.oncue && self.oncue(self.cue);\r\n                            self.cue = null;\r\n                            self.state = \"ID\";\r\n                            continue;\r\n                        }\r\n                        if (self.cue.text) {\r\n                            self.cue.text += \"\\n\";\r\n                        }\r\n                        self.cue.text += line;\r\n                        continue;\r\n                    case \"BADCUE\": // BADCUE\r\n                        // 54-62 - Collect and discard the remaining cue.\r\n                        if (!line) {\r\n                            self.state = \"ID\";\r\n                        }\r\n                        continue;\r\n                }\r\n            }\r\n\r\n\r\n            if (!flushing) {\r\n                //때때로 (한긇 vtt로 추정) cue가 남아 있는채로 self.flush()를 호출해서 cue가 있기 때문에 다시 self.parse()를 타는 경우가 생김.\r\n                //왜 이렇게 짜여 있는지 모르겠고 일단 아래와 같은 코드로 위기를 극복한다.\r\n                if (self.state === \"CUETEXT\" && self.cue && self.oncue) {\r\n                    self.oncue(self.cue);\r\n                }\r\n                self.flush();\r\n                return this;\r\n            }\r\n        } catch (e) {\r\n            self.reportOrThrowError(e);\r\n            // If we are currently parsing a cue, report what we have.\r\n            if (self.state === \"CUETEXT\" && self.cue && self.oncue) {\r\n                self.oncue(self.cue);\r\n            }\r\n            self.cue = null;\r\n            // Enter BADWEBVTT state if header was not parsed correctly otherwise\r\n            // another exception occurred so enter BADCUE state.\r\n            self.state = self.state === \"INITIAL\" ? \"BADWEBVTT\" : \"BADCUE\";\r\n        }\r\n        return this;\r\n    },\r\n    flush: function () {\r\n        var self = this;\r\n\r\n        try {\r\n            // Finish decoding the stream.\r\n            self.buffer += self.decoder.decode();\r\n            // Synthesize the end of the current cue or region.\r\n            if (self.cue || self.state === \"HEADER\") {\r\n                self.buffer += \"\\n\\n\";\r\n                self.parse(null, true);\r\n            }\r\n            // If we've flushed, parsed, and we're still on the INITIAL state then\r\n            // that means we don't have enough of the stream to parse the first\r\n            // line.\r\n            if (self.state === \"INITIAL\") {\r\n                throw new ParsingError(ParsingError.Errors.BadSignature);\r\n            }\r\n        } catch(e) {\r\n            self.reportOrThrowError(e);\r\n        }\r\n        self.onflush && self.onflush();\r\n        return this;\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\nexport default WebVTT;","/**\r\n * Created by hoho on 2018. 8. 24..\r\n */\r\n\r\nexport const getBrowserLanguage = function(){\r\n    let nav = window.navigator,\r\n        browserLanguagePropertyKeys = ['language', 'browserLanguage', 'systemLanguage', 'userLanguage'],\r\n        i,\r\n        language;\r\n\r\n    // support for HTML 5.1 \"navigator.languages\"\r\n    if (Array.isArray(nav.languages)) {\r\n        for (i = 0; i < nav.languages.length; i++) {\r\n            language = nav.languages[i];\r\n            if (language && language.length) {\r\n                return language;\r\n            }\r\n        }\r\n    }\r\n\r\n    // support for other well known properties in browsers\r\n    for (i = 0; i < browserLanguagePropertyKeys.length; i++) {\r\n        language = nav[browserLanguagePropertyKeys[i]];\r\n        if (language && language.length) {\r\n            return language;\r\n        }\r\n    }\r\n\r\n    return null;\r\n};\r\nexport const analUserAgent = function(){\r\n    let unknown = '-';\r\n\r\n    // screen\r\n    let screenSize = '';\r\n    if (screen.width) {\r\n        let width = (screen.width) ? screen.width : '';\r\n        let height = (screen.height) ? screen.height : '';\r\n        screenSize += '' + width + \" x \" + height;\r\n    }\r\n\r\n    // browser\r\n    let nVer = navigator.appVersion;\r\n    let nAgt = navigator.userAgent;\r\n    let browser = navigator.appName;\r\n    let version = '' + parseFloat(navigator.appVersion);\r\n    let majorVersion = parseInt(navigator.appVersion, 10);\r\n    let isWebview = false;\r\n    let nameOffset, verOffset, ix;\r\n\r\n    // Opera\r\n    if ((verOffset = nAgt.indexOf('Opera')) != -1) {\r\n        browser = 'Opera';\r\n        version = nAgt.substring(verOffset + 6);\r\n        if ((verOffset = nAgt.indexOf('Version')) != -1) {\r\n            version = nAgt.substring(verOffset + 8);\r\n        }\r\n    }\r\n    // Opera Next\r\n    if ((verOffset = nAgt.indexOf('OPR')) != -1) {\r\n        browser = 'Opera';\r\n        version = nAgt.substring(verOffset + 4);\r\n    }\r\n    //삼성 브라우저\r\n    else if ((verOffset = nAgt.indexOf('SamsungBrowser')) != -1) {\r\n        browser = 'SamsungBrowser';\r\n        version = nAgt.substring(verOffset + 15);\r\n    }\r\n    // Edge\r\n    else if ((verOffset = nAgt.indexOf('Edge')) != -1) {\r\n        browser = 'Microsoft Edge';\r\n        version = nAgt.substring(verOffset + 5);\r\n    }\r\n    // MSIE\r\n    else if ((verOffset = nAgt.indexOf('MSIE')) != -1) {\r\n        browser = 'Microsoft Internet Explorer';\r\n        version = nAgt.substring(verOffset + 5);\r\n\r\n\r\n        //win7 IE11 userAgent is ugly....\r\n        if( (nAgt.indexOf('Trident/') !== -1) && (nAgt.indexOf('rv:') !== -1)  ){\r\n            version = nAgt.substring(nAgt.indexOf('rv:') + 3);\r\n        }\r\n    }\r\n    // Chrome\r\n    else if ((verOffset = nAgt.indexOf('Chrome')) != -1) {\r\n        browser = 'Chrome';\r\n        version = nAgt.substring(verOffset + 7);\r\n    }\r\n    else if ((verOffset = nAgt.indexOf('CriOS')) != -1) {   //iphone - chrome\r\n        browser = 'Chrome';\r\n        version = nAgt.substring(verOffset + 6);\r\n    }\r\n    // Firefox\r\n    else if ((verOffset = nAgt.indexOf('Firefox')) != -1) {\r\n        browser = 'Firefox';\r\n        version = nAgt.substring(verOffset + 8);\r\n    }\r\n    else if ((verOffset = nAgt.indexOf('FxiOS')) != -1) {\r\n        browser = 'Firefox';\r\n        version = nAgt.substring(verOffset + 6);\r\n    }\r\n    // Safari\r\n    else if ((verOffset = nAgt.indexOf('Safari')) != -1) {\r\n        browser = 'Safari';\r\n        version = nAgt.substring(verOffset + 7);\r\n        if ((verOffset = nAgt.indexOf('Version')) != -1) {\r\n            version = nAgt.substring(verOffset + 8);\r\n        }\r\n    }\r\n\r\n\r\n    // MSIE 11+\r\n    else if (nAgt.indexOf('Trident/') !== -1) {\r\n        browser = 'Microsoft Internet Explorer';\r\n        version = nAgt.substring(nAgt.indexOf('rv:') + 3);\r\n    }\r\n    // Other browsers\r\n    else if ((nameOffset = nAgt.lastIndexOf(' ') + 1) < (verOffset = nAgt.lastIndexOf('/'))) {\r\n        browser = nAgt.substring(nameOffset, verOffset);\r\n        version = nAgt.substring(verOffset + 1);\r\n        if (browser.toLowerCase() == browser.toUpperCase()) {\r\n            browser = navigator.appName;\r\n        }\r\n    }\r\n    if(nAgt.indexOf(' wv') > 0){\r\n        isWebview = true;\r\n    }\r\n    // trim the version string\r\n    if ((ix = version.indexOf(';')) != -1) version = version.substring(0, ix);\r\n    if ((ix = version.indexOf(' ')) != -1) version = version.substring(0, ix);\r\n    if ((ix = version.indexOf(')')) != -1) version = version.substring(0, ix);\r\n\r\n    majorVersion = parseInt('' + version, 10);\r\n    if (isNaN(majorVersion)) {\r\n        version = '' + parseFloat(navigator.appVersion);\r\n        majorVersion = parseInt(navigator.appVersion, 10);\r\n    }\r\n\r\n    // mobile version\r\n    var mobile = /Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(nVer);\r\n\r\n    // cookie\r\n    var cookieEnabled = (navigator.cookieEnabled) ? true : false;\r\n\r\n    if (typeof navigator.cookieEnabled == 'undefined' && !cookieEnabled) {\r\n        document.cookie = 'testcookie';\r\n        cookieEnabled = (document.cookie.indexOf('testcookie') != -1) ? true : false;\r\n    }\r\n\r\n    // system\r\n    var os = unknown;\r\n    var clientStrings = [\r\n        {s:'Windows 10', r:/(Windows 10.0|Windows NT 10.0)/},\r\n        {s:'Windows 8.1', r:/(Windows 8.1|Windows NT 6.3)/},\r\n        {s:'Windows 8', r:/(Windows 8|Windows NT 6.2)/},\r\n        {s:'Windows 7', r:/(Windows 7|Windows NT 6.1)/},\r\n        {s:'Windows Vista', r:/Windows NT 6.0/},\r\n        {s:'Windows Server 2003', r:/Windows NT 5.2/},\r\n        {s:'Windows XP', r:/(Windows NT 5.1|Windows XP)/},\r\n        {s:'Windows 2000', r:/(Windows NT 5.0|Windows 2000)/},\r\n        {s:'Windows ME', r:/(Win 9x 4.90|Windows ME)/},\r\n        {s:'Windows 98', r:/(Windows 98|Win98)/},\r\n        {s:'Windows 95', r:/(Windows 95|Win95|Windows_95)/},\r\n        {s:'Windows NT 4.0', r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},\r\n        {s:'Windows CE', r:/Windows CE/},\r\n        {s:'Windows 3.11', r:/Win16/},\r\n        {s:'Android', r:/Android/},\r\n        {s:'Open BSD', r:/OpenBSD/},\r\n        {s:'Sun OS', r:/SunOS/},\r\n        {s:'Linux', r:/(Linux|X11)/},\r\n        {s:'iOS', r:/(iPhone|iPad|iPod)/},\r\n        {s:'Mac OS XI', r:/Mac OS X 11/},\r\n        {s:'Mac OS X', r:/Mac OS X 10/},\r\n        {s:'Mac OS', r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},\r\n        {s:'QNX', r:/QNX/},\r\n        {s:'UNIX', r:/UNIX/},\r\n        {s:'BeOS', r:/BeOS/},\r\n        {s:'OS/2', r:/OS\\/2/},\r\n        {s:'Search Bot', r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\\/Teoma|ia_archiver)/}\r\n    ];\r\n    for (var id in clientStrings) {\r\n        var cs = clientStrings[id];\r\n        if (cs.r.test(nAgt)) {\r\n            os = cs.s;\r\n            break;\r\n        }\r\n    }\r\n\r\n    var osVersion = unknown;\r\n\r\n    if (/Windows/.test(os)) {\r\n        osVersion = /Windows (.*)/.exec(os)[1];\r\n        os = 'Windows';\r\n    }\r\n\r\n    switch (os) {\r\n        case 'Mac OS XI':\r\n            osVersion = /Mac OS X (11[\\.\\_\\d]+)/.exec(nAgt)[1];\r\n            break;\r\n\r\n        case 'Mac OS X':\r\n            osVersion = /Mac OS X (10[\\.\\_\\d]+)/.exec(nAgt)[1];\r\n            break;\r\n\r\n        case 'Android':\r\n            osVersion = /Android ([\\.\\_\\d]+)/.exec(nAgt)[1];\r\n            break;\r\n\r\n        case 'iOS':\r\n            osVersion = /OS (\\d+)_(\\d+)_?(\\d+)?/.exec(nVer);\r\n            if (osVersion) {\r\n                osVersion = osVersion[1] + '.' + osVersion[2] + '.' + (osVersion[3] | 0);\r\n            } else {\r\n                osVersion = '';\r\n            }\r\n\r\n            break;\r\n    }\r\n\r\n    return {\r\n        screen: screenSize,\r\n        browser: browser,\r\n        browserVersion: version,\r\n        browserMajorVersion: majorVersion,\r\n        mobile: mobile,\r\n        ua : nAgt,\r\n        os: os,\r\n        osVersion: osVersion,\r\n        cookies: cookieEnabled\r\n    };\r\n};\r\n","import {getBrowserLanguage} from \"utils/browser\";\r\n/*\r\n *  sami-parser\r\n *  The MIT License (MIT)\r\n *\r\n *  Copyright (c) 2013 Constantine Kim <elegantcoder@gmail.com>\r\n *  https://github.com/elegantcoder/sami-parser\r\n *\r\n */\r\n\r\nconst langCodes = [\"ab\",\"aa\",\"af\", \"ak\", \"sq\", \"am\", \"ar\", \"an\", \"hy\", \"as\", \"av\", \"ae\", \"ay\", \"az\", \"bm\", \"ba\", \"eu\", \"be\", \"bn\", \"bh\", \"bi\", \"nb\",\"bs\",\"br\",\"bg\",\"my\",\"es\",\"ca\",\"km\",\"ch\",\"ce\",\"ny\",\"ny\",\"zh\",\"za\",\"cu\",\"cu\",\"cv\",\"kw\",\r\n    \"co\",\"cr\",\"hr\",\"cs\",\"da\",\"dv\",\"dv\",\"nl\",\"dz\",\"en\",\"eo\",\"et\",\"ee\",\"fo\",\"fj\",\"fi\",\"nl\",\"fr\",\"ff\",\"gd\",\"gl\",\"lg\",\"ka\",\"de\",\"ki\",\"el\",\"kl\",\"gn\",\"gu\",\"ht\",\"ht\",\"ha\",\"he\",\"hz\",\"hi\",\"ho\",\"hu\",\"is\",\"io\",\"ig\",\"id\",\"ia\",\"ie\",\"iu\",\"ik\",\"ga\",\r\n    \"it\",\"ja\",\"jv\",\"kl\",\"kn\",\"kr\",\"ks\",\"kk\",\"ki\",\"rw\",\"ky\",\"kv\",\"kg\",\"ko\",\"kj\",\"ku\",\"kj\",\"ky\",\"lo\",\"la\",\"lv\",\"lb\",\"li\",\"li\",\"li\",\"ln\",\"lt\",\"lu\",\"lb\",\"mk\",\"mg\",\"ms\",\"ml\",\"dv\",\"mt\",\"gv\",\"mi\",\"mr\",\"mh\",\"ro\",\"ro\",\"mn\",\"na\",\"nv\",\"nv\",\"nd\",\r\n    \"nr\",\"ng\",\"ne\",\"nd\",\"se\",\"no\",\"nb\",\"nn\",\"ii\",\"ny\",\"nn\",\"ie\",\"oc\",\"oj\",\"cu\",\"cu\",\"cu\",\"or\",\"om\",\"os\",\"os\",\"pi\",\"pa\",\"ps\",\"fa\",\"pl\",\"pt\",\"pa\",\"ps\",\"qu\",\"ro\",\"rm\",\"rn\",\"ru\",\"sm\",\"sg\",\"sa\",\"sc\",\"gd\",\"sr\",\"sn\",\"ii\",\"sd\",\"si\",\"si\",\"sk\",\r\n    \"sl\",\"so\",\"st\",\"nr\",\"es\",\"su\",\"sw\",\"ss\",\"sv\",\"tl\",\"ty\",\"tg\",\"ta\",\"tt\",\"te\",\"th\",\"bo\",\"ti\",\"to\",\"ts\",\"tn\",\"tr\",\"tk\",\"tw\",\"ug\",\"uk\",\"ur\",\"ug\",\"uz\",\"ca\",\"ve\",\"vi\",\"vo\",\"wa\",\"cy\",\"fy\",\"wo\",\"xh\",\"yi\",\"yo\",\"za\",\"zu\"];\r\n\r\nconst reOpenSync = /<sync/i;\r\n\r\nconst reCloseSync = /<sync|<\\/body|<\\/sami/i;\r\n\r\nconst reLineEnding = /\\r\\n?|\\n/g;\r\n\r\nconst reBrokenTag = /<[a-z]*[^>]*<[a-z]*/g;\r\n\r\nconst reStartTime = /<sync[^>]+?start[^=]*=[^0-9]*([0-9]*)[\"^0-9\"]*/i;\r\n\r\nconst reBr = /<br[^>]*>/ig;\r\n\r\nconst reStyle = /<style[^>]*>([\\s\\S]*?)<\\/style[^>]*>/i;\r\n\r\nconst reComment = /(<!--|-->)/g;\r\n\r\nconst clone = function(obj) {\r\n    var flags, key, newInstance;\r\n    if ((obj == null) || typeof obj !== 'object') {\r\n        return obj;\r\n    }\r\n    if (obj instanceof Date) {\r\n        return new Date(obj.getTime());\r\n    }\r\n    if (obj instanceof RegExp) {\r\n        flags = '';\r\n        if (obj.global != null) {\r\n            flags += 'g';\r\n        }\r\n        if (obj.ignoreCase != null) {\r\n            flags += 'i';\r\n        }\r\n        if (obj.multiline != null) {\r\n            flags += 'm';\r\n        }\r\n        if (obj.sticky != null) {\r\n            flags += 'y';\r\n        }\r\n        return new RegExp(obj.source, flags);\r\n    }\r\n    newInstance = new obj.constructor();\r\n    for (key in obj) {\r\n        newInstance[key] = clone(obj[key]);\r\n    }\r\n    return newInstance;\r\n};\r\n\r\nconst strip_tags = function (input, allowed) {\r\n    // http://kevin.vanzonneveld.net\r\n    // +   original by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\r\n    // +   improved by: Luke Godfrey\r\n    // +      input by: Pul\r\n    // +   bugfixed by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\r\n    // +   bugfixed by: Onno Marsman\r\n    // +      input by: Alex\r\n    // +   bugfixed by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\r\n    // +      input by: Marc Palau\r\n    // +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\r\n    // +      input by: Brett Zamir (http://brett-zamir.me)\r\n    // +   bugfixed by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\r\n    // +   bugfixed by: Eric Nagel\r\n    // +      input by: Bobby Drake\r\n    // +   bugfixed by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\r\n    // +   bugfixed by: Tomasz Wesolowski\r\n    // +      input by: Evertjan Garretsen\r\n    // +    revised by: Rafał Kukawski (http://blog.kukawski.pl/)\r\n    // *     example 1: strip_tags('<p>Kevin</p> <br /><b>van</b> <i>Zonneveld</i>', '<i><b>');\r\n    // *     returns 1: 'Kevin <b>van</b> <i>Zonneveld</i>'\r\n    // *     example 2: strip_tags('<p>Kevin <img src=\"someimage.png\" onmouseover=\"someFunction()\">van <i>Zonneveld</i></p>', '<p>');\r\n    // *     returns 2: '<p>Kevin van Zonneveld</p>'\r\n    // *     example 3: strip_tags(\"<a href='http://kevin.vanzonneveld.net'>Kevin van Zonneveld</a>\", \"<a>\");\r\n    // *     returns 3: '<a href='http://kevin.vanzonneveld.net'>Kevin van Zonneveld</a>'\r\n    // *     example 4: strip_tags('1 < 5 5 > 1');\r\n    // *     returns 4: '1 < 5 5 > 1'\r\n    // *     example 5: strip_tags('1 <br/> 1');\r\n    // *     returns 5: '1  1'\r\n    // *     example 6: strip_tags('1 <br/> 1', '<br>');\r\n    // *     returns 6: '1  1'\r\n    // *     example 7: strip_tags('1 <br/> 1', '<br><br/>');\r\n    // *     returns 7: '1 <br/> 1'\r\n    allowed = (((allowed || \"\") + \"\").toLowerCase().match(/<[a-z][a-z0-9]*>/g) || []).join(''); // making sure the allowed arg is a string containing only tags in lowercase (<a><b><c>)\r\n    var tags = /<\\/?([a-z][a-z0-9]*)\\b[^>]*>/gi,\r\n        commentsAndPhpTags = /<!--[\\s\\S]*?-->|<\\?(?:php)?[\\s\\S]*?\\?>/gi;\r\n    return input.replace(commentsAndPhpTags, '').replace(tags, function($0, $1) {\r\n        return allowed.indexOf('<' + $1.toLowerCase() + '>') > -1 ? $0 : '';\r\n    });\r\n};\r\n\r\nconst _sort = function(langItem) {\r\n    return langItem.sort(function(a, b) {\r\n        var res;\r\n        if ((res = a.start - b.start) === 0) {\r\n            return a.end - b.end;\r\n        } else {\r\n            return res;\r\n        }\r\n    });\r\n};\r\n\r\nconst _mergeMultiLanguages = function(arr) {\r\n    var content, dict, i, idx, key, lang, ret, val, _i, _len, _ref;\r\n    dict = {};\r\n    i = arr.length;\r\n    ret = [];\r\n    for (i = _i = 0, _len = arr.length; _i < _len; i = ++_i) {\r\n        val = arr[i];\r\n        key = val.startTime + ',' + val.endTime;\r\n        if ((idx = dict[key]) !== void 0) {\r\n            _ref = val.languages;\r\n            for (lang in _ref) {\r\n                content = _ref[lang];\r\n                ret[idx].languages[lang] = content;\r\n            }\r\n        } else {\r\n            ret.push(val);\r\n            dict[key] = ret.length - 1;\r\n        }\r\n    }\r\n    return ret;\r\n};\r\n\r\nconst SmiParser = function(sami, options) {\r\n    var definedLangs, duration, errors, getDefinedLangs, getLanguage, key, makeEndTime, parse, result, value, _ref, fixedLang;\r\n    parse = function() {\r\n        var element, error, innerText, isBroken, item, lang, langItem, lineNum, nextStartTagIdx, ret, startTagIdx, startTime, str, tempRet, _ref, _ref1, _ref2;\r\n        error = function(error) {\r\n            var e;\r\n            e = new Error(error);\r\n            e.line = lineNum;\r\n            e.context = element;\r\n            return errors.push(e);\r\n        };\r\n        lineNum = 1;\r\n        ret = [];\r\n        tempRet = {};\r\n        str = sami;\r\n        while (true) {\r\n            startTagIdx = str.search();\r\n            if (nextStartTagIdx <= 0 || startTagIdx < 0) {\r\n                break;\r\n            }\r\n            nextStartTagIdx = str.slice(startTagIdx + 1).search(reCloseSync) + 1;\r\n            if (nextStartTagIdx > 0) {\r\n                element = str.slice(startTagIdx, startTagIdx + nextStartTagIdx);\r\n            } else {\r\n                element = str.slice(startTagIdx);\r\n            }\r\n            lineNum += ((_ref = str.slice(0, startTagIdx).match(reLineEnding)) != null ? _ref.length : void 0) || 0;\r\n            if (isBroken = reBrokenTag.test(element)) {\r\n                error('ERROR_BROKEN_TAGS');\r\n            }\r\n            str = str.slice(startTagIdx + nextStartTagIdx);\r\n            startTime = +((_ref1 = element.match(reStartTime)) != null ? parseFloat(_ref1[1]/1000) : void 0);  //HSLEE ms -> s 로 변경\r\n            if (startTime === null || startTime < 0) {\r\n                error('ERROR_INVALID_TIME');\r\n            }\r\n\r\n            // We don't need complex language. cus SMI doens't obey the rules...\r\n            lang = getLanguage(element);\r\n            //lang = \"ko\";\r\n            if (!lang) {\r\n               // continue;\r\n                error('ERROR_INVALID_LANGUAGE');\r\n            }\r\n            lineNum += ((_ref2 = element.match(reLineEnding)) != null ? _ref2.length : void 0) || 0;\r\n            element = element.replace(reLineEnding, '');\r\n            element = element.replace(reBr, \"\\n\");\r\n            innerText = strip_tags(element).trim();\r\n\r\n            //HSLEE : 20180530 - 우린 랭기지 구분이 필요 없다. 있는거 그대로 보여줄뿐\r\n            item = {\r\n                start: startTime,\r\n                //languages: {},\r\n                text: \"\",\r\n                contents: innerText\r\n            };\r\n            if (lang) {\r\n                //item.languages[lang] = innerText;\r\n                item.text = innerText;\r\n            }\r\n            tempRet[lang] || (tempRet[lang] = []);\r\n            //tempRet[lang].push(item);\r\n            if(item.start){\r\n                tempRet[lang].push(item);\r\n            }\r\n\r\n        }\r\n\r\n        //fixed by hslee 190130\r\n        //SMI was designed for multi language. But global standard (my guess) SRT, VTT doesn't support multi language.\r\n        //This update is handling if SMI has multiple languages.\r\n        fixedLang = fixedLang || getBrowserLanguage();\r\n        let convertedLanguageNames = Object.keys(tempRet);\r\n\r\n        if(convertedLanguageNames && convertedLanguageNames.length > 0){\r\n            if(convertedLanguageNames.indexOf(fixedLang) > -1){\r\n                langItem = tempRet[fixedLang];\r\n            }else{\r\n                langItem = tempRet[convertedLanguageNames.filter(function(name){return name !== \"undefined\"})[0]];\r\n            }\r\n            langItem = _sort(langItem);\r\n            langItem = makeEndTime(langItem);\r\n            ret = ret.concat(langItem);\r\n        }\r\n\r\n        //ret = _mergeMultiLanguages(ret);\r\n        ret = _sort(ret);\r\n        return ret;\r\n    };\r\n    getLanguage = function(element) {\r\n        var className, lang;\r\n        if(!element){return ;}\r\n        for (className in definedLangs) {\r\n            lang = definedLangs[className];\r\n            if (lang.reClassName.test(element)) {\r\n                return lang.lang;\r\n            }\r\n        }\r\n    };\r\n    getDefinedLangs = function() {\r\n        var className, declaration, e, error, lang, matched, parsed, rule, selector, _i, _len, _ref, _ref1, _results;\r\n        try {\r\n            matched = ((_ref = sami.match(reStyle)) != null ? _ref[1] : void 0) || '';\r\n            matched = matched.replace(reComment, '');\r\n            parsed = cssParse(matched);\r\n            _ref1 = parsed.stylesheet.rules;\r\n            _results = [];\r\n            for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\r\n                rule = _ref1[_i];\r\n                selector = rule.selectors[0];\r\n                if ((selector != null ? selector[0] : void 0) === '.') {\r\n                    _results.push((function() {\r\n                        var _j, _len1, _ref2, _results1;\r\n                        _ref2 = rule.declarations;\r\n                        _results1 = [];\r\n                        for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\r\n                            declaration = _ref2[_j];\r\n                            if (declaration.property.toLowerCase() === 'lang') {\r\n                                className = selector.slice(1);\r\n                                lang = declaration.value.slice(0, 2);\r\n                                if (~langCodes.indexOf(lang)) {\r\n                                    _results1.push(definedLangs[className] = {\r\n                                        lang: lang,\r\n                                        reClassName: new RegExp(\"class[^=]*?=[\\\"'\\S]*(\" + className + \")['\\\"\\S]?\", 'i')\r\n                                    });\r\n                                } else {\r\n                                    throw Error();\r\n                                }\r\n                            } else {\r\n                                _results1.push(void 0);\r\n                            }\r\n                        }\r\n                        return _results1;\r\n                    })());\r\n                } else {\r\n                    _results.push(void 0);\r\n                }\r\n            }\r\n            return _results;\r\n        } catch (_error) {\r\n            e = _error;\r\n            errors.push(error = new Error('ERROR_INVALID_LANGUAGE_DEFINITION'));\r\n        }\r\n    };\r\n    makeEndTime = function(langItem) {\r\n        var i, item, _ref;\r\n        i = langItem.length;\r\n        while (i--) {\r\n            item = langItem[i];\r\n            if ((_ref = langItem[i - 1]) != null) {\r\n                //HSLEE : 이왕이면 SRT 파서와 포맷을 맞추자\r\n                _ref.end = item.start;\r\n            }\r\n            if (!item.contents || item.contents === '&nbsp;') {\r\n                langItem.splice(i, 1);\r\n            } else {\r\n                delete langItem[i].contents;\r\n                if (!item.end) {\r\n                    item.end = item.start + duration;\r\n                }\r\n            }\r\n        }\r\n        return langItem;\r\n    };\r\n    errors = [];\r\n    definedLangs = {\r\n        KRCC: {\r\n            lang: 'ko',\r\n            reClassName: new RegExp(\"class[^=]*?=[\\\"'\\S]*(KRCC)['\\\"\\S]?\", 'i')\r\n        },\r\n        KOCC: {\r\n            lang: 'ko',\r\n            reClassName: new RegExp(\"class[^=]*?=[\\\"'\\S]*(KOCC)['\\\"\\S]?\", 'i')\r\n        },\r\n        KR: {\r\n            lang: 'ko',\r\n            reClassName: new RegExp(\"class[^=]*?=[\\\"'\\S]*(KR)['\\\"\\S]?\", 'i')\r\n        },\r\n        ENCC: {\r\n            lang: 'en',\r\n            reClassName: new RegExp(\"class[^=]*?=[\\\"'\\S]*(ENCC)['\\\"\\S]?\", 'i')\r\n        },\r\n        EGCC: {\r\n            lang: 'en',\r\n            reClassName: new RegExp(\"class[^=]*?=[\\\"'\\S]*(EGCC)['\\\"\\S]?\", 'i')\r\n        },\r\n        EN: {\r\n            lang: 'en',\r\n            reClassName: new RegExp(\"class[^=]*?=[\\\"'\\S]*(EN)['\\\"\\S]?\", 'i')\r\n        },\r\n        JPCC: {\r\n            lang: 'ja',\r\n            reClassName: new RegExp(\"class[^=]*?=[\\\"'\\S]*(JPCC)['\\\"\\S]?\", 'i')\r\n        }\r\n    };\r\n    if (options != null ? options.definedLangs : void 0) {\r\n        _ref = options.definedLangs;\r\n        for (key in _ref) {\r\n            value = _ref[key];\r\n            definedLangs[key] = value;\r\n        }\r\n    }\r\n    duration = (options != null ? options.duration : void 0) || 10; //HSLEE ms -> s 로 변경\r\n    fixedLang = options.fixedLang;\r\n    sami = sami.trim();\r\n    //getDefinedLangs();\r\n    result = parse();\r\n    return {\r\n        result: result,\r\n        errors: errors\r\n    };\r\n};\r\n\r\n\r\nexport default SmiParser;","/**\r\n * Created by hoho on 2018. 7. 4..\r\n */\r\nimport SrtParser from \"api/caption/parser/SrtParser\";\r\nimport WebVTT from 'api/caption/parser/VttParser'\r\nimport VTTCue from 'utils/captions/vttCue'\r\nimport SmiParser from 'api/caption/parser/SmiParser'\r\n\r\nconst Loader = function () {\r\n    const that = {};\r\n\r\n    const convertToVTTCues = function (cues) {\r\n        return cues.map(cue => new VTTCue(cue.start, cue.end, cue.text));\r\n    };\r\n\r\n    that.load = (track, language, successCallback, errorCallback) => {\r\n\r\n        fetch(track.file).then(function (response) {\r\n            if (response.ok) {\r\n\r\n                response.text().then(function (body) {\r\n                    let cues = [];\r\n                    let vttCues = [];\r\n\r\n                    if (body.indexOf('WEBVTT') >= 0) {\r\n                        OvenPlayerConsole.log(\"WEBVTT LOADED\");\r\n                        let parser = new WebVTT.Parser(window, WebVTT.StringDecoder());\r\n                        vttCues = [];\r\n                        parser.oncue = function (cue) {\r\n                            vttCues.push(cue);\r\n                        };\r\n                        parser.onflush = function () {\r\n                            //delete track.xhr;\r\n                            successCallback(vttCues);\r\n                        };\r\n                        // Parse calls onflush internally\r\n                        parser.parse(body);\r\n                        parser.flush();\r\n                    } else if (body.indexOf('SAMI') >= 0) {\r\n                        OvenPlayerConsole.log(\"SAMI LOADED\");\r\n                        let parsedData = SmiParser(body, {fixedLang: language});\r\n                        vttCues = convertToVTTCues(parsedData.result);\r\n                        successCallback(vttCues);\r\n\r\n                    } else {\r\n                        OvenPlayerConsole.log(\"SRT LOADED\");\r\n                        cues = SrtParser(body);\r\n                        vttCues = convertToVTTCues(cues);\r\n                        successCallback(vttCues);\r\n                    }\r\n                }).catch(function (e) {\r\n                    errorCallback(e);\r\n                });\r\n\r\n            } else {\r\n                errorCallback(response.status);\r\n            }\r\n        }).catch(function (e) {\r\n            errorCallback(e);\r\n        });\r\n\r\n    };\r\n\r\n    return that;\r\n};\r\n\r\nexport default Loader;\r\n","// STATE\r\nexport const STATE_BUFFERING = \"buffering\";\r\nexport const STATE_IDLE = \"idle\";\r\nexport const STATE_COMPLETE = \"complete\";\r\nexport const STATE_PAUSED = \"paused\";\r\nexport const STATE_PLAYING = \"playing\";\r\nexport const STATE_ERROR = \"error\";\r\nexport const STATE_LOADING = \"loading\";\r\nexport const STATE_STALLED = \"stalled\";\r\n\r\nexport const STATE_AD_LOADING = \"adLoading\";\r\nexport const STATE_AD_LOADED = \"adLoaded\";\r\nexport const STATE_AD_PLAYING = \"adPlaying\";\r\nexport const STATE_AD_PAUSED = \"adPaused\";\r\nexport const STATE_AD_COMPLETE = \"adComplete\";\r\nexport const STATE_AD_ERROR = \"adError\";\r\nexport const PLAYER_AD_CLICK = \"adclick\";\r\n\r\n// PROVIDER\r\nexport const PROVIDER_HTML5 = \"html5\";\r\nexport const PROVIDER_WEBRTC = \"webrtc\";\r\nexport const PROVIDER_DASH = \"dash\";\r\nexport const PROVIDER_HLS = \"hls\";\r\nexport const PROVIDER_RTMP = \"rtmp\";\r\n\r\n// EVENTS\r\nexport const CONTENT_COMPLETE = STATE_COMPLETE;\r\nexport const READY = \"ready\";\r\nexport const DESTROY = \"destroy\";\r\nexport const CONTENT_SEEK = \"seek\";\r\nexport const CONTENT_BUFFER_FULL = \"bufferFull\";\r\nexport const DISPLAY_CLICK = \"displayClick\";\r\nexport const CONTENT_LOADED = \"loaded\";\r\nexport const PLAYLIST_CHANGED = \"playlistChanged\";\r\nexport const CONTENT_SEEKED = \"seeked\";\r\nexport const ALL_PLAYLIST_ENDED = \"allPlaylistEnded\";\r\nexport const NETWORK_UNSTABLED = \"unstableNetwork\";\r\nexport const HLS_PREPARED = \"hlsPrepared\";\r\nexport const HLS_DESTROYED = \"hlsDestroyed\";\r\nexport const DASH_PREPARED = \"dashPrepared\";\r\nexport const DASH_DESTROYED = \"dashDestroyed\";\r\nexport const PEER_CONNECTION_PREPARED = \"peerConnectionPrepared\";\r\nexport const PEER_CONNECTION_DESTROYED = \"peerConnectionDestroyed\";\r\n\r\n\r\n\r\nexport const ERROR = \"error\";\r\n\r\n// STATE OF PLAYER\r\nexport const PLAYER_STATE = \"stateChanged\";\r\nexport const PLAYER_COMPLETE = STATE_COMPLETE;\r\nexport const PLAYER_PAUSE = \"pause\";\r\nexport const PLAYER_PLAY = \"play\";\r\n\r\nexport const PLAYER_CLICKED = \"clicked\";\r\nexport const PLAYER_RESIZED = \"resized\";\r\nexport const PLAYER_LOADING = \"loading\";\r\nexport const PLAYER_FULLSCREEN_REQUEST = \"fullscreenRequested\";\r\nexport const PLAYER_FULLSCREEN_CHANGED = \"fullscreenChanged\";\r\nexport const PLAYER_WARNING = \"warning\";\r\nexport const PLAYER_ZOOM_CAHNGED = \"zoomChanged\";\r\n\r\nexport const AD_CHANGED = \"adChanged\";\r\nexport const AD_TIME = \"adTime\";\r\nexport const CONTENT_BUFFER = \"bufferChanged\";\r\nexport const CONTENT_TIME = \"time\";\r\nexport const CONTENT_RATE_CHANGE = \"ratechange\";\r\nexport const CONTENT_VOLUME = \"volumeChanged\";\r\nexport const CONTENT_MUTE = \"mute\";\r\nexport const CONTENT_META = \"metaChanged\";\r\nexport const CONTENT_META_DATA = \"metaData\";\r\nexport const CONTENT_META_DATA_TYPE_SEI = \"sei\";\r\nexport const CONTENT_SOURCE_CHANGED = \"sourceChanged\";\r\nexport const CONTENT_LEVEL_CHANGED = \"qualityLevelChanged\";\r\nexport const CONTENT_DURATION_CHANGED = \"durationChanged\";\r\nexport const PLAYBACK_RATE_CHANGED = \"playbackRateChanged\";\r\nexport const CONTENT_CAPTION_CUE_CHANGED = \"cueChanged\";\r\nexport const CONTENT_CAPTION_CHANGED = \"captionChanged\";\r\nexport const CONTENT_TIME_MODE_CHANGED = \"timeDisplayModeChanged\";\r\nexport const OME_P2P_MODE = \"p2pMode\";\r\nexport const AUDIO_TRACK_CHANGED = \"audioTrackChanged\";\r\n\r\n\r\nexport const AD_CLIENT_GOOGLEIMA = \"googleima\";\r\nexport const AD_CLIENT_VAST = \"vast\";\r\n\r\n\r\nexport const INIT_UNKNWON_ERROR = 100;\r\nexport const INIT_UNSUPPORT_ERROR = 101;\r\nexport const INIT_RTMP_SETUP_ERROR = 102;\r\nexport const INIT_DASH_UNSUPPORT = 103;\r\nexport const INIT_ADS_ERROR = 104;\r\nexport const INIT_DASH_FAIL = 105;\r\nexport const INIT_HLSJS_FAIL = 106;\r\nexport const INIT_DRM_FAIL = 107;\r\nexport const PLAYER_UNKNWON_ERROR = 300;\r\nexport const PLAYER_UNKNWON_OPERATION_ERROR = 301;\r\nexport const PLAYER_UNKNWON_NETWORK_ERROR = 302;\r\nexport const PLAYER_UNKNWON_DECODE_ERROR = 303;\r\nexport const PLAYER_FILE_ERROR = 304;\r\nexport const PLAYER_CAPTION_ERROR = 305;\r\nexport const PLAYER_BAD_REQUEST_ERROR = 306;\r\nexport const PLAYER_AUTH_FAILED_ERROR = 307;\r\nexport const PLAYER_NOT_ACCEPTABLE_ERROR = 308;\r\nexport const PLAYER_WEBRTC_WS_ERROR = 501;\r\nexport const PLAYER_WEBRTC_ADD_ICECANDIDATE_ERROR = 502;\r\nexport const PLAYER_WEBRTC_SET_REMOTE_DESC_ERROR = 503;\r\nexport const PLAYER_WEBRTC_CREATE_ANSWER_ERROR = 504;\r\nexport const PLAYER_WEBRTC_SET_LOCAL_DESC_ERROR = 505;\r\nexport const PLAYER_WEBRTC_INTERNAL_ERROR = 506;\r\nexport const PLAYER_WEBRTC_NETWORK_SLOW = 510;\r\nexport const PLAYER_WEBRTC_UNEXPECTED_DISCONNECT = 511;\r\nexport const PLAYER_WEBRTC_TIMEOUT = 512;\r\n\r\nexport const WARN_MSG_MUTEDPLAY = \"Please touch here to turn on the sound.\";\r\n\r\n\r\nexport const UI_ICONS = {\r\n  volume_mute: \"volume-mute\",\r\n  op_warning: \"op-warning\"\r\n};\r\n\r\n\r\nexport const ERRORS = { codes: \"\" };\r\n\r\n\r\nexport const SYSTEM_TEXT = [\r\n  {\r\n    \"lang\": \"en\",\r\n    \"ui\": {\r\n      \"context\": \"About OvenPlayer\",\r\n      \"controls\": {\r\n        \"live\": \"Live Streaming\",\r\n        \"low_latency_live\": \"Sub-Second Latency Streaming\",\r\n        \"low_latency_p2p\": \"Sub-Second Latency P2P\",\r\n      },\r\n      \"playlist\": \"Playlist\",\r\n      \"quality\": {\r\n        \"auto\": \"Auto\"\r\n      },\r\n      \"setting\": {\r\n        \"title\": \"Settings\",\r\n        \"speed\": \"Speed\",\r\n        \"speedUnit\": \"x\",\r\n        \"source\": \"Source\",\r\n        \"quality\": \"Quality\",\r\n        \"audioTrack\": \"Audio\",\r\n        \"caption\": \"Caption\",\r\n        \"display\": \"Display\",\r\n        \"zoom\": \"Zoom\"\r\n      }\r\n    },\r\n    \"api\": {\r\n      \"message\": {\r\n        \"muted_play\": \"Please touch here to turn on the sound.\"\r\n      },\r\n      \"error\": {\r\n        100: {\r\n          \"code\": 100,\r\n          \"message\": \"Can not load due to unknown reasons.\",\r\n          \"reason\": \"Can not load due to unknown reasons.\"\r\n        },\r\n        101: {\r\n          \"code\": 101,\r\n          \"message\": \"Can not load due to playable media not found.\",\r\n          \"reason\": \"Can not load due to playable media not found.\"\r\n        },\r\n        102: {\r\n          \"code\": 102,\r\n          \"message\": \"Flash fetching process aborted. </br><a href='http://www.adobe.com/go/getflashplayer' target='_self'><img src='http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif' alt='Get Adobe Flash player'></a>\",\r\n          \"reason\": \"It looks like not found swf or your environment is localhost.\"\r\n        },\r\n        103: {\r\n          \"code\": 103,\r\n          \"message\": \"Can not load due to dash.js. Please use the latest dash.js.\",\r\n          \"reason\": \"dash.js version is old.\"\r\n        },\r\n        104: {\r\n          \"code\": 104,\r\n          \"message\": \"Can not load due to google ima for Ads. \",\r\n          \"reason\": \"Please check the google ima library.\"\r\n        },\r\n        105: {\r\n          \"code\": 105,\r\n          \"message\": \"Error initializing DASH.\",\r\n          \"reason\": \"Error initializing DASH.\"\r\n        },\r\n        106: {\r\n          \"code\": 106,\r\n          \"message\": \"Error initializing HLS.\",\r\n          \"reason\": \"Error initializing HLS.\"\r\n        },\r\n        107: {\r\n          \"code\": 107,\r\n          \"message\": \"Error initializing DRM.\",\r\n          \"reason\": \"Error initializing DRM.\"\r\n        },\r\n        300: {\r\n          \"code\": 300,\r\n          \"message\": \"Can not play due to unknown reasons.\",\r\n          \"reason\": \"Can not play due to unknown reasons.\"\r\n        },\r\n        301: {\r\n          \"code\": 301,\r\n          \"message\": \"Fetching process aborted by user.\",\r\n          \"reason\": \"Fetching process aborted by user.\"\r\n        },\r\n        302: {\r\n          \"code\": 302,\r\n          \"message\": \"Some of the media could not be downloaded due to a network error.\",\r\n          \"reason\": \"Error occurred when downloading.\"\r\n        },\r\n        303: {\r\n          \"code\": 303,\r\n          \"message\": \"Unable to load media. This may be due to a server or network error, or due to an unsupported format.\",\r\n          \"reason\": \"Error occurred when decoding.\"\r\n        },\r\n        304: {\r\n          \"code\": 304,\r\n          \"message\": \"Media playback has been canceled. It looks like your media is corrupted or your browser does not support the features your media uses.\",\r\n          \"reason\": \"Media playback not supported.\"\r\n        },\r\n        305: {\r\n          \"code\": 305,\r\n          \"message\": \"Can not load captions due to unknown reasons.\",\r\n          \"reason\": \"Can not load captions due to unknown reasons.\"\r\n        },\r\n        306: {\r\n          \"code\": 306,\r\n          \"message\": \"Unable to load media. This may be due to a server or network error, or due to an unsupported format.\",\r\n          \"reason\": \"The server cannot or will not process the request.\"\r\n        },\r\n        307: {\r\n          \"code\": 307,\r\n          \"message\": \"Unable to load media. This may be due to a server or network error, or due to an unsupported format.\",\r\n          \"reason\": \"The server refused the request.\"\r\n        },\r\n        308: {\r\n          \"code\": 308,\r\n          \"message\": \"Unable to load media. This may be due to a server or network error, or due to an unsupported format.\",\r\n          \"reason\": \"The server do not accept the request.\"\r\n        },\r\n        501: {\r\n          \"code\": 501,\r\n          \"message\": \"Connection with low-latency(OME) server failed.\",\r\n          \"reason\": \"WebSocket connection failed.\"\r\n        },\r\n        502: {\r\n          \"code\": 502,\r\n          \"message\": \"Connection with low-latency(OME) server failed.\",\r\n          \"reason\": \"WebRTC addIceCandidate failed.\"\r\n        },\r\n        503: {\r\n          \"code\": 503,\r\n          \"message\": \"Connection with low-latency(OME) server failed.\",\r\n          \"reason\": \"WebRTC setRemoteDescription failed.\"\r\n        },\r\n        504: {\r\n          \"code\": 504,\r\n          \"message\": \"Connection with low-latency(OME) server failed.\",\r\n          \"reason\": \"WebRTC peer createOffer failed.\"\r\n        },\r\n        505: {\r\n          \"code\": 505,\r\n          \"message\": \"Connection with low-latency(OME) server failed.\",\r\n          \"reason\": \"WebRTC setLocalDescription failed.\"\r\n        },\r\n        506: {\r\n          \"code\": 506,\r\n          \"message\": \"Connection with low-latency(OME) server failed.\",\r\n          \"reason\": \"WebRTC internal error.\"\r\n        },\r\n        510: {\r\n          \"code\": 510,\r\n          \"message\": \"Network connection is unstable. Check the network connection.\",\r\n          \"reason\": \"Network is slow.\"\r\n        },\r\n        511: {\r\n          \"code\": 511,\r\n          \"message\": \"Connection with low-latency(OME) terminated unexpectedly.\",\r\n          \"reason\": \"Unexpected end of connection.\"\r\n        },\r\n        512: {\r\n          \"code\": 512,\r\n          \"message\": \"Connection with low-latency(OME) server failed.\",\r\n          \"reason\": \"Connection timeout.\"\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    \"lang\": \"ko\",\r\n    \"ui\": {\r\n      \"context\": \"오븐플레이어에 관하여\",\r\n      \"controls\": {\r\n        \"live\": \"라이브\",\r\n        \"low_latency_live\": \"초저지연 라이브\",\r\n        \"low_latency_p2p\": \"초저지연 P2P\",\r\n      },\r\n      \"playlist\": \"플레이리스트\",\r\n      \"quality\": {\r\n        \"auto\": \"자동\"\r\n      },\r\n      \"setting\": {\r\n        \"title\": \"설정\",\r\n        \"speed\": \"재생 속도\",\r\n        \"speedUnit\": \"x\",\r\n        \"source\": \"소스\",\r\n        \"quality\": \"품질\",\r\n        \"audioTrack\": \"오디오\",\r\n        \"caption\": \"자막\",\r\n        \"display\": \"표시\",\r\n        \"zoom\": \"Zoom\"\r\n      }\r\n    },\r\n    \"api\": {\r\n      \"message\": {\r\n        \"muted_play\": \"눌러서 소리 켜기\"\r\n      },\r\n      \"error\": {\r\n        100: {\r\n          \"code\": 100,\r\n          \"message\": \"알 수 없는 이유로 로드 할 수 없습니다.\",\r\n          \"reason\": \"알 수 없는 이유로 로드 할 수 없습니다.\"\r\n        },\r\n        101: {\r\n          \"code\": 101,\r\n          \"message\": \"지원되는 미디어를 찾지 못해 로드 할 수 없습니다.\",\r\n          \"reason\": \"Can not load due to playable media not found.\"\r\n        },\r\n        102: {\r\n          \"code\": 102,\r\n          \"message\": \"플레시 로드가 중단 되었습니다. </br><a href='http://www.adobe.com/go/getflashplayer' target='_self'><img src='http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif' alt='Get Adobe Flash player'></a>\",\r\n          \"reason\": \"It looks like not found swf or your environment is localhost.\"\r\n        },\r\n        103: {\r\n          \"code\": 103,\r\n          \"message\": \"DashJS로 인해 로드 할 수 없습니다. 최신 dash.js를 사용해 주세요.\",\r\n          \"reason\": \"dash.js version is old.\"\r\n        },\r\n        104: {\r\n          \"code\": 104,\r\n          \"message\": \"Google IMA 라이브러리가 없어 로드 할 수 없습니다.\",\r\n          \"reason\": \"Please check the google ima library.\"\r\n        },\r\n        105: {\r\n          \"code\": 105,\r\n          \"message\": \"DASH 초기화 중 오류가 발생했습니다.\",\r\n          \"reason\": \"Error initializing DASH.\"\r\n        },\r\n        106: {\r\n          \"code\": 106,\r\n          \"message\": \"HLS 초기화 중 오류가 발생했습니다.\",\r\n          \"reason\": \"Error initializing HLS.\"\r\n        },\r\n        107: {\r\n          \"code\": 107,\r\n          \"message\": \"DRM 초기화 중 오류가 발생했습니다.\",\r\n          \"reason\": \"Error initializing DRM.\"\r\n        },\r\n        300: {\r\n          \"code\": 300,\r\n          \"message\": \"알 수 없는 이유로 재생할 수 없습니다.\",\r\n          \"reason\": \"Can not play due to unknown reasons.\"\r\n        },\r\n        301: {\r\n          \"code\": 301,\r\n          \"message\": \"사용자에 의한 프로세스 중단.\",\r\n          \"reason\": \"Fetching process aborted by user.\"\r\n        },\r\n        302: {\r\n          \"code\": 302,\r\n          \"message\": \"네트워크 오류로 인해 일부 미디어를 다운로드 할 수 없습니다.\",\r\n          \"reason\": \"Error occurred when downloading.\"\r\n        },\r\n        303: {\r\n          \"code\": 303,\r\n          \"message\": \"미디어를 로드 할 수 없습니다. 서버 또는 네트워크 오류 또는 지원되지 않는 형식으로 인해 발생할 수 있습니다.\",\r\n          \"reason\": \"Error occurred when decoding.\"\r\n        },\r\n        304: {\r\n          \"code\": 304,\r\n          \"message\": \"미디어 재생이 취소되었습니다. 미디어가 손상되었거나 브라우저가 미디어에서 사용하는 기능을 지원하지 않는 것 같습니다.\",\r\n          \"reason\": \"Media playback not supported.\"\r\n        },\r\n        305: {\r\n          \"code\": 305,\r\n          \"message\": \"알 수 없는 이유로 자막을 로드 할 수 없습니다.\",\r\n          \"reason\": \"Can not load captions due to unknown reasons.\"\r\n        },\r\n        306: {\r\n          \"code\": 306,\r\n          \"message\": \"미디어를 로드 할 수 없습니다. 서버 또는 네트워크 오류 또는 지원되지 않는 형식으로 인해 발생할 수 있습니다.\",\r\n          \"reason\": \"The server cannot or will not process the request.\"\r\n        },\r\n        307: {\r\n          \"code\": 307,\r\n          \"message\": \"미디어를 로드 할 수 없습니다. 서버 또는 네트워크 오류 또는 지원되지 않는 형식으로 인해 발생할 수 있습니다.\",\r\n          \"reason\": \"The server refused the request.\"\r\n        },\r\n        308: {\r\n          \"code\": 308,\r\n          \"message\": \"미디어를 로드 할 수 없습니다. 서버 또는 네트워크 오류 또는 지원되지 않는 형식으로 인해 발생할 수 있습니다.\",\r\n          \"reason\": \"The server do not accept the request.\"\r\n        },\r\n        501: {\r\n          \"code\": 501,\r\n          \"message\": \"웹소켓 연결 실패\",\r\n          \"reason\": \"WebSocket connection failed.\"\r\n        },\r\n        502: {\r\n          \"code\": 502,\r\n          \"message\": \"저지연(OME) 서버와 연결에 실패했습니다.\",\r\n          \"reason\": \"WebRTC addIceCandidate failed.\"\r\n        },\r\n        503: {\r\n          \"code\": 503,\r\n          \"message\": \"저지연(OME) 서버와 연결에 실패했습니다.\",\r\n          \"reason\": \"WebRTC setRemoteDescription failed.\"\r\n        },\r\n        504: {\r\n          \"code\": 504,\r\n          \"message\": \"저지연(OME) 서버와 연결에 실패했습니다.\",\r\n          \"reason\": \"WebRTC peer createOffer failed.\"\r\n        },\r\n        505: {\r\n          \"code\": 505,\r\n          \"message\": \"저지연(OME) 서버와 연결에 실패했습니다.\",\r\n          \"reason\": \"WebRTC setLocalDescription failed.\"\r\n        },\r\n        506: {\r\n          \"code\": 506,\r\n          \"message\": \"저지연(OME) 서버와 연결에 실패했습니다.\",\r\n          \"reason\": \"WebRTC internal error.\"\r\n        },\r\n        510: {\r\n          \"code\": 510,\r\n          \"message\": \"네트워크 연결이 불안정합니다. 네트워크 연결을 확인하십시오.\",\r\n          \"reason\": \"Network is slow.\"\r\n        },\r\n        511: {\r\n          \"code\": 511,\r\n          \"message\": \"저지연(OME) 서버와 연결에 실패했습니다.\",\r\n          \"reason\": \"Unexpected end of connection.\"\r\n        },\r\n        512: {\r\n          \"code\": 512,\r\n          \"message\": \"저지연(OME) 서버와 연결에 실패했습니다.\",\r\n          \"reason\": \"Connection timeout.\"\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    \"lang\": \"pl\",\r\n    \"ui\": {\r\n      \"context\": \"O OvenPlayer\",\r\n      \"controls\": {\r\n        \"live\": \"Transmisja na żywo\",\r\n        \"low_latency_live\": \"Transmisja z niskim opóźnieniem\",\r\n        \"low_latency_p2p\": \"Transmisja z niskim opóźnieniem P2P\",\r\n      },\r\n      \"playlist\": \"Playlista\",\r\n      \"quality\": {\r\n        \"auto\": \"Auto\"\r\n      },\r\n      \"setting\": {\r\n        \"title\": \"Ustawienia\",\r\n        \"speed\": \"Prędkość\",\r\n        \"speedUnit\": \"x\",\r\n        \"source\": \"Źrodło\",\r\n        \"quality\": \"Jakość\",\r\n        \"audioTrack\": \"Audio\",\r\n        \"caption\": \"Podtytuł\",\r\n        \"display\": \"Wyświetlacz\",\r\n        \"zoom\": \"Zoom\"\r\n      }\r\n    },\r\n    \"api\": {\r\n      \"message\": {\r\n        \"muted_play\": \"Naciśnij tutaj, aby aktywować dźwięk\"\r\n      },\r\n      \"error\": {\r\n        100: {\r\n          \"code\": 100,\r\n          \"message\": \"Nie można załadować z nieznanego powodu.\",\r\n          \"reason\": \"Can not load due to unknown reasons.\"\r\n        },\r\n        101: {\r\n          \"code\": 101,\r\n          \"message\": \"Nie można załadować, ponieważ nie znaleziono multimediów, który można odtworzyć.\",\r\n          \"reason\": \"Can not load due to playable media not found.\"\r\n        },\r\n        102: {\r\n          \"code\": 102,\r\n          \"message\": \"Flash fetching process aborted. </br><a href='http://www.adobe.com/go/getflashplayer' target='_self'><img src='http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif' alt='Get Adobe Flash player'></a>\",\r\n          \"reason\": \"It looks like not found swf or your environment is localhost.\"\r\n        },\r\n        103: {\r\n          \"code\": 103,\r\n          \"message\": \"Nie można załadować, ponieważ wersja dash.js jest za stara.\",\r\n          \"reason\": \"dash.js version is old.\"\r\n        },\r\n        104: {\r\n          \"code\": 104,\r\n          \"message\": \"Can not load due to google ima for Ads. \",\r\n          \"reason\": \"Please check the google ima library.\"\r\n        },\r\n        105: {\r\n          \"code\": 105,\r\n          \"message\": \"Nie można załadować, nie znaleziono DASH.\",\r\n          \"reason\": \"Error initializing DASH.\"\r\n        },\r\n        106: {\r\n          \"code\": 106,\r\n          \"message\": \"Nie można załadować, nie znaleziono hlsjs.\",\r\n          \"reason\": \"Error initializing HLS\"\r\n        },\r\n        107: {\r\n          \"code\": 107,\r\n          \"message\": \"Nie można załadować, nie znaleziono DRM.\",\r\n          \"reason\": \"Error initializing DRM\"\r\n        },\r\n        300: {\r\n          \"code\": 300,\r\n          \"message\": \"Nie można odtworzyć z nieznanego powodu.\",\r\n          \"reason\": \"Can not play due to unknown reasons.\"\r\n        },\r\n        301: {\r\n          \"code\": 301,\r\n          \"message\": \"Proces pobierania przerwany przez użytkownika.\",\r\n          \"reason\": \"Fetching process aborted by user.\"\r\n        },\r\n        302: {\r\n          \"code\": 302,\r\n          \"message\": \"Nie udało się pobrać niektórych multimediów z powodu błędu sieci.\",\r\n          \"reason\": \"Error occurred when downloading.\"\r\n        },\r\n        303: {\r\n          \"code\": 303,\r\n          \"message\": \"Nie udało się załadować niektórych multimediów. Może być to spowodowane problemem z serwerem, siecią lub niewspieranym formatem.\",\r\n          \"reason\": \"Error occurred when decoding.\"\r\n        },\r\n        304: {\r\n          \"code\": 304,\r\n          \"message\": \"Odtwarzanie zostało anulowane. Wygląda na to, że plik jest uszkodzony lub Twoja przeglądarka nie obsługuje tego pliku.\",\r\n          \"reason\": \"Media playback not supported.\"\r\n        },\r\n        305: {\r\n          \"code\": 305,\r\n          \"message\": \"Nie można wczytać napisów z nieznanego powodu.\",\r\n          \"reason\": \"Can not load captions due to unknown reasons.\"\r\n        },\r\n        306: {\r\n          \"code\": 306,\r\n          \"message\": \"Nie udało się załadować niektórych multimediów. Może być to spowodowane problemem z serwerem, siecią lub niewspieranym formatem.\",\r\n          \"reason\": \"The server cannot or will not process the request.\"\r\n        },\r\n        307: {\r\n          \"code\": 307,\r\n          \"message\": \"Nie udało się załadować niektórych multimediów. Może być to spowodowane problemem z serwerem, siecią lub niewspieranym formatem.\",\r\n          \"reason\": \"The server refused the request.\"\r\n        },\r\n        308: {\r\n          \"code\": 308,\r\n          \"message\": \"Nie udało się załadować niektórych multimediów. Może być to spowodowane problemem z serwerem, siecią lub niewspieranym formatem.\",\r\n          \"reason\": \"The server do not accept the request.\"\r\n        },\r\n        501: {\r\n          \"code\": 501,\r\n          \"message\": \"Połączenie z serwerem niskiego opóźnienia (OME) nie powiodło się.\",\r\n          \"reason\": \"WebSocket connection failed.\"\r\n        },\r\n        502: {\r\n          \"code\": 502,\r\n          \"message\": \"Połączenie z serwerem niskiego opóźnienia (OME) nie powiodło się.\",\r\n          \"reason\": \"WebRTC addIceCandidate failed.\"\r\n        },\r\n        503: {\r\n          \"code\": 503,\r\n          \"message\": \"Połączenie z serwerem niskiego opóźnienia (OME) nie powiodło się.\",\r\n          \"reason\": \"WebRTC setRemoteDescription failed.\"\r\n        },\r\n        504: {\r\n          \"code\": 504,\r\n          \"message\": \"Połączenie z serwerem niskiego opóźnienia (OME) nie powiodło się.\",\r\n          \"reason\": \"WebRTC peer createOffer failed.\"\r\n        },\r\n        505: {\r\n          \"code\": 505,\r\n          \"message\": \"Połączenie z serwerem niskiego opóźnienia (OME) nie powiodło się.\",\r\n          \"reason\": \"WebRTC setLocalDescription failed.\"\r\n        },\r\n        506: {\r\n          \"code\": 506,\r\n          \"message\": \"Połączenie z serwerem niskiego opóźnienia (OME) nie powiodło się.\",\r\n          \"reason\": \"WebRTC internal error.\"\r\n        },\r\n        510: {\r\n          \"code\": 510,\r\n          \"message\": \"Połączenie sieciowe jest niestabilne. Sprawdź swoją sieć.\",\r\n          \"reason\": \"Network is slow.\"\r\n        },\r\n        511: {\r\n          \"code\": 511,\r\n          \"message\": \"Połączenie z serwerem niskiego opóźnienia (OME) nieoczekiwanie zakończone.\",\r\n          \"reason\": \"Unexpected end of connection.\"\r\n        },\r\n        512: {\r\n          \"code\": 512,\r\n          \"message\": \"Połączenie z serwerem niskiego opóźnienia (OME) nie powiodło się.\",\r\n          \"reason\": \"Connection timeout.\"\r\n        }\r\n      }\r\n    }\r\n  }\r\n];\r\n","/**\r\n * Created by hoho on 2018. 5. 17..\r\n */\r\nimport CaptionLoader from 'api/caption/Loader';\r\nimport {\r\n  CONTENT_CAPTION_CHANGED,\r\n  CONTENT_CAPTION_CUE_CHANGED,\r\n  CONTENT_TIME,\r\n  ERROR,\r\n  ERRORS,\r\n  PLAYER_CAPTION_ERROR\r\n} from \"api/constants\";\r\nimport _ from \"underscore\";\r\n\r\nconst isSupport = function(kind){\r\n    return kind === 'subtitles' || kind === 'captions';\r\n};\r\n\r\nconst Manager = function(api, playlistIndex){\r\n\r\n    const that = {};\r\n    let captionList = [];\r\n    let currentCaptionIndex = -1;\r\n\r\n    let captionLoader = CaptionLoader();\r\n    let isFisrtLoad = true;\r\n    let isShowing = false;\r\n\r\n    OvenPlayerConsole.log(\"Caption Manager >> \", playlistIndex);\r\n\r\n\r\n    let bindTrack = function(track, vttCues){\r\n        track.data = vttCues || [];\r\n        track.name = track.label || track.name || track.language;\r\n        track.id = (function(track, tracksCount) {\r\n            var trackId;\r\n            var prefix = track.kind || 'cc';\r\n            if (track.default || track.defaulttrack) {\r\n                trackId = 'default';\r\n\r\n            } else {\r\n                trackId = track.id || (prefix + tracksCount);\r\n            }\r\n            if(isFisrtLoad){\r\n                //This execute only on. and then use flushCaptionList(lastCaptionIndex);\r\n                changeCurrentCaption(captionList.length||0);\r\n                isFisrtLoad = false;\r\n\r\n            }\r\n            return trackId;\r\n        })(track, captionList.length);\r\n\r\n        captionList.push(track);\r\n        return track.id;\r\n    };\r\n    let changeCurrentCaption = function(index){\r\n        currentCaptionIndex = index;\r\n        api.trigger(CONTENT_CAPTION_CHANGED, currentCaptionIndex);\r\n    };\r\n    if(api.getConfig().playlist && api.getConfig().playlist.length > 0){\r\n        let playlist = api.getConfig().playlist[playlistIndex];\r\n\r\n        if(playlist && playlist.tracks && playlist.tracks.length > 0){\r\n            for(let i = 0; i < playlist.tracks.length; i ++){\r\n                const track = playlist.tracks[i];\r\n\r\n                if(isSupport(track.kind) && ! _.findWhere(track, {file : track.file})){\r\n                    //that.flushCaptionList(currentCaptionIndex);\r\n\r\n                    captionLoader.load(track, track.lang, function(vttCues){\r\n                        if(vttCues && vttCues.length > 0){\r\n                            let captionId = bindTrack(track, vttCues);\r\n                        }\r\n                    }, function(error){\r\n                        let tempError = ERRORS.codes[PLAYER_CAPTION_ERROR];\r\n                        tempError.error = error;\r\n                        api.trigger(ERROR, tempError);\r\n                    });\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    api.on(CONTENT_TIME, function(meta){\r\n        let position = meta.position;\r\n        if(currentCaptionIndex > -1 && captionList[currentCaptionIndex]){\r\n            let currentCues = _.filter(captionList[currentCaptionIndex].data, function (cue) {\r\n                return position >= (cue.startTime) && ( (!cue.endTime || position) <= cue.endTime);\r\n            });\r\n            if(currentCues && currentCues.length > 0){\r\n                api.trigger(CONTENT_CAPTION_CUE_CHANGED, currentCues[0]);\r\n            }\r\n        }\r\n\r\n    });\r\n    that.flushCaptionList = (lastCaptionIndex) =>{\r\n        captionList = [];\r\n        changeCurrentCaption(lastCaptionIndex);\r\n        //currentCaptionIndex = lastCaptionIndex;\r\n    };\r\n    that.getCaptionList = () =>{\r\n        return captionList||[];\r\n    };\r\n    that.getCurrentCaption = () =>{\r\n        return currentCaptionIndex;\r\n    };\r\n    that.setCurrentCaption = (_index) =>{\r\n        if(_index > -2 && _index < captionList.length){\r\n            changeCurrentCaption(_index);\r\n        }else{\r\n            return null;\r\n        }\r\n    };\r\n    that.addCaption = (track) =>{\r\n        if(isSupport(track.kind) && ! _.findWhere(captionLoader, {file : track.file})){\r\n            captionLoader.load(track, function(vttCues){\r\n                if(vttCues && vttCues.length > 0){\r\n                    bindTrack(track, vttCues);\r\n                }\r\n            }, function(error){\r\n                let tempError = errors[PLAYER_CAPTION_ERROR];\r\n                tempError.error = error;\r\n                api.trigger(ERROR, tempError);\r\n            });\r\n        }\r\n    };\r\n    that.removeCaption = (index) => {\r\n        if(index > -1 && index < captionList.length){\r\n            captionList.splice(index, 1);\r\n            return captionList;\r\n        }else{\r\n            return null;\r\n        }\r\n    };\r\n    that.destroy = () => {\r\n        captionList = [];\r\n        captionLoader = null;\r\n        api.off(CONTENT_TIME, null, that);\r\n    };\r\n\r\n    return that;\r\n};\r\n\r\n\r\n\r\n\r\nexport default Manager;\r\n","/**\r\n * Performs a deep merge of the `source` object's properties into the `target` object.\r\n * For nested objects, the function recurses; otherwise it directly overwrites values.\r\n *\r\n * @param {Object} target - The object to which properties are merged.\r\n * @param {Object} source - The object containing properties to be copied.\r\n * @returns {Object} The modified `target` object reference.\r\n *\r\n * @example\r\n * const objA = {\r\n *   a: 1,\r\n *   b: { x: 10, y: 20 }\r\n * };\r\n * const objB = {\r\n *   b: { y: 999, z: 50 },\r\n *   c: 3\r\n * };\r\n *\r\n * deepMerge(objA, objB);\r\n *  Result: objA = {\r\n *    a: 1,\r\n *    b: { x: 10, y: 999, z: 50 },\r\n *    c: 3\r\n *  }\r\n */\r\nexport default function deepMerge(target, source) {\r\n  for (let key in source) {\r\n    if (Object.prototype.hasOwnProperty.call(source, key)) {\r\n      if (\r\n        typeof source[key] === \"object\" &&\r\n        source[key] !== null &&\r\n        typeof target[key] === \"object\" &&\r\n        target[key] !== null\r\n      ) {\r\n        deepMerge(target[key], source[key]);\r\n      } else {\r\n        target[key] = source[key];\r\n      }\r\n    }\r\n  }\r\n  return target;\r\n}\r\n","import _ from \"underscore\";\r\nimport deepMerge from \"utils/deepMerge\";\r\n\r\nimport {CONTENT_TIME_MODE_CHANGED, SYSTEM_TEXT} from \"api/constants\";\r\n\r\n/**\r\n * @brief   This initializes the input options.\r\n * @param   options\r\n *\r\n * */\r\nconst Configurator = function (options, provider) {\r\n\r\n    const composeSourceOptions = function (options) {\r\n        const Defaults = {\r\n            mediaContainer: \"\",\r\n            playbackRates: [2, 1.5, 1, 0.5, 0.25],\r\n            playbackRate: 1,\r\n            mute: false,\r\n            volume: 100,\r\n            loop: false,\r\n            controls: true,\r\n            autoStart: false,\r\n            autoFallback: true,\r\n            timecode: true,\r\n            sourceIndex: -1,\r\n            browser: \"\",\r\n            hidePlaylistIcon: false,\r\n            rtmpBufferTime: 1,\r\n            rtmpBufferTimeMax: 3,\r\n            adClient: \"googleima\",\r\n            currentProtocolOnly: false,\r\n            systemText: null,\r\n            lang: \"en\",\r\n            loadingRetryCount: 0,\r\n            expandFullScreenUI: true,\r\n            fullscreenOption: null,\r\n            showBigPlayButton: true,\r\n            doubleTapToSeek: false,\r\n            showZoomSettings: false,\r\n            legacyUI: false,\r\n            parseStream: {\r\n                enabled: false\r\n            }\r\n        };\r\n        const serialize = function (val) {\r\n            if (val === undefined) {\r\n                return null;\r\n            }\r\n            if (typeof val === 'string' && val.length < 6) {\r\n                const lowercaseVal = val.toLowerCase();\r\n                if (lowercaseVal === 'true') {\r\n                    return true;\r\n                }\r\n                if (lowercaseVal === 'false') {\r\n                    return false;\r\n                }\r\n                if (!isNaN(Number(val)) && !isNaN(parseFloat(val))) {\r\n                    return Number(val);\r\n                }\r\n            }\r\n            return val;\r\n        }\r\n        const deserialize = function (options) {\r\n            Object.keys(options).forEach((key) => {\r\n                if (key === 'id') {\r\n                    return;\r\n                }\r\n                options[key] = serialize(options[key]);\r\n            });\r\n        }\r\n\r\n        deserialize(options);\r\n        let config = Object.assign({}, Defaults, options);\r\n        let userCustumSystemText = [];\r\n        if (config.systemText) {\r\n            userCustumSystemText = _.isArray(config.systemText) ? config.systemText : [config.systemText];\r\n        }\r\n\r\n        for (let i = 0; i < userCustumSystemText.length; i++) {\r\n            if (userCustumSystemText[i].lang) {\r\n                let currentSystemText = _.findWhere(SYSTEM_TEXT, { \"lang\": userCustumSystemText[i].lang });\r\n                if (currentSystemText) {\r\n                    //validate & update\r\n                    deepMerge(currentSystemText, userCustumSystemText[i]);\r\n                } else {\r\n                    //create\r\n                    currentSystemText = _.findWhere(SYSTEM_TEXT, { \"lang\": \"en\" });\r\n                    currentSystemText.lang = userCustumSystemText[i].lang;\r\n                    const newMerged = deepMerge({}, currentSystemText, userCustumSystemText[i]);\r\n                    SYSTEM_TEXT.push(newMerged);\r\n                }\r\n            }\r\n        }\r\n        config.systemText = _.findWhere(SYSTEM_TEXT, { \"lang\": config.lang });\r\n\r\n        let playbackRates = config.playbackRates;\r\n\r\n        playbackRates = playbackRates.filter(rate => _.isNumber(rate) && rate >= 0.25 && rate <= 4).map(rate => Math.round(rate * 4) / 4);\r\n\r\n        if (playbackRates.indexOf(1) < 0) {\r\n            playbackRates.push(1);\r\n        }\r\n        playbackRates.sort();\r\n\r\n        config.playbackRates = playbackRates;\r\n\r\n        config.rtmpBufferTime = config.rtmpBufferTime > 10 ? 10 : config.rtmpBufferTime;\r\n        config.rtmpBufferTimeMax = config.rtmpBufferTimeMax > 50 ? 50 : config.rtmpBufferTimeMax;\r\n\r\n\r\n        if (config.playbackRates.indexOf(config.playbackRate) < 0) {\r\n            config.playbackRate = 1;\r\n        }\r\n\r\n        const configPlaylist = config.playlist;\r\n        if (!configPlaylist) {\r\n            const obj = _.pick(config, [\r\n                'title',\r\n                'description',\r\n                'type',\r\n                'image',\r\n                'file',\r\n                'sources',\r\n                'tracks',\r\n                'host',\r\n                'application',\r\n                'stream',\r\n                'adTagUrl'\r\n            ]);\r\n\r\n            config.playlist = [obj];\r\n        } else if (_.isArray(configPlaylist.playlist)) {\r\n            config.feedData = configPlaylist;\r\n            config.playlist = configPlaylist.playlist;\r\n        }\r\n\r\n        delete config.duration;\r\n        return config;\r\n    };\r\n    OvenPlayerConsole.log(\"Configurator loaded.\", options);\r\n    let spec = composeSourceOptions(options);\r\n\r\n    //spec.isFullscreen = false; //IE 11 can't check current fullscreen state.\r\n\r\n    const that = {};\r\n    that.getConfig = () => {\r\n        return spec;\r\n    };\r\n    that.getAdClient = () => {\r\n        return spec.adClient;\r\n    };\r\n    that.setConfig = (config, value) => {\r\n        spec[config] = value;\r\n    };\r\n\r\n    that.getContainer = () => {\r\n        return spec.mediaContainer;\r\n    };\r\n    /*that.isFullscreen = () => {\r\n        return spec.isFullscreen;\r\n    }\r\n    that.setFullscreen = (isFullscreen) => {\r\n        return spec.isFullscreen = isFullscreen;\r\n    }*/\r\n\r\n    that.getPlaybackRate = () => {\r\n        return spec.playbackRate;\r\n    };\r\n    that.setPlaybackRate = (playbackRate) => {\r\n        spec.playbackRate = playbackRate;\r\n        return playbackRate;\r\n    };\r\n    that.getZoomFactor = () => {\r\n        return spec.zoomFactor;\r\n    };\r\n    that.setZoomFactor = (zoomFactor) => {\r\n        spec.zoomFactor = zoomFactor;\r\n        return zoomFactor;\r\n    };\r\n    that.getQualityLabel = () => {\r\n        return spec.qualityLabel;\r\n    };\r\n    that.setQualityLabel = (newLabel) => {\r\n        spec.qualityLabel = newLabel;\r\n    };\r\n\r\n    that.isCurrentProtocolOnly = () => {\r\n        return spec.currentProtocolOnly;\r\n    };\r\n    /*that.getSourceLabel = () => {\r\n        return spec.sourceLabel;\r\n    };\r\n    that.setSourceLabel = (newLabel) => {\r\n        spec.sourceLabel = newLabel;\r\n    };*/\r\n\r\n    that.getSourceIndex = () => {\r\n        return spec.sourceIndex;\r\n    };\r\n    that.setSourceIndex = (index) => {\r\n        spec.sourceIndex = index;\r\n    };\r\n    that.setTimecodeMode = (timecode) => {\r\n        if (spec.timecode !== timecode) {\r\n            spec.timecode = timecode;\r\n            provider.trigger(CONTENT_TIME_MODE_CHANGED, timecode);\r\n        }\r\n    };\r\n    that.isTimecodeMode = () => {\r\n        return spec.timecode;\r\n    };\r\n    that.getRtmpBufferTime = () => {\r\n        return spec.rtmpBufferTime;\r\n    };\r\n    that.getRtmpBufferTimeMax = () => {\r\n        return spec.rtmpBufferTimeMax;\r\n    };\r\n    that.setMute = (mute) => {\r\n        spec.mute = mute;\r\n    };\r\n    that.isMute = () => {\r\n        return spec.mute;\r\n    };\r\n    that.getVolume = () => {\r\n        return spec.volume;\r\n    };\r\n    that.setVolume = (volume) => {\r\n        spec.volume = volume;\r\n    };\r\n    that.isLoop = () => {\r\n        return spec.loop;\r\n    };\r\n    that.isAutoStart = () => {\r\n        return spec.autoStart;\r\n    };\r\n    that.isControls = () => {\r\n        return spec.controls;\r\n    };\r\n\r\n    that.getPlaybackRates = () => {\r\n        return spec.playbackRates;\r\n    };\r\n    that.getBrowser = () => {\r\n        return spec.browser;\r\n    };\r\n    that.getSystemText = () => {\r\n        return spec.systemText;\r\n    };\r\n    that.getLanguage = () => {\r\n        return spec.lang;\r\n    };\r\n\r\n    that.getPlaylist = () => {\r\n        return spec.playlist;\r\n    };\r\n    that.setPlaylist = (playlist) => {\r\n        if (_.isArray(playlist)) {\r\n            spec.playlist = playlist;\r\n        } else {\r\n            spec.playlist = [playlist];\r\n        }\r\n        return spec.playlist;\r\n    };\r\n\r\n    return that;\r\n};\r\n\r\nexport default Configurator;\r\n","/**\r\n * Created by hoho on 2018. 7. 3..\r\n */\r\n\r\n/**\r\n * @brief   This module provide custom events.\r\n * @param   object    An object that requires custom events.\r\n *\r\n * */\r\n\r\nconst EventEmitter = function(object){\r\n    let that = object;\r\n    let _events =[];\r\n\r\n    const triggerEvents = function(events, args, context){\r\n        let i = 0;\r\n        let length = events.length;\r\n        for(i = 0; i < length; i ++){\r\n            let event = events[i];\r\n            event.listener.apply( ( event.context || context ), args);\r\n        }\r\n    };\r\n\r\n    that.on = function(name, listener, context){\r\n        (_events[name] || (_events[name]=[]) ).push({ listener: listener  , context : context});\r\n        return that;\r\n    };\r\n    that.trigger = function(name){\r\n        if(!_events){\r\n            return false;\r\n        }\r\n        const args = [].slice.call(arguments, 1);\r\n        const events = _events[name];\r\n        const allEvents = _events.all;\r\n\r\n        if(events){\r\n            triggerEvents(events, args, that);\r\n        }\r\n        if(allEvents){\r\n            triggerEvents(allEvents, arguments, that);\r\n        }\r\n    };\r\n    that.off = function(name, listener, context){\r\n        if(!_events){\r\n            return false;\r\n        }\r\n\r\n        if (!name && !listener && !context)  {\r\n            _events = [];\r\n            return that;\r\n        }\r\n\r\n        const names = name ? [name] : Object.keys(_events);\r\n\r\n        for (let i = 0, l = names.length; i < l; i++) {\r\n            name = names[i];\r\n            const events = _events[name];\r\n            if (events) {\r\n                const retain = _events[name] = [];\r\n                if (listener  || context) {\r\n                    for (let j = 0, k = events.length; j < k; j++) {\r\n                        const event = events[j];\r\n                        if ((listener && listener !== event.listener && listener !== event.listener.listener  && listener !== event.listener._listener)\r\n                            ||(context && context !== event.context)\r\n                        ) {\r\n                            retain.push(event);\r\n                        }\r\n                    }\r\n                }\r\n                if (!retain.length) {\r\n                    delete _events[name];\r\n                }\r\n            }\r\n        }\r\n        return that;\r\n    };\r\n    that.once = function(name, listener, context){\r\n        let count = 0;\r\n        const onceCallback = function() {\r\n            if (count++) {\r\n                return;\r\n            }\r\n            that.off(name, onceCallback);\r\n            listener.apply(that, arguments);\r\n        };\r\n        onceCallback._listener = listener;\r\n        return that.on(name, onceCallback, context);\r\n    };\r\n\r\n    return that;\r\n}\r\n\r\nexport default EventEmitter;\r\n","/**\r\n * Created by hoho on 2018. 7. 23..\r\n */\r\nimport _ from \"underscore\";\r\n\r\n/**\r\n * @brief   It was replace jquery's selector. It Often used by OvenTemplate. (/view/engine/OvenTemplate.js)\r\n * @param   selectorOrElement  string or element\r\n *\r\n * */\r\n\r\n\r\nconst La$ = function(selectorOrElement){\r\n    const that = {};\r\n\r\n    let $element = null;\r\n\r\n    const returnNode = function($element , selector){\r\n        let nodeList =  $element.querySelectorAll(selector);\r\n        if(nodeList.length > 1){\r\n            return nodeList;\r\n        }else{\r\n            return nodeList[0];\r\n        }\r\n\r\n    };\r\n\r\n    if( _.isElement(selectorOrElement) || _.every(selectorOrElement, function(item){return _.isElement(item)})){\r\n        $element = selectorOrElement;\r\n    }else if(selectorOrElement === \"document\"){\r\n        $element = document;\r\n    }else if(selectorOrElement === \"window\"){\r\n        $element = window;\r\n    }else{\r\n        $element = returnNode(document, selectorOrElement);\r\n    }\r\n\r\n\r\n    if(!$element){\r\n        return null;\r\n    }\r\n\r\n    /*EFFECTS*/\r\n\r\n    that.show = () =>{\r\n        $element.style.display = 'block';\r\n    };\r\n\r\n    that.hide = () =>{\r\n        $element.style.display = 'none';\r\n    };\r\n\r\n    /*ELEMENTS*/\r\n\r\n    that.addClass = (name) =>{\r\n        if($element.classList){\r\n            $element.classList.add(name);\r\n        }else{\r\n            let classNames = $element.className.split(\" \");\r\n            if(classNames.indexOf(name) === -1){\r\n                $element.className += \" \" + name;\r\n            }\r\n        }\r\n    };\r\n\r\n    that.after = (htmlString) => {\r\n        $element.insertAdjacentHTML('afterend', htmlString);\r\n    };\r\n\r\n    that.append = (htmlString) => {\r\n        $element.appendChild(htmlString);\r\n    };\r\n\r\n    that.before = (htmlString) => {\r\n        $element.insertAdjacentHTML('beforebegin', htmlString);\r\n    };\r\n\r\n    that.children = () => {\r\n        return $element.children || [];\r\n    };\r\n\r\n    //The contains() method returns a Boolean value indicating whether a node is a descendant of a specified node.\r\n    //A descendant can be a child, grandchild, great-grandchild, and so on.\r\n    that.contains = (elChild) => {\r\n        return $element !== elChild && $element.contains(elChild);\r\n    };\r\n\r\n    that.empty = () => {\r\n        $element.innerHTML = \"\";\r\n    };\r\n\r\n\r\n    that.find = (selector) =>{\r\n        return La$(returnNode($element, selector));\r\n    };\r\n\r\n    that.css = (name, value) => {\r\n        if(value){\r\n            if($element.length > 0){\r\n                $element.forEach(function(element){\r\n                    element.style[name] = value;\r\n                })\r\n            }else{\r\n                $element.style[name] = value;\r\n            }\r\n        }else{\r\n            return $element.style[name];\r\n        }\r\n\r\n    };\r\n\r\n\r\n\r\n    that.removeClass = (name) =>{\r\n        if ($element.classList){\r\n            $element.classList.remove(name);\r\n        }else{\r\n            $element.className = $element.className.replace(new RegExp('(^|\\\\b)' + name.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\r\n\r\n        }\r\n    };\r\n\r\n    that.removeAttribute = (attrName) => {\r\n        $element.removeAttribute(attrName);\r\n    };\r\n\r\n\r\n\r\n    /*that.append = (htmlCode) =>{\r\n        $element.innerHTML += htmlCode;\r\n    };*/\r\n\r\n    that.text = (text) => { //IE8+\r\n        if(text === undefined){\r\n            return $element.textContent;\r\n        }else{\r\n            $element.textContent = text;\r\n        }\r\n    };\r\n    that.html = (htmlString) => {\r\n        $element.innerHTML = htmlString;\r\n    };\r\n    that.hasClass = (name) => { //IE8+\r\n        if($element.classList){\r\n            return $element.classList.contains(name);\r\n        }else{\r\n            return new RegExp('(^| )' + name + '( |$)', 'gi').test($element.name);\r\n        }\r\n    };\r\n\r\n    that.is = ($targetElement) => {\r\n        /*var matches = function(el, selector) {\r\n            return (el.matches || el.matchesSelector || el.msMatchesSelector || el.mozMatchesSelector || el.webkitMatchesSelector || el.oMatchesSelector).call(el, selector);\r\n        };\r\n\r\n        matches(el, '.my-class');*/\r\n        return $element === $targetElement;\r\n    };\r\n\r\n    that.offset = () =>{    //IE8+\r\n        const rect = $element.getBoundingClientRect();\r\n\r\n        return {\r\n            top: rect.top + document.body.scrollTop,\r\n            left: rect.left + document.body.scrollLeft\r\n        }\r\n    };\r\n\r\n    that.width = () => {    //IE8+\r\n        return $element.clientWidth;\r\n    };\r\n\r\n    that.height = () => {   //IE8+\r\n        return $element.clientHeight;\r\n    };\r\n\r\n    that.attr = (attr) => {\r\n        return $element.getAttribute(attr);\r\n    };\r\n\r\n    that.replace = (html) => {\r\n        $element.replaceWith(html);\r\n    };\r\n\r\n\r\n    that.remove = () => {\r\n        if($element.length > 1){\r\n            $element.parentElement.removeChild($element);\r\n        }else{\r\n            $element.remove();\r\n        }\r\n\r\n    };\r\n\r\n    that.removeChild = (element) => {\r\n        if(element){\r\n            $element.removeChild(element);\r\n        }else{\r\n            while ($element.hasChildNodes()) {\r\n                $element.removeChild($element.firstChild);\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n    that.get = () => {\r\n        return $element;\r\n    };\r\n\r\n    that.closest = (selectorString) => {\r\n\r\n        $element.closest = function (s) {\r\n\r\n            let el = $element;\r\n\r\n            do {\r\n\r\n                if (el.matches(s)) {\r\n                    return el;\r\n                }\r\n\r\n                el = el.parentElement || el.parentNode;\r\n\r\n            } while (el !== null && el.nodeType === 1);\r\n\r\n            return null;\r\n        };\r\n\r\n        let closestElement = $element.closest(selectorString);\r\n\r\n        if(closestElement){\r\n            return La$(closestElement);\r\n        }else{\r\n            return null;\r\n        }\r\n    };\r\n\r\n    return that;\r\n};\r\n\r\nexport default La$;\r\n","/**\r\n * @brief   미디어 엘리먼트를 관리하는 객체. 현재는 하는 일이 많지 않다.\r\n * @param   {element}   container   dom element\r\n *\r\n * */\r\nimport LA$ from \"utils/likeA$.js\";\r\nimport {version} from '@/version';\r\n\r\nconst Manager = function(container, browserInfo){\r\n    const that = {};\r\n    let $container = LA$(container);\r\n    let videoElement = \"\";\r\n\r\n    OvenPlayerConsole.log(\"MediaManager loaded. browser : \", browserInfo );\r\n\r\n    const createHtmlVideo = function(isLoop, isAutoStart){\r\n\r\n        videoElement = document.createElement('video');\r\n        videoElement.setAttribute('preload', 'auto');\r\n        videoElement.setAttribute('disableremoteplayback', '');\r\n        videoElement.setAttribute('webkit-playsinline', 'true');\r\n        videoElement.setAttribute('playsinline', 'true');\r\n        if(isLoop){\r\n            videoElement.setAttribute('loop', '');\r\n        }\r\n        if(isAutoStart) {\r\n            videoElement.setAttribute('autoplay', '');\r\n        }\r\n        $container.append(videoElement);\r\n\r\n        return videoElement;\r\n    };\r\n\r\n    that.createMedia = (providerName , playerConfig)  => {\r\n        // if(videoElement){\r\n        //     // that.empty();\r\n        //     //reuse video element.\r\n        //     //because playlist is auto next playing.\r\n        //     //Only same video element does not require User Interaction Error.\r\n        //     return videoElement;\r\n        // }else{\r\n        //     return createHtmlVideo(playerConfig.isLoop(), playerConfig.isAutoStart());\r\n        // }\r\n        that.empty();\r\n        return createHtmlVideo(playerConfig.isLoop(), playerConfig.isAutoStart());\r\n    }\r\n\r\n    that.createAdContainer = () => {\r\n        let adContainer = document.createElement('div');\r\n        adContainer.setAttribute('class', 'op-ads');\r\n        $container.append(adContainer);\r\n\r\n        return adContainer;\r\n    };\r\n\r\n\r\n    that.empty = () =>{\r\n        OvenPlayerConsole.log(\"MediaManager removeElement()\");\r\n        $container.removeChild(videoElement);\r\n        videoElement = null;\r\n    };\r\n\r\n    that.destroy = () =>{\r\n        $container.removeChild();\r\n        $container = null;\r\n        if(videoElement!=null && videoElement!=='') {\r\n            videoElement.srcObject = null;\r\n        }\r\n        videoElement = null;\r\n    };\r\n\r\n    return that;\r\n};\r\n\r\nexport default Manager;\r\n","import {extractExtension} from \"utils/strings\";\r\n\r\nexport const isRtmp = function (file, type) {\r\n    if (file) {\r\n        return (file.indexOf('rtmp:') == 0 || type == 'rtmp');\r\n    }\r\n};\r\nexport const isWebRTC = function (file, type) {\r\n    if (file) {\r\n        return (file.indexOf('ws:') === 0 || file.indexOf('wss:') === 0 || type === 'webrtc');\r\n    }\r\n    return false;\r\n};\r\nexport const isHls = function (file, type) {\r\n    if (file) {\r\n        return (type === 'hls' || type === 'm3u8' || type === 'application/vnd.apple.mpegurl' || extractExtension(file) == 'm3u8');\r\n\r\n    }\r\n};\r\nexport const isDash = function (file, type) {\r\n    if (file) {\r\n        return (type === 'mpd' || type === 'dash' || type === 'application/dash+xml' || extractExtension(file) == 'mpd');\r\n\r\n    }\r\n};\r\n\r\nexport const checkAndGetContainerElement = function (container) {\r\n    if (!container) {\r\n\r\n        return null;\r\n    }\r\n\r\n    let containerElement = null;\r\n\r\n    if (typeof container === 'string') {\r\n\r\n        containerElement = document.getElementById(container);\r\n    } else if (container.nodeType) {\r\n\r\n        containerElement = container;\r\n    } else {\r\n\r\n        return null;\r\n    }\r\n\r\n    return containerElement;\r\n};","import {isDash, isHls, isRtmp, isWebRTC} from \"utils/validator\";\r\nimport {analUserAgent} from \"utils/browser\";\r\n\r\n/**\r\n * @brief   This finds the provider that matches the input source.\r\n * @param\r\n * */\r\n\r\nconst SupportChecker = function(){\r\n    const that = {};\r\n    OvenPlayerConsole.log(\"SupportChecker loaded.\");\r\n    let userAgentObject = analUserAgent();\r\n\r\n    const supportList = [\r\n        {\r\n            name: 'html5',\r\n            checkSupport: function (source) {\r\n                const MimeTypes = {\r\n                    aac: 'audio/mp4',\r\n                    mp4: 'video/mp4',\r\n                    f4v: 'video/mp4',\r\n                    m4v: 'video/mp4',\r\n                    mov: 'video/mp4',\r\n                    mp3: 'audio/mpeg',\r\n                    mpeg: 'audio/mpeg',\r\n                    ogv: 'video/ogg',\r\n                    ogg: 'video/ogg',\r\n                    oga: 'video/ogg',\r\n                    vorbis: 'video/ogg',\r\n                    webm: 'video/webm',\r\n                    f4a: 'video/aac',\r\n                    m3u8: 'application/vnd.apple.mpegurl',\r\n                    m3u: 'application/vnd.apple.mpegurl',\r\n                    hls: 'application/vnd.apple.mpegurl'\r\n                };\r\n\r\n                const video = function(){\r\n                    return document.createElement('video')\r\n                }();\r\n                if (!video.canPlayType) {\r\n                    return false;\r\n                }\r\n\r\n\r\n                const file = source.file;\r\n                const type = source.type;\r\n                const overrideNative = source.overrideNative;\r\n\r\n                if(!type){return false;}\r\n\r\n                const mimeType = source.mimeType || MimeTypes[type];\r\n\r\n                // Use HLS native player on iOS only\r\n                if (isHls(file, type) && userAgentObject.os !== \"iOS\") {\r\n                    return false;\r\n                }\r\n\r\n                // Latest Edge browser returns \"Chrome\" from userAgentObject.browser\r\n                // Make sure to use hls.js Android devices\r\n                if (isHls(file, type) && (userAgentObject.browser === \"Microsoft Edge\" || userAgentObject.os === \"Android\")) {\r\n                    return false;\r\n                }\r\n\r\n                if (isHls(file, type) && overrideNative) {\r\n                    return false;\r\n                }\r\n\r\n                if (isRtmp(file, type)) {\r\n                    return false;\r\n                }\r\n\r\n                if (isWebRTC(file, type)) {\r\n                    return false;\r\n                }\r\n\r\n                if (!mimeType) {\r\n                    return false;\r\n                }\r\n\r\n                return !!video.canPlayType(mimeType);\r\n            }\r\n        },\r\n        {\r\n            name: 'webrtc',\r\n            checkSupport: function (source) {\r\n                const video = function(){\r\n                    return document.createElement('video')\r\n                }();\r\n                if (!video.canPlayType) {\r\n                    return false;\r\n                }\r\n\r\n                const file = source.file;\r\n                const type = source.type;\r\n\r\n                if (isRtmp(file, type)) {\r\n                  return false;\r\n                }\r\n\r\n                if(isWebRTC(file, type)){\r\n                    return true;\r\n                }else{\r\n                    return false;\r\n                }\r\n            }\r\n        },\r\n        {\r\n            name: 'dash',\r\n            checkSupport: function (source) {\r\n                const file = source.file;\r\n\r\n                const type = source.type;\r\n                if (isRtmp(file, type)) {\r\n                    return false;\r\n                }\r\n\r\n                if (typeof ( window.MediaSource || window.WebKitMediaSource ) === \"function\" && isDash(file, type)) {\r\n                    return true;\r\n                }else{\r\n                    return false;\r\n                }\r\n            }\r\n        },\r\n        {\r\n            name: 'hls',\r\n            checkSupport: function (source) {\r\n                const video = function(){\r\n                    return document.createElement('video')\r\n                }();\r\n                const file = source.file;\r\n                const type = source.type;\r\n                if (isRtmp(file, type)) {\r\n                    return false;\r\n                }\r\n\r\n                //this method from hls.js\r\n                const isHlsSupport = () =>{\r\n                     function getMediaSource() {\r\n                        if (typeof window !== 'undefined') {\r\n                            return window.MediaSource || window.WebKitMediaSource;\r\n                        }\r\n                    }\r\n                    var mediaSource = getMediaSource();\r\n                    var sourceBuffer = window.SourceBuffer || window.WebKitSourceBuffer;\r\n                    var isTypeSupported = mediaSource && typeof mediaSource.isTypeSupported === 'function' && mediaSource.isTypeSupported('video/mp4; codecs=\"avc1.42E01E,mp4a.40.2\"');\r\n\r\n                    // if SourceBuffer is exposed ensure its API is valid\r\n                    // safari and old version of Chrome doe not expose SourceBuffer globally so checking SourceBuffer.prototype is impossible\r\n                    var sourceBufferValidAPI = !sourceBuffer || sourceBuffer.prototype && typeof sourceBuffer.prototype.appendBuffer === 'function' && typeof sourceBuffer.prototype.remove === 'function';\r\n                    return !!isTypeSupported && !!sourceBufferValidAPI;\r\n                };\r\n                //Remove this '!!video.canPlayType('application/vnd.apple.mpegurl')' if you want to use hlsjs.\r\n                //Yes I need hlsjs. 2019-06-12 && !!video.canPlayType('application/vnd.apple.mpegurl');\r\n                return isHlsSupport();\r\n            }\r\n        },\r\n        {\r\n            name: 'rtmp',\r\n            checkSupport: function (source) {\r\n                const file = source.file;\r\n                const type = source.type;\r\n                function testFlash() {\r\n\r\n                    var support = false;\r\n\r\n                    //IE only\r\n                    if(\"ActiveXObject\" in window) {\r\n\r\n                        try{\r\n                            support = !!(new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash\"));\r\n                        }catch(e){\r\n                            support = false;\r\n                        }\r\n\r\n                        //W3C, better support in legacy browser\r\n                    } else {\r\n\r\n                        support = !!navigator.mimeTypes['application/x-shockwave-flash'];\r\n\r\n                    }\r\n\r\n                    return support;\r\n\r\n                }\r\n                function checkSupport(){\r\n                    if(userAgentObject.browser === \"Microsoft Edge\" || userAgentObject.os === \"Android\" || userAgentObject.os === \"iOS\"  || userAgentObject.browser === \"Safari\"){\r\n                        return false;\r\n                    }else{\r\n                        return true;\r\n                    }\r\n                }\r\n                if (isRtmp(file, type) && testFlash() && checkSupport()) {\r\n                    return true;\r\n                }else{\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n    ];\r\n\r\n    that.findProviderNameBySource = (soruce_) => {\r\n        OvenPlayerConsole.log(\"SupportChecker : findProviderNameBySource()\", soruce_);\r\n        const source = (soruce_ === Object(soruce_)) ? soruce_ : {};\r\n        for(var i = 0; i < supportList.length; i ++){\r\n            if(supportList[i].checkSupport(source)){\r\n                return supportList[i].name;\r\n            }\r\n        }\r\n    };\r\n    that.findProviderNamesByPlaylist = (playlistItem) => {\r\n        OvenPlayerConsole.log(\"SupportChecker : findProviderNamesByPlaylist()\", playlistItem);\r\n        let supportNames = [];\r\n        /*for (let i = playlist_.length; i--;) {\r\n\r\n\r\n        }*/\r\n        const item = playlistItem;\r\n\r\n        if(item && item.sources){\r\n            for(let j = 0; j < item.sources.length; j ++){\r\n                let source = item.sources[j];\r\n                if (source) {\r\n                    const supported = that.findProviderNameBySource(source);\r\n                    if (supported) {\r\n                        supportNames.push(supported);\r\n                    }\r\n                }\r\n            }\r\n\r\n            return supportNames;\r\n        }\r\n        return null;\r\n\r\n    };\r\n    return that;\r\n};\r\n\r\nexport default SupportChecker;\r\n","import _ from \"underscore\";\r\nimport {isDash, isHls, isRtmp, isWebRTC} from \"utils/validator\";\r\nimport {extractExtension, trim} from \"utils/strings\";\r\nimport SupportChecker from \"../SupportChecker\";\r\nimport {PLAYLIST_CHANGED} from \"api/constants\";\r\n\r\n/**\r\n * @brief   This manages Playlist or Sources.\r\n * @param\r\n *\r\n * */\r\nconst Manager = function(provider){\r\n    const that = {};\r\n    let currentPlaylistItem = [];\r\n    let spec = {\r\n        playlist : [],\r\n        currentIndex : 0\r\n    };\r\n    let supportChecker = SupportChecker();\r\n\r\n    OvenPlayerConsole.log(\"PlaylistManager loaded.\");\r\n\r\n    const makePrettySource = function(source_){\r\n        if (!source_ || !source_.file && !(source_.host || source_.application || source_.stream)) {\r\n            return;\r\n        }\r\n\r\n        let source = Object.assign({}, { 'default': false }, source_);\r\n        source.file = trim('' + source.file);\r\n\r\n        if(source.host && source.application && source.stream){\r\n            source.file = source.host + \"/\" + source.application + \"/stream/\" + source.stream;\r\n            delete source.host;\r\n            delete source.application;\r\n            delete source.stream;\r\n        }\r\n\r\n        const mimetypeRegEx = /^[^/]+\\/(?:x-)?([^/]+)$/;\r\n\r\n        if (mimetypeRegEx.test(source.type)) {\r\n            // if type is given as a mimetype\r\n            source.mimeType = source.type;\r\n            source.type = source.type.replace(mimetypeRegEx, '$1');\r\n        }\r\n\r\n        if(isRtmp(source.file)){\r\n            source.type = 'rtmp';\r\n        }else if(isWebRTC(source.file)){\r\n            source.type = 'webrtc';\r\n        }else if(isHls(source.file, source.type)){\r\n            source.type = 'hls';\r\n        }else if(isDash(source.file, source.type)){\r\n            source.type = 'dash';\r\n        }else if (!source.type) {\r\n            source.type = extractExtension(source.file);\r\n        }\r\n\r\n        if (source.lowLatency) {\r\n            source.lowLatency = source.lowLatency;\r\n        }\r\n\r\n        if (!source.type) {\r\n            return;\r\n        }\r\n\r\n        // normalize types\r\n        switch (source.type) {\r\n            case 'm3u8':\r\n            case 'vnd.apple.mpegurl':\r\n                source.type = 'hls';\r\n                break;\r\n            case 'm4a':\r\n                source.type = 'aac';\r\n                break;\r\n            case 'smil':\r\n                source.type = 'rtmp';\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        Object.keys(source).forEach(function(key) {\r\n            if (source[key] === '') {\r\n                delete source[key];\r\n            }\r\n        });\r\n\r\n        return source;\r\n\r\n    }\r\n\r\n    that.initPlaylist =(playlist, playerConfig) =>{\r\n\r\n        OvenPlayerConsole.log(\"PlaylistManager setPlaylist() \", playlist);\r\n        const prettiedPlaylist = (_.isArray(playlist) ? playlist : [playlist]).map(function(item){\r\n            if(!_.isArray(item.tracks)) {\r\n                delete item.tracks;\r\n            }\r\n            let playlistItem = Object.assign({},{\r\n                sources: [],\r\n                tracks: [],\r\n                title : \"\"\r\n            }, item );\r\n\r\n            if((playlistItem.sources === Object(playlistItem.sources)) && !_.isArray(playlistItem.sources)) {\r\n                playlistItem.sources = [makePrettySource(playlistItem.sources)];\r\n            }\r\n\r\n            if (!_.isArray(playlistItem.sources) || playlistItem.sources.length === 0) {\r\n                playlistItem.sources = [makePrettySource(playlistItem)];\r\n            }\r\n\r\n            if(!_.isArray(playlistItem.sources) || playlistItem.sources.length === 0) {\r\n                if (item.levels) {\r\n                    playlistItem.sources = item.levels;\r\n                } else {\r\n                    playlistItem.sources = [makePrettySource(item)];\r\n                }\r\n            }\r\n\r\n\r\n            for(let i = 0; i < playlistItem.sources.length; i++) {\r\n                let source = playlistItem.sources[i];\r\n                let prettySource = \"\";\r\n                if (!source) {\r\n                    continue;\r\n                }\r\n\r\n                let defaultSource = source.default;\r\n                if (defaultSource) {\r\n                    source.default = (defaultSource.toString() === 'true');\r\n                } else {\r\n                    source.default = false;\r\n                }\r\n\r\n                // If the source doesn't have a label, number it\r\n                if (!playlistItem.sources[i].label) {\r\n                    playlistItem.sources[i].label = playlistItem.sources[i].type+\"-\"+i.toString();\r\n                }\r\n\r\n                prettySource = makePrettySource(playlistItem.sources[i]);\r\n                if(supportChecker.findProviderNameBySource(prettySource)){\r\n                    playlistItem.sources[i] = prettySource;\r\n                }else{\r\n                    playlistItem.sources[i] = null;\r\n                }\r\n            }\r\n\r\n            playlistItem.sources = playlistItem.sources.filter(source => !!source);\r\n\r\n            if(!playlistItem.title &&  playlistItem.sources[0] && playlistItem.sources[0].label){\r\n                playlistItem.title = playlistItem.sources[0].label;\r\n            }\r\n\r\n            function extractOnlyOneProtocol(sources){\r\n                if(!!sources){\r\n                    let highPriorityType = playlistItem.sources[0].type;\r\n\r\n                    return _.filter(sources, {type : highPriorityType});\r\n                }\r\n            }\r\n\r\n            if(playerConfig.isCurrentProtocolOnly()){\r\n                playlistItem.sources = extractOnlyOneProtocol(playlistItem.sources);\r\n            }\r\n\r\n            if(!_.isArray(playlistItem.tracks)){\r\n                playlistItem.tracks = [];\r\n            }\r\n            if(_.isArray(playlistItem.captions)){\r\n                playlistItem.tracks = playlistItem.tracks.concat(playlistItem.captions);\r\n                delete playlistItem.captions;\r\n            }\r\n\r\n            playlistItem.tracks = playlistItem.tracks.map(function(track){\r\n                if(!track || !track.file){\r\n                    return false;\r\n                }\r\n                return Object.assign({}, {\r\n                    'kind': 'captions',\r\n                    'default': false\r\n                }, track);\r\n            }).filter(track => !!track);\r\n            return playlistItem;\r\n        }).filter(function(item){return item.sources && item.sources.length > 0;})||[];\r\n        spec.playlist = prettiedPlaylist;\r\n        return prettiedPlaylist;\r\n    };\r\n    that.getPlaylist = () => {\r\n        OvenPlayerConsole.log(\"PlaylistManager getPlaylist() \", spec.playlist);\r\n        return spec.playlist;\r\n    };\r\n    that.getCurrentPlayList = () => {\r\n        if(spec.playlist[spec.currentIndex]){\r\n            return spec.playlist[spec.currentIndex];\r\n        }else{\r\n            return [];\r\n        }\r\n    };\r\n    that.getCurrentPlaylistIndex = () => {\r\n        return spec.currentIndex;\r\n    };\r\n    that.setCurrentPlaylist = (index) => {\r\n        if(spec.playlist[index]){\r\n            spec.currentIndex = index;\r\n            provider.trigger(PLAYLIST_CHANGED, spec.currentIndex);\r\n        }\r\n        return spec.currentIndex;\r\n    };\r\n    that.getCurrentSources = () => {\r\n        if(spec.playlist[spec.currentIndex]){\r\n            OvenPlayerConsole.log(\"PlaylistManager getCurrentSources() \", spec.playlist[spec.currentIndex].sources);\r\n            return spec.playlist[spec.currentIndex].sources;\r\n        }else{\r\n            return null;\r\n        }\r\n\r\n    };\r\n    that.getCurrentAdTag = () => {\r\n        if(spec.playlist[spec.currentIndex]){\r\n            return spec.playlist[spec.currentIndex].adTagUrl || \"\";\r\n        }\r\n    };\r\n\r\n    return that;\r\n};\r\n\r\n\r\nexport default Manager;\r\n","/**\r\n * Created by hoho on 10/04/2019.\r\n */\r\n\r\nimport {\r\n  AD_CHANGED,\r\n  AD_TIME,\r\n  PLAYER_AD_CLICK,\r\n  PLAYER_CLICKED,\r\n  STATE_AD_COMPLETE,\r\n  STATE_AD_LOADED,\r\n  STATE_AD_PAUSED,\r\n  STATE_AD_PLAYING,\r\n  STATE_COMPLETE\r\n} from \"api/constants\";\r\n\r\nconst Listener = function(adsManager, provider, adsSpec, OnAdError){\r\n    let that = {};\r\n    let lowLevelEvents = {};\r\n\r\n    let intervalTimer = null;\r\n\r\n    const AD_BUFFERING = google.ima.AdEvent.Type.AD_BUFFERING;\r\n    const CONTENT_PAUSE_REQUESTED = google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED;\r\n    const CONTENT_RESUME_REQUESTED = google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED;\r\n    const AD_ERROR = google.ima.AdErrorEvent.Type.AD_ERROR;\r\n    const ALL_ADS_COMPLETED = google.ima.AdEvent.Type.ALL_ADS_COMPLETED;\r\n    const CLICK = google.ima.AdEvent.Type.CLICK;\r\n    const SKIPPED = google.ima.AdEvent.Type.SKIPPED;\r\n    const COMPLETE = google.ima.AdEvent.Type.COMPLETE;\r\n    const FIRST_QUARTILE= google.ima.AdEvent.Type.FIRST_QUARTILE;\r\n    const LOADED = google.ima.AdEvent.Type.LOADED;\r\n    const MIDPOINT= google.ima.AdEvent.Type.MIDPOINT;\r\n    const PAUSED = google.ima.AdEvent.Type.PAUSED;\r\n    const RESUMED = google.ima.AdEvent.Type.RESUMED;\r\n    const STARTED = google.ima.AdEvent.Type.STARTED;\r\n    const USER_CLOSE = google.ima.AdEvent.Type.USER_CLOSE;\r\n    const THIRD_QUARTILE = google.ima.AdEvent.Type.THIRD_QUARTILE;\r\n\r\n    let isAllAdCompelete = false;   //Post roll을 위해\r\n    let adCompleteCallback = null;\r\n    let currentAd = null;\r\n    OvenPlayerConsole.log(\"IMA : Listener Created\");\r\n     lowLevelEvents[CONTENT_PAUSE_REQUESTED] = (adEvent) => {\r\n         OvenPlayerConsole.log(\"IMA LISTENER : \", adEvent.type);\r\n\r\n         //This callls when player is playing contents for ad.\r\n         if(adsSpec.started){\r\n             adsSpec.active = true;\r\n             provider.pause();\r\n         }\r\n\r\n    };\r\n\r\n    lowLevelEvents[CONTENT_RESUME_REQUESTED] = (adEvent) => {\r\n        OvenPlayerConsole.log(\"IMA LISTENER : \", adEvent.type);\r\n        //This calls when one ad ended.\r\n        //And this is signal what play the contents.\r\n        adsSpec.active = false;\r\n\r\n        if(adsSpec.started && (provider.getPosition() === 0 || !adsSpec.isVideoEnded)  ){\r\n            provider.play();\r\n        }\r\n\r\n    };\r\n    lowLevelEvents[AD_ERROR] = (adEvent) => {\r\n        isAllAdCompelete = true;\r\n        OnAdError(adEvent);\r\n    } ;\r\n\r\n    lowLevelEvents[ALL_ADS_COMPLETED] = (adEvent) => {\r\n        OvenPlayerConsole.log(\"IMA LISTENER : \", adEvent.type);\r\n\r\n        isAllAdCompelete = true;\r\n        if(adsSpec.isVideoEnded){\r\n            provider.setState(STATE_COMPLETE);\r\n        }\r\n    };\r\n    lowLevelEvents[CLICK] = (adEvent) => {\r\n        OvenPlayerConsole.log(adEvent.type);\r\n        provider.trigger(PLAYER_CLICKED, {type : PLAYER_AD_CLICK});\r\n    };\r\n    lowLevelEvents[FIRST_QUARTILE] = (adEvent) => {\r\n        OvenPlayerConsole.log(adEvent.type);\r\n    };\r\n    //\r\n    lowLevelEvents[AD_BUFFERING] = (adEvent) => {\r\n        OvenPlayerConsole.log(\"AD_BUFFERING\",adEvent.type);\r\n    };\r\n    lowLevelEvents[LOADED] = (adEvent) => {\r\n        OvenPlayerConsole.log(adEvent.type);\r\n        let remainingTime = adsManager.getRemainingTime();\r\n        let ad = adEvent.getAd();\r\n        provider.trigger(STATE_AD_LOADED, {remaining : remainingTime, isLinear : ad.isLinear() });\r\n\r\n    };\r\n    lowLevelEvents[MIDPOINT] = (adEvent) => {\r\n        OvenPlayerConsole.log(adEvent.type);\r\n    };\r\n    lowLevelEvents[PAUSED] = (adEvent) => {\r\n        OvenPlayerConsole.log(adEvent.type);\r\n        provider.setState(STATE_AD_PAUSED);\r\n    };\r\n    lowLevelEvents[RESUMED] = (adEvent) => {\r\n        OvenPlayerConsole.log(adEvent.type);\r\n        provider.setState(STATE_AD_PLAYING);\r\n    };\r\n\r\n\r\n    lowLevelEvents[STARTED] = (adEvent) => {\r\n        OvenPlayerConsole.log(adEvent.type);\r\n        let ad = adEvent.getAd();\r\n        currentAd = ad;\r\n\r\n        let adObject = {\r\n            isLinear : ad.isLinear() ,\r\n            duration : ad.getDuration(),\r\n            skipTimeOffset : ad.getSkipTimeOffset()     //The number of seconds of playback before the ad becomes skippable.\r\n        };\r\n        provider.trigger(AD_CHANGED, adObject);\r\n\r\n\r\n        if (ad.isLinear()) {\r\n\r\n            provider.setState(STATE_AD_PLAYING);\r\n            adsSpec.started = true;\r\n            // For a linear ad, a timer can be started to poll for\r\n            // the remaining time.\r\n            intervalTimer = setInterval(\r\n                function() {\r\n                    let remainingTime = adsManager.getRemainingTime();\r\n                    let duration = ad.getDuration();\r\n\r\n                    provider.trigger(AD_TIME, {\r\n                        duration : duration,\r\n                        skipTimeOffset : ad.getSkipTimeOffset(),\r\n                        remaining : remainingTime,\r\n                        position : duration - remainingTime,\r\n                        skippable : adsManager.getAdSkippableState()\r\n                    });\r\n                },\r\n                300); // every 300ms\r\n        }else{\r\n            provider.play();\r\n        }\r\n    };\r\n    lowLevelEvents[COMPLETE] = (adEvent) => {\r\n        OvenPlayerConsole.log(adEvent.type);\r\n        let ad = adEvent.getAd();\r\n        if (ad.isLinear()) {\r\n            clearInterval(intervalTimer);\r\n        }\r\n        provider.trigger(STATE_AD_COMPLETE);\r\n    };\r\n    //User skipped ad. same process on complete.\r\n    lowLevelEvents[SKIPPED] = (adEvent) => {\r\n        OvenPlayerConsole.log(adEvent.type);\r\n\r\n        let ad = adEvent.getAd();\r\n        if (ad.isLinear()) {\r\n            clearInterval(intervalTimer);\r\n        }\r\n        provider.trigger(STATE_AD_COMPLETE);\r\n    };\r\n    lowLevelEvents[USER_CLOSE] = (adEvent) => {\r\n        OvenPlayerConsole.log(adEvent.type);\r\n        let ad = adEvent.getAd();\r\n        if (ad.isLinear()) {\r\n            clearInterval(intervalTimer);\r\n        }\r\n        provider.trigger(STATE_AD_COMPLETE);\r\n    };\r\n    lowLevelEvents[THIRD_QUARTILE] = (adEvent) => {\r\n        OvenPlayerConsole.log(adEvent.type);\r\n    };\r\n\r\n\r\n    Object.keys(lowLevelEvents).forEach(eventName => {\r\n        adsManager.removeEventListener(eventName, lowLevelEvents[eventName]);\r\n        adsManager.addEventListener(eventName, lowLevelEvents[eventName]);\r\n    });\r\n    that.setAdCompleteCallback = (_adCompleteCallback) => {\r\n        adCompleteCallback = _adCompleteCallback;\r\n    };\r\n    that.isAllAdComplete = () => {\r\n        return isAllAdCompelete;\r\n    };\r\n    that.isLinearAd = () => {\r\n        return currentAd  ? currentAd.isLinear() : true;\r\n    };\r\n    that.destroy = () =>{\r\n        OvenPlayerConsole.log(\"IMAEventListener : destroy()\");\r\n        //provider.trigger(STATE_AD_COMPLETE);\r\n        Object.keys(lowLevelEvents).forEach(eventName => {\r\n            adsManager.removeEventListener(eventName, lowLevelEvents[eventName]);\r\n        });\r\n    };\r\n    return that;\r\n\r\n};\r\n\r\nexport default Listener;\r\n","/**\r\n * Created by hoho on 27/06/2019.\r\n */\r\nexport const TEMP_VIDEO_URL = \"data:video/mp4;base64, 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\";\r\n","/**\r\n * Created by hoho on 08/04/2019.\r\n */\r\nimport AdsEventsListener from \"api/ads/ima/Listener\";\r\nimport {TEMP_VIDEO_URL} from \"api/ads/utils\";\r\nimport LA$ from \"utils/likeA$.js\";\r\nimport {\r\n  CONTENT_VOLUME,\r\n  PLAYER_WARNING,\r\n  PROVIDER_DASH,\r\n  STATE_AD_ERROR,\r\n  UI_ICONS,\r\n  WARN_MSG_MUTEDPLAY\r\n} from \"api/constants\";\r\n\r\nconst Ad = function(elVideo, provider, playerConfig, adTagUrl, errorCallback){\r\n    //Todo : move createAdContainer to MediaManager\r\n    const AUTOPLAY_NOT_ALLOWED = \"autoplayNotAllowed\";\r\n    const ADMANGER_LOADING_ERROR = \"admanagerLoadingTimeout\";\r\n    let ADS_MANAGER_LOADED = \"\";\r\n    let AD_ERROR = \"\";\r\n\r\n    let that = {};\r\n    let adsManagerLoaded = false;\r\n    let adsErrorOccurred = false;\r\n    let spec = {\r\n        started: false, //player started\r\n        active : false, //on Ad\r\n        isVideoEnded : false\r\n    };\r\n    let OnManagerLoaded = null;\r\n    let OnAdError = null;\r\n\r\n    let adDisplayContainer = null;\r\n    let adsLoader = null;\r\n    let adsManager = null;\r\n    let listener = null;\r\n    let adsRequest = null;\r\n    let autoplayAllowed = false, autoplayRequiresMuted = false;\r\n    let browser = playerConfig.getBrowser();\r\n    let isMobile = browser.os === \"Android\" || browser.os === \"iOS\";\r\n\r\n    let adDisplayContainerInitialized = false;\r\n\r\n    // google.ima.settings.setAutoPlayAdBreaks(false);\r\n    //google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED);\r\n\r\n    //google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED);\r\n    //google.ima.settings.setDisableCustomPlaybackForIOS10Plus(true);\r\n    const sendWarningMessageForMutedPlay = function(){\r\n        provider.trigger(PLAYER_WARNING, {\r\n            message : WARN_MSG_MUTEDPLAY,\r\n            timer : 10 * 1000,\r\n            iconClass : UI_ICONS.volume_mute,\r\n            onClickCallback : function(){\r\n                provider.setMute(false);\r\n            }\r\n        });\r\n    };\r\n    OvenPlayerConsole.log(\"IMA : started \", \"isMobile : \", isMobile, adTagUrl);\r\n\r\n    try{\r\n        ADS_MANAGER_LOADED = google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED;\r\n        AD_ERROR = google.ima.AdErrorEvent.Type.AD_ERROR;\r\n        google.ima.settings.setLocale(playerConfig.getLanguage());\r\n        google.ima.settings.setDisableCustomPlaybackForIOS10Plus(true);\r\n\r\n        const createAdContainer = () => {\r\n            let adContainer = document.createElement('div');\r\n            adContainer.setAttribute('class', 'op-ads');\r\n            adContainer.setAttribute('id', 'op-ads');\r\n            playerConfig.getContainer().append(adContainer);\r\n\r\n            return adContainer;\r\n        };\r\n        OnAdError = function(adErrorEvent){\r\n            //note : adErrorEvent.getError().getInnerError().getErrorCode() === 1205 & adErrorEvent.getError().getVastErrorCode() === 400 is Browser User Interactive error.\r\n\r\n            //Do not triggering ERROR. becuase It just AD!\r\n\r\n            console.log(adErrorEvent.getError().getVastErrorCode(), adErrorEvent.getError().getMessage());\r\n            adsErrorOccurred = true;\r\n            let innerError = adErrorEvent.getError().getInnerError();\r\n            if(innerError){\r\n                try {\r\n                    console.log(innerError.getErrorCode(), innerError.getMessage());\r\n                } catch (error) { }\r\n            }\r\n            /*if (adsManager) {\r\n                adsManager.destroy();\r\n            }*/\r\n            provider.trigger(STATE_AD_ERROR, {code : adErrorEvent.getError().getVastErrorCode() , message : adErrorEvent.getError().getMessage()});\r\n            spec.active = false;\r\n            spec.started = true;\r\n            provider.play();\r\n\r\n            /*if(innerError && innerError.getErrorCode() === 1205){\r\n             }else{\r\n\r\n             }*/\r\n\r\n\r\n        };\r\n        OnManagerLoaded = function(adsManagerLoadedEvent){\r\n\r\n            OvenPlayerConsole.log(\"IMA : OnManagerLoaded \");\r\n            let adsRenderingSettings = new google.ima.AdsRenderingSettings();\r\n            adsRenderingSettings.restoreCustomPlaybackStateOnAdBreakComplete = true;\r\n            //adsRenderingSettings.useStyledNonLinearAds = true;\r\n            if(adsManager){\r\n                OvenPlayerConsole.log(\"IMA : destroy adsManager----\");\r\n                listener.destroy();\r\n                listener = null;\r\n                adsManager.destroy();\r\n                adsManager = null;\r\n            }\r\n            adsManager = adsManagerLoadedEvent.getAdsManager(elVideo, adsRenderingSettings);\r\n\r\n            listener = AdsEventsListener(adsManager, provider, spec, OnAdError);\r\n\r\n            OvenPlayerConsole.log(\"IMA : created admanager and listner \");\r\n\r\n            adsManagerLoaded = true;\r\n        };\r\n        let adConatinerElment = createAdContainer();\r\n        adDisplayContainer = new google.ima.AdDisplayContainer(adConatinerElment, elVideo);\r\n        adsLoader = new google.ima.AdsLoader(adDisplayContainer);\r\n\r\n        adsLoader.addEventListener(ADS_MANAGER_LOADED, OnManagerLoaded, false);\r\n        adsLoader.addEventListener(AD_ERROR, OnAdError, false);\r\n\r\n        OvenPlayerConsole.log(\"IMA : adDisplayContainer initialized\");\r\n        provider.on(CONTENT_VOLUME, function(data) {\r\n            if(adsManager){\r\n                if(data.mute){\r\n                    adsManager.setVolume(0);\r\n                }else{\r\n                    adsManager.setVolume(data.volume/100);\r\n                }\r\n            }\r\n        }, that);\r\n\r\n        const setAutoPlayToAdsRequest = function (){\r\n            if(adsRequest){\r\n                OvenPlayerConsole.log(\"IMA : setADWillAutoPlay \", \"autoplayAllowed\",autoplayAllowed, \"autoplayRequiresMuted\",autoplayRequiresMuted);\r\n\r\n                adsRequest.setAdWillAutoPlay(autoplayAllowed);\r\n                adsRequest.setAdWillPlayMuted(autoplayRequiresMuted);\r\n                if(autoplayRequiresMuted){\r\n                    sendWarningMessageForMutedPlay();\r\n                }\r\n            }\r\n        };\r\n\r\n        const initRequest = function(){\r\n            adsManagerLoaded = false;\r\n            OvenPlayerConsole.log(\"IMA : initRequest() AutoPlay Support : \", \"autoplayAllowed\",autoplayAllowed, \"autoplayRequiresMuted\",autoplayRequiresMuted);\r\n            /*if(adsRequest){\r\n             return false;\r\n             }*/\r\n            adsRequest = new google.ima.AdsRequest();\r\n\r\n            adsRequest.forceNonLinearFullSlot = false;\r\n            /*if(playerConfig.getBrowser().browser === \"Safari\" && playerConfig.getBrowser().os === \"iOS\" ){\r\n             autoplayAllowed = false;\r\n             autoplayRequiresMuted = false;\r\n             }*/\r\n\r\n            setAutoPlayToAdsRequest();\r\n            adsRequest.adTagUrl = adTagUrl;\r\n\r\n            adsLoader.requestAds(adsRequest);\r\n            OvenPlayerConsole.log(\"IMA : requestAds Complete\");\r\n            //two way what ad starts.\r\n            //adsLoader.requestAds(adsRequest); or  adsManager.start();\r\n            //what? why?? wth??\r\n        };\r\n\r\n\r\n        const checkAutoplaySupport = function () {\r\n            OvenPlayerConsole.log(\"IMA : checkAutoplaySupport() \");\r\n\r\n            let temporarySupportCheckVideo = document.createElement('video');\r\n            temporarySupportCheckVideo.setAttribute('playsinline', 'true');\r\n            temporarySupportCheckVideo.src = TEMP_VIDEO_URL;\r\n            temporarySupportCheckVideo.load();\r\n\r\n            //Dash has already loaded when triggered provider.play() always.\r\n            if(isMobile && provider.getName() !== PROVIDER_DASH ){\r\n                //Main video sets user gesture when temporarySupportCheckVideo triggered checking.\r\n                elVideo.load();\r\n            }\r\n            /* Different browser-specific ways to delivery UI to other elements.  My Guess. 2019-06-19\r\n            *   (temporarySupportCheckVideo's User Interaction delivery to elVideo.)\r\n            *   Mobile Chrome WebView :\r\n            *   You have to run elVideo.load() when temporarySupportCheckVideo issues within 5 seconds of user interaction.\r\n            *\r\n            *   Mobile ios safari :\r\n            *   You have to run elVideo.load() before temporarySupportCheckVideo run play().\r\n            * */\r\n\r\n            const clearAndReport = function(_autoplayAllowed, _autoplayRequiresMuted){\r\n                autoplayAllowed = _autoplayAllowed;\r\n                autoplayRequiresMuted = _autoplayRequiresMuted;\r\n                temporarySupportCheckVideo.pause();\r\n                temporarySupportCheckVideo.remove();\r\n\r\n                setAutoPlayToAdsRequest();\r\n            };\r\n\r\n            return new Promise(function(resolve, reject){\r\n                if(!temporarySupportCheckVideo.play){\r\n                    //I can't remember this case...\r\n                    OvenPlayerConsole.log(\"IMA : !temporarySupportCheckVideo.play\");\r\n                    clearAndReport(true, false);\r\n                    resolve();\r\n                }else{\r\n                    let playPromise = temporarySupportCheckVideo.play();\r\n                    if (playPromise !== undefined) {\r\n                        playPromise.then(function(){\r\n                            OvenPlayerConsole.log(\"IMA : auto play allowed.\");\r\n                            // If we make it here, unmuted autoplay works.\r\n                            clearAndReport(true, false);\r\n                            resolve();\r\n\r\n                        }).catch(function(error){\r\n\r\n                            OvenPlayerConsole.log(\"IMA : auto play failed\", error.message);\r\n                            clearAndReport(false, false);\r\n                            resolve();\r\n\r\n\r\n                            //Disable Muted Play\r\n                            /*temporarySupportCheckVideo.muted = true;\r\n                            temporarySupportCheckVideo.volume = 0;\r\n                            playPromise = temporarySupportCheckVideo.play();\r\n\r\n                            playPromise.then(function () {\r\n                                // If we make it here, muted autoplay works but unmuted autoplay does not.\r\n\r\n                                OvenPlayerConsole.log(\"ADS : muted auto play success.\");\r\n                                provider.setMute(true);\r\n                                clearAndReport(true, true);\r\n                                resolve();\r\n\r\n                            }).catch(function (error) {\r\n                                OvenPlayerConsole.log(\"ADS : muted auto play failed\", error.message);\r\n                                clearAndReport(false, false);\r\n                                resolve();\r\n                            });*/\r\n                        });\r\n                    }else{\r\n                        OvenPlayerConsole.log(\"IMA : promise not support\");\r\n                        //Maybe this is IE11....\r\n                        clearAndReport(true, false);\r\n                        resolve();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        that.isActive = () => {\r\n            return spec.active;\r\n        };\r\n        that.started = () => {\r\n            return spec.started;\r\n        };\r\n        that.play = () => {\r\n            if(spec.started){\r\n                return new Promise(function (resolve, reject) {\r\n                    try{\r\n                        adsManager.resume();\r\n                        resolve();\r\n                    } catch (error){\r\n                        reject(error);\r\n                    }\r\n                });\r\n            }else{\r\n                adDisplayContainer.initialize();\r\n\r\n                return new Promise(function (resolve, reject) {\r\n                    let retryCount = 0;\r\n                    const checkAdsManagerIsReady = function(){\r\n                        retryCount ++;\r\n                        if(adsManagerLoaded){\r\n                            OvenPlayerConsole.log(\"IMA : ad start!\");\r\n                            adsManager.init(\"100%\", \"100%\", google.ima.ViewMode.NORMAL);\r\n                            adsManager.start();\r\n                            spec.started = true;\r\n\r\n                            resolve();\r\n                        }else{\r\n                            if(adsErrorOccurred){\r\n                                reject(new Error(ADMANGER_LOADING_ERROR));\r\n                            }else{\r\n                                if(retryCount < 150){\r\n                                    setTimeout(checkAdsManagerIsReady, 100);\r\n                                }else{\r\n                                    reject(new Error(ADMANGER_LOADING_ERROR));\r\n                                }\r\n                            }\r\n\r\n                        }\r\n\r\n                    };\r\n                    checkAutoplaySupport().then(function () {\r\n                        if( (playerConfig.isAutoStart() && !autoplayAllowed) ){\r\n                            OvenPlayerConsole.log(\"IMA : autoplayAllowed : false\");\r\n                            spec.started = false;\r\n                            reject(new Error(AUTOPLAY_NOT_ALLOWED));\r\n                        }else{\r\n                            initRequest();\r\n                            checkAdsManagerIsReady();\r\n                        }\r\n                    });\r\n                });\r\n\r\n\r\n            }\r\n        };\r\n        that.pause = () => {\r\n            adsManager.pause();\r\n        };\r\n        that.videoEndedCallback = (completeContentCallback) => {\r\n            //listener.isLinearAd : get current ad's status whether linear ad or not.\r\n            if(listener && (listener.isAllAdComplete() || !listener.isLinearAd())){\r\n                completeContentCallback();\r\n            }else if(adsErrorOccurred){\r\n                completeContentCallback();\r\n            }else{\r\n                //If you need play the post-roll, you have to call to adsLoader when contents was completed.\r\n                spec.isVideoEnded = true;\r\n                adsLoader.contentComplete();\r\n            }\r\n        };\r\n\r\n        that.destroy = () => {\r\n\r\n            if(adsLoader){\r\n                adsLoader.removeEventListener(ADS_MANAGER_LOADED, OnManagerLoaded);\r\n                adsLoader.removeEventListener(AD_ERROR, OnAdError);\r\n            }\r\n\r\n            if(adsManager){\r\n                adsManager.destroy();\r\n            }\r\n\r\n            if(adDisplayContainer){\r\n                adDisplayContainer.destroy();\r\n            }\r\n\r\n            if(listener){\r\n                listener.destroy();\r\n            }\r\n\r\n            let $ads = LA$(playerConfig.getContainer()).find(\".op-ads\");\r\n            if($ads){\r\n                $ads.remove();\r\n            }\r\n\r\n            provider.off(CONTENT_VOLUME, null, that);\r\n        };\r\n\r\n        return that;\r\n    }catch (error){\r\n        //let tempError = ERRORS[INIT_ADS_ERROR];\r\n        //tempError.error = error;\r\n        //errorCallback(tempError);\r\n        return null;\r\n    }\r\n\r\n\r\n};\r\n\r\n\r\nexport default Ad;\r\n\r\n","function e(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:e.id||null,adId:e.adId||null,sequence:e.sequence||null,apiFramework:e.apiFramework||null,universalAdIds:[],creativeExtensions:[]}}const t=[\"ADCATEGORIES\",\"ADCOUNT\",\"ADPLAYHEAD\",\"ADSERVINGID\",\"ADTYPE\",\"APIFRAMEWORKS\",\"APPBUNDLE\",\"ASSETURI\",\"BLOCKEDADCATEGORIES\",\"BREAKMAXADLENGTH\",\"BREAKMAXADS\",\"BREAKMAXDURATION\",\"BREAKMINADLENGTH\",\"BREAKMINDURATION\",\"BREAKPOSITION\",\"CLICKPOS\",\"CLICKTYPE\",\"CLIENTUA\",\"CONTENTID\",\"CONTENTPLAYHEAD\",\"CONTENTURI\",\"DEVICEIP\",\"DEVICEUA\",\"DOMAIN\",\"EXTENSIONS\",\"GDPRCONSENT\",\"IFA\",\"IFATYPE\",\"INVENTORYSTATE\",\"LATLONG\",\"LIMITADTRACKING\",\"MEDIAMIME\",\"MEDIAPLAYHEAD\",\"OMIDPARTNER\",\"PAGEURL\",\"PLACEMENTTYPE\",\"PLAYERCAPABILITIES\",\"PLAYERSIZE\",\"PLAYERSTATE\",\"PODSEQUENCE\",\"REGULATIONS\",\"SERVERSIDE\",\"SERVERUA\",\"TRANSACTIONID\",\"UNIVERSALADID\",\"VASTVERSIONS\",\"VERIFICATIONVENDORS\"];function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=[],n=s(e);!t.ERRORCODE||r.isCustomCode||/^[0-9]{3}$/.test(t.ERRORCODE)||(t.ERRORCODE=900),t.CACHEBUSTING=d(Math.round(1e8*Math.random())),t.TIMESTAMP=(new Date).toISOString(),t.RANDOM=t.random=t.CACHEBUSTING;for(const e in t)t[e]=c(t[e]);for(const e in n){const r=n[e];\"string\"==typeof r&&a.push(i(r,t))}return a}function i(e,r){const i=(e=a(e,r)).match(/[^[\\]]+(?=])/g);if(!i)return e;let s=i.filter((e=>t.indexOf(e)>-1));return 0===s.length?e:(s=s.reduce(((e,t)=>(e[t]=-1,e)),{}),a(e,s))}function a(e,t){let r=e;for(const e in t){const i=t[e];r=r.replace(new RegExp(\"(?:\\\\[|%%)(\".concat(e,\")(?:\\\\]|%%)\"),\"g\"),i)}return r}function s(e){return Array.isArray(e)?e.map((e=>e&&e.hasOwnProperty(\"url\")?e.url:e)):e}function n(e){return/^(https?:\\/\\/|\\/\\/)/.test(e)}function o(e,t){for(let r=0;r<t.length;r++)if(l(t[r],e))return!0;return!1}function l(e,t){if(e&&t){const r=Object.getOwnPropertyNames(e),i=Object.getOwnPropertyNames(t);return r.length===i.length&&(e.id===t.id&&e.url===t.url)}return!1}function c(e){return encodeURIComponent(e).replace(/[!'()*]/g,(e=>\"%\".concat(e.charCodeAt(0).toString(16))))}function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return e.toString().padStart(t,\"0\")}const u={track:function(e,t,i){r(e,t,i).forEach((e=>{if(\"undefined\"!=typeof window&&null!==window){(new Image).src=e}}))},resolveURLTemplates:r,extractURLsFromTemplates:s,filterUrlTemplates:function(e){return e.reduce(((e,t)=>{const r=t.url||t;return n(r)?e.validUrls.push(r):e.invalidUrls.push(r),e}),{validUrls:[],invalidUrls:[]})},containsTemplateObject:o,isTemplateObjectEqual:l,encodeURIComponentRFC3986:c,replaceUrlMacros:i,isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},flatten:function e(t){return t.reduce(((t,r)=>t.concat(Array.isArray(r)?e(r):r)),[])},joinArrayOfUniqueTemplateObjs:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=Array.isArray(e)?e:[],i=Array.isArray(t)?t:[];return r.concat(i).reduce(((e,t)=>(o(t,e)||e.push(t),e)),[])},isValidTimeValue:function(e){return Number.isFinite(e)&&e>=-2},addLeadingZeros:d,isValidUrl:n,isBrowserEnvironment:function(){return\"undefined\"!=typeof window},formatMacrosValues:function(e){return\"object\"!=typeof e?e:JSON.stringify(e)}};function h(e){return[\"true\",\"TRUE\",\"True\",\"1\"].includes(e)}function p(e){if(null==e)return-1;if(u.isNumeric(e))return parseInt(e);const t=e.split(\":\");if(3!==t.length)return-1;const r=t[2].split(\".\");let i=parseInt(r[0]);2===r.length&&(i+=parseFloat(\"0.\".concat(r[1])));const a=parseInt(60*t[1]),s=parseInt(60*t[0]*60);return isNaN(s)||isNaN(a)||isNaN(i)||a>3600||i>60?-1:s+a+i}const m={childByName:function(e,t){return Array.from(e.childNodes).find((e=>e.nodeName===t))},childrenByName:function(e,t){return Array.from(e.childNodes).filter((e=>e.nodeName===t))},resolveVastAdTagURI:function(e,t){if(!t)return e;if(e.startsWith(\"//\")){const{protocol:t}=location;return\"\".concat(t).concat(e)}if(!e.includes(\"://\")){const r=t.slice(0,t.lastIndexOf(\"/\"));return\"\".concat(r,\"/\").concat(e)}return e},parseBoolean:h,parseNodeText:function(e){return e&&(e.textContent||e.text||\"\").trim()},copyNodeAttribute:function(e,t,r){const i=t.getAttribute(e);i&&r.setAttribute(e,i)},parseAttributes:function(e){return Array.from(e.attributes).reduce(((e,t)=>(e[t.nodeName]=t.nodeValue,e)),{})},parseDuration:p,getStandAloneAds:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((e=>!parseInt(e.sequence,10)))},getSortedAdPods:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((e=>parseInt(e.sequence,10))).sort(((e,t)=>e.sequence-t.sequence))},assignAttributes:function(e,t){e&&Array.from(e).forEach((e=>{let{nodeName:r,nodeValue:i}=e;if(r&&i&&t.hasOwnProperty(r)){let e=i;\"boolean\"==typeof t[r]&&(e=h(e)),t[r]=e}}))},mergeWrapperAdData:function(e,t){var r;e.errorURLTemplates=t.errorURLTemplates.concat(e.errorURLTemplates),e.impressionURLTemplates=t.impressionURLTemplates.concat(e.impressionURLTemplates),e.extensions=t.extensions.concat(e.extensions),t.viewableImpression.length>0&&(e.viewableImpression=[...e.viewableImpression,...t.viewableImpression]),e.followAdditionalWrappers=t.followAdditionalWrappers,e.allowMultipleAds=t.allowMultipleAds,e.fallbackOnNoAd=t.fallbackOnNoAd;const i=(t.creatives||[]).filter((e=>e&&\"companion\"===e.type)),a=i.reduce(((e,t)=>((t.variations||[]).forEach((t=>{(t.companionClickTrackingURLTemplates||[]).forEach((t=>{u.containsTemplateObject(t,e)||e.push(t)}))})),e)),[]);e.creatives=i.concat(e.creatives);const s=t.videoClickTrackingURLTemplates&&t.videoClickTrackingURLTemplates.length,n=t.videoCustomClickURLTemplates&&t.videoCustomClickURLTemplates.length;if(e.creatives.forEach((e=>{if(t.trackingEvents&&t.trackingEvents[e.type])for(const r in t.trackingEvents[e.type]){const i=t.trackingEvents[e.type][r];Array.isArray(e.trackingEvents[r])||(e.trackingEvents[r]=[]),e.trackingEvents[r]=e.trackingEvents[r].concat(i)}\"linear\"===e.type&&(s&&(e.videoClickTrackingURLTemplates=e.videoClickTrackingURLTemplates.concat(t.videoClickTrackingURLTemplates)),n&&(e.videoCustomClickURLTemplates=e.videoCustomClickURLTemplates.concat(t.videoCustomClickURLTemplates)),!t.videoClickThroughURLTemplate||null!==e.videoClickThroughURLTemplate&&void 0!==e.videoClickThroughURLTemplate||(e.videoClickThroughURLTemplate=t.videoClickThroughURLTemplate)),\"companion\"===e.type&&a.length&&(e.variations||[]).forEach((e=>{e.companionClickTrackingURLTemplates=u.joinArrayOfUniqueTemplateObjs(e.companionClickTrackingURLTemplates,a)}))})),t.adVerifications&&(e.adVerifications=e.adVerifications.concat(t.adVerifications)),t.blockedAdCategories&&(e.blockedAdCategories=e.blockedAdCategories.concat(t.blockedAdCategories)),null!==(r=t.creatives)&&void 0!==r&&r.length){const r=t.creatives.filter((e=>{var t;return(null===(t=e.icons)||void 0===t?void 0:t.length)&&!e.mediaFiles.length}));r.length&&(e.creatives=e.creatives.concat(r))}}};function g(t,r){const i=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:r,adId:i,sequence:a,apiFramework:s}=e(t);return{id:r,adId:i,sequence:a,apiFramework:s,type:\"companion\",required:null,variations:[]}}(r);return i.required=t.getAttribute(\"required\")||null,i.variations=m.childrenByName(t,\"Companion\").map((e=>{const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:e.id||null,adType:\"companionAd\",width:e.width||0,height:e.height||0,assetWidth:e.assetWidth||null,assetHeight:e.assetHeight||null,expandedWidth:e.expandedWidth||null,expandedHeight:e.expandedHeight||null,apiFramework:e.apiFramework||null,adSlotId:e.adSlotId||null,pxratio:e.pxratio||\"1\",renderingMode:e.renderingMode||\"default\",staticResources:[],htmlResources:[],iframeResources:[],adParameters:null,altText:null,companionClickThroughURLTemplate:null,companionClickTrackingURLTemplates:[],trackingEvents:{}}}(m.parseAttributes(e));t.htmlResources=m.childrenByName(e,\"HTMLResource\").reduce(((e,t)=>{const r=m.parseNodeText(t);return r?e.concat(r):e}),[]),t.iframeResources=m.childrenByName(e,\"IFrameResource\").reduce(((e,t)=>{const r=m.parseNodeText(t);return r?e.concat(r):e}),[]),t.staticResources=m.childrenByName(e,\"StaticResource\").reduce(((e,t)=>{const r=m.parseNodeText(t);return r?e.concat({url:r,creativeType:t.getAttribute(\"creativeType\")||null}):e}),[]),t.altText=m.parseNodeText(m.childByName(e,\"AltText\"))||null;const r=m.childByName(e,\"TrackingEvents\");r&&m.childrenByName(r,\"Tracking\").forEach((e=>{const r=e.getAttribute(\"event\"),i=m.parseNodeText(e);r&&i&&(Array.isArray(t.trackingEvents[r])||(t.trackingEvents[r]=[]),t.trackingEvents[r].push(i))})),t.companionClickTrackingURLTemplates=m.childrenByName(e,\"CompanionClickTracking\").map((e=>({id:e.getAttribute(\"id\")||null,url:m.parseNodeText(e)}))),t.companionClickThroughURLTemplate=m.parseNodeText(m.childByName(e,\"CompanionClickThrough\"))||null;const i=m.childByName(e,\"AdParameters\");return i&&(t.adParameters={value:m.parseNodeText(i),xmlEncoded:i.getAttribute(\"xmlEncoded\")||null}),t})),i}function v(t,r){let i;const a=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:r,adId:i,sequence:a,apiFramework:s}=e(t);return{id:r,adId:i,sequence:a,apiFramework:s,type:\"linear\",duration:0,skipDelay:null,mediaFiles:[],mezzanine:null,interactiveCreativeFile:null,closedCaptionFiles:[],videoClickThroughURLTemplate:null,videoClickTrackingURLTemplates:[],videoCustomClickURLTemplates:[],adParameters:null,icons:[],trackingEvents:{}}}(r);a.duration=m.parseDuration(m.parseNodeText(m.childByName(t,\"Duration\")));const s=t.getAttribute(\"skipoffset\");if(null==s)a.skipDelay=null;else if(\"%\"===s.charAt(s.length-1)&&-1!==a.duration){const e=parseInt(s,10);a.skipDelay=a.duration*(e/100)}else a.skipDelay=m.parseDuration(s);const n=m.childByName(t,\"VideoClicks\");if(n){const e=m.childByName(n,\"ClickThrough\");a.videoClickThroughURLTemplate=e?{id:e.getAttribute(\"id\")||null,url:m.parseNodeText(e)}:null,m.childrenByName(n,\"ClickTracking\").forEach((e=>{a.videoClickTrackingURLTemplates.push({id:e.getAttribute(\"id\")||null,url:m.parseNodeText(e)})})),m.childrenByName(n,\"CustomClick\").forEach((e=>{a.videoCustomClickURLTemplates.push({id:e.getAttribute(\"id\")||null,url:m.parseNodeText(e)})}))}const o=m.childByName(t,\"AdParameters\");o&&(a.adParameters={value:m.parseNodeText(o),xmlEncoded:o.getAttribute(\"xmlEncoded\")||null}),m.childrenByName(t,\"TrackingEvents\").forEach((e=>{m.childrenByName(e,\"Tracking\").forEach((e=>{let t=e.getAttribute(\"event\");const r=m.parseNodeText(e);if(t&&r){if(\"progress\"===t){if(i=e.getAttribute(\"offset\"),!i)return;t=\"%\"===i.charAt(i.length-1)?\"progress-\".concat(i):\"progress-\".concat(m.parseDuration(i))}Array.isArray(a.trackingEvents[t])||(a.trackingEvents[t]=[]),a.trackingEvents[t].push(r)}}))})),m.childrenByName(t,\"MediaFiles\").forEach((e=>{m.childrenByName(e,\"MediaFile\").forEach((e=>{a.mediaFiles.push(function(e){const t={id:null,fileURL:null,fileSize:0,deliveryType:\"progressive\",mimeType:null,mediaType:null,codec:null,bitrate:0,minBitrate:0,maxBitrate:0,width:0,height:0,apiFramework:null,scalable:null,maintainAspectRatio:null};t.id=e.getAttribute(\"id\"),t.fileURL=m.parseNodeText(e),t.deliveryType=e.getAttribute(\"delivery\"),t.codec=e.getAttribute(\"codec\"),t.mimeType=e.getAttribute(\"type\"),t.mediaType=e.getAttribute(\"mediaType\")||\"2D\",t.apiFramework=e.getAttribute(\"apiFramework\"),t.fileSize=parseInt(e.getAttribute(\"fileSize\")||0),t.bitrate=parseInt(e.getAttribute(\"bitrate\")||0),t.minBitrate=parseInt(e.getAttribute(\"minBitrate\")||0),t.maxBitrate=parseInt(e.getAttribute(\"maxBitrate\")||0),t.width=parseInt(e.getAttribute(\"width\")||0),t.height=parseInt(e.getAttribute(\"height\")||0);const r=e.getAttribute(\"scalable\");r&&\"string\"==typeof r&&(t.scalable=m.parseBoolean(r));const i=e.getAttribute(\"maintainAspectRatio\");i&&\"string\"==typeof i&&(t.maintainAspectRatio=m.parseBoolean(i));return t}(e))}));const t=m.childByName(e,\"InteractiveCreativeFile\");t&&(a.interactiveCreativeFile=function(e){const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:e.type||null,apiFramework:e.apiFramework||null,variableDuration:m.parseBoolean(e.variableDuration),fileURL:null}}(m.parseAttributes(e));return t.fileURL=m.parseNodeText(e),t}(t));const r=m.childByName(e,\"ClosedCaptionFiles\");r&&m.childrenByName(r,\"ClosedCaptionFile\").forEach((e=>{const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:e.type||null,language:e.language||null,fileURL:null}}(m.parseAttributes(e));t.fileURL=m.parseNodeText(e),a.closedCaptionFiles.push(t)}));const i=m.childByName(e,\"Mezzanine\"),s=function(e,t){const r={};let i=!1;return t.forEach((t=>{e&&e.getAttribute(t)?r[t]=e.getAttribute(t):i=!0})),i?null:r}(i,[\"delivery\",\"type\",\"width\",\"height\"]);if(s){const e={id:null,fileURL:null,delivery:null,codec:null,type:null,width:0,height:0,fileSize:0,mediaType:\"2D\"};e.id=i.getAttribute(\"id\"),e.fileURL=m.parseNodeText(i),e.delivery=s.delivery,e.codec=i.getAttribute(\"codec\"),e.type=s.type,e.width=parseInt(s.width,10),e.height=parseInt(s.height,10),e.fileSize=parseInt(i.getAttribute(\"fileSize\"),10),e.mediaType=i.getAttribute(\"mediaType\")||\"2D\",a.mezzanine=e}}));const l=m.childByName(t,\"Icons\");return l&&m.childrenByName(l,\"Icon\").forEach((e=>{a.icons.push(function(e){const t={program:null,height:0,width:0,xPosition:0,yPosition:0,apiFramework:null,offset:null,duration:0,type:null,staticResource:null,htmlResource:null,iframeResource:null,pxratio:\"1\",iconClickThroughURLTemplate:null,iconClickTrackingURLTemplates:[],iconViewTrackingURLTemplate:null,iconClickFallbackImages:[],altText:null,hoverText:null};t.program=e.getAttribute(\"program\"),t.height=parseInt(e.getAttribute(\"height\")||0),t.width=parseInt(e.getAttribute(\"width\")||0),t.xPosition=function(e){if(-1!==[\"left\",\"right\"].indexOf(e))return e;return parseInt(e||0)}(e.getAttribute(\"xPosition\")),t.yPosition=function(e){if(-1!==[\"top\",\"bottom\"].indexOf(e))return e;return parseInt(e||0)}(e.getAttribute(\"yPosition\")),t.apiFramework=e.getAttribute(\"apiFramework\"),t.pxratio=e.getAttribute(\"pxratio\")||\"1\",t.offset=m.parseDuration(e.getAttribute(\"offset\")),t.duration=m.parseDuration(e.getAttribute(\"duration\")),t.altText=e.getAttribute(\"altText\"),t.hoverText=e.getAttribute(\"hoverText\"),m.childrenByName(e,\"HTMLResource\").forEach((e=>{t.type=e.getAttribute(\"creativeType\")||\"text/html\",t.htmlResource=m.parseNodeText(e)})),m.childrenByName(e,\"IFrameResource\").forEach((e=>{t.type=e.getAttribute(\"creativeType\")||0,t.iframeResource=m.parseNodeText(e)})),m.childrenByName(e,\"StaticResource\").forEach((e=>{t.type=e.getAttribute(\"creativeType\")||0,t.staticResource=m.parseNodeText(e)}));const r=m.childByName(e,\"IconClicks\");if(r){t.iconClickThroughURLTemplate=m.parseNodeText(m.childByName(r,\"IconClickThrough\")),m.childrenByName(r,\"IconClickTracking\").forEach((e=>{t.iconClickTrackingURLTemplates.push({id:e.getAttribute(\"id\")||null,url:m.parseNodeText(e)})}));const e=m.childByName(r,\"IconClickFallbackImages\");e&&m.childrenByName(e,\"IconClickFallbackImage\").forEach((e=>{t.iconClickFallbackImages.push({url:m.parseNodeText(e)||null,width:e.getAttribute(\"width\")||null,height:e.getAttribute(\"height\")||null})}))}return t.iconViewTrackingURLTemplate=m.parseNodeText(m.childByName(e,\"IconViewTracking\")),t}(e))})),a}function f(t,r){const i=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:r,adId:i,sequence:a,apiFramework:s}=e(t);return{id:r,adId:i,sequence:a,apiFramework:s,type:\"nonlinear\",variations:[],trackingEvents:{}}}(r);return m.childrenByName(t,\"TrackingEvents\").forEach((e=>{let t,r;m.childrenByName(e,\"Tracking\").forEach((e=>{t=e.getAttribute(\"event\"),r=m.parseNodeText(e),t&&r&&(Array.isArray(i.trackingEvents[t])||(i.trackingEvents[t]=[]),i.trackingEvents[t].push(r))}))})),m.childrenByName(t,\"NonLinear\").forEach((e=>{const t={id:null,width:0,height:0,expandedWidth:0,expandedHeight:0,scalable:!0,maintainAspectRatio:!0,minSuggestedDuration:0,apiFramework:\"static\",adType:\"nonLinearAd\",type:null,staticResource:null,htmlResource:null,iframeResource:null,nonlinearClickThroughURLTemplate:null,nonlinearClickTrackingURLTemplates:[],adParameters:null};t.id=e.getAttribute(\"id\")||null,t.width=e.getAttribute(\"width\"),t.height=e.getAttribute(\"height\"),t.expandedWidth=e.getAttribute(\"expandedWidth\"),t.expandedHeight=e.getAttribute(\"expandedHeight\"),t.scalable=m.parseBoolean(e.getAttribute(\"scalable\")),t.maintainAspectRatio=m.parseBoolean(e.getAttribute(\"maintainAspectRatio\")),t.minSuggestedDuration=m.parseDuration(e.getAttribute(\"minSuggestedDuration\")),t.apiFramework=e.getAttribute(\"apiFramework\"),m.childrenByName(e,\"HTMLResource\").forEach((e=>{t.type=e.getAttribute(\"creativeType\")||\"text/html\",t.htmlResource=m.parseNodeText(e)})),m.childrenByName(e,\"IFrameResource\").forEach((e=>{t.type=e.getAttribute(\"creativeType\")||0,t.iframeResource=m.parseNodeText(e)})),m.childrenByName(e,\"StaticResource\").forEach((e=>{t.type=e.getAttribute(\"creativeType\")||0,t.staticResource=m.parseNodeText(e)}));const r=m.childByName(e,\"AdParameters\");r&&(t.adParameters={value:m.parseNodeText(r),xmlEncoded:r.getAttribute(\"xmlEncoded\")||null}),t.nonlinearClickThroughURLTemplate=m.parseNodeText(m.childByName(e,\"NonLinearClickThrough\")),m.childrenByName(e,\"NonLinearClickTracking\").forEach((e=>{t.nonlinearClickTrackingURLTemplates.push({id:e.getAttribute(\"id\")||null,url:m.parseNodeText(e)})})),i.variations.push(t)})),i}function T(e){const t=[];return e.forEach((e=>{const r=A(e);r&&t.push(r)})),t}function A(e){if(\"#comment\"===e.nodeName)return null;const t={name:null,value:null,attributes:{},children:[]},r=e.attributes,i=e.childNodes;if(t.name=e.nodeName,e.attributes)for(const e in r)if(r.hasOwnProperty(e)){const i=r[e];i.nodeName&&i.nodeValue&&(t.attributes[i.nodeName]=i.nodeValue)}for(const e in i)if(i.hasOwnProperty(e)){const r=A(i[e]);r&&t.children.push(r)}if(0===t.children.length||1===t.children.length&&[\"#cdata-section\",\"#text\"].indexOf(t.children[0].name)>=0){const r=m.parseNodeText(e);\"\"!==r&&(t.value=r),t.children=[]}return null===(a=t).value&&0===Object.keys(a.attributes).length&&0===a.children.length?null:t;var a}function R(e){return e.getAttribute(\"AdID\")||e.getAttribute(\"adID\")||e.getAttribute(\"adId\")||null}const y={Wrapper:{subElements:[\"VASTAdTagURI\",\"Impression\"]},BlockedAdCategories:{attributes:[\"authority\"]},InLine:{subElements:[\"AdSystem\",\"AdTitle\",\"Impression\",\"AdServingId\",\"Creatives\"]},Category:{attributes:[\"authority\"]},Pricing:{attributes:[\"model\",\"currency\"]},Verification:{oneOfinLineResources:[\"JavaScriptResource\",\"ExecutableResource\"],attributes:[\"vendor\"]},UniversalAdId:{attributes:[\"idRegistry\"]},JavaScriptResource:{attributes:[\"apiFramework\",\"browserOptional\"]},ExecutableResource:{attributes:[\"apiFramework\",\"type\"]},Tracking:{attributes:[\"event\"]},Creatives:{subElements:[\"Creative\"]},Creative:{subElements:[\"UniversalAdId\"]},Linear:{subElements:[\"MediaFiles\",\"Duration\"]},MediaFiles:{subElements:[\"MediaFile\"]},MediaFile:{attributes:[\"delivery\",\"type\",\"width\",\"height\"]},Mezzanine:{attributes:[\"delivery\",\"type\",\"width\",\"height\"]},NonLinear:{oneOfinLineResources:[\"StaticResource\",\"IFrameResource\",\"HTMLResource\"],attributes:[\"width\",\"height\"]},Companion:{oneOfinLineResources:[\"StaticResource\",\"IFrameResource\",\"HTMLResource\"],attributes:[\"width\",\"height\"]},StaticResource:{attributes:[\"creativeType\"]},Icons:{subElements:[\"Icon\"]},Icon:{oneOfinLineResources:[\"StaticResource\",\"IFrameResource\",\"HTMLResource\"]}};function k(e,t){if(!y[e.nodeName]||!y[e.nodeName].attributes)return;const r=y[e.nodeName].attributes.filter((t=>!e.getAttribute(t)));r.length>0&&N({name:e.nodeName,parentName:e.parentNode.nodeName,attributes:r},t)}function E(e,t,r){const i=y[e.nodeName],a=!r&&\"Wrapper\"!==e.nodeName;if(!i||a)return;if(i.subElements){const r=i.subElements.filter((t=>!m.childByName(e,t)));r.length>0&&N({name:e.nodeName,parentName:e.parentNode.nodeName,subElements:r},t)}if(!r||!i.oneOfinLineResources)return;i.oneOfinLineResources.some((t=>m.childByName(e,t)))||N({name:e.nodeName,parentName:e.parentNode.nodeName,oneOfResources:i.oneOfinLineResources},t)}function b(e){return e.children&&0!==e.children.length}function N(e,t){let{name:r,parentName:i,attributes:a,subElements:s,oneOfResources:n}=e,o=\"Element '\".concat(r,\"'\");o+=a?\" missing required attribute(s) '\".concat(a.join(\", \"),\"' \"):s?\" missing required sub element(s) '\".concat(s.join(\", \"),\"' \"):n?\" must provide one of the following '\".concat(n.join(\", \"),\"' \"):\" is empty\",t(\"VAST-warning\",{message:o,parentElement:i,specVersion:4.1})}const w={verifyRequiredValues:function e(t,r,i){if(t&&t.nodeName)if(\"InLine\"===t.nodeName&&(i=!0),k(t,r),b(t)){E(t,r,i);for(let a=0;a<t.children.length;a++)e(t.children[a],r,i)}else 0===m.parseNodeText(t).length&&N({name:t.nodeName,parentName:t.parentNode.nodeName},r)},hasSubElements:b,emitMissingValueWarning:N,verifyRequiredAttributes:k,verifyRequiredSubElements:E};function L(e,t){let{allowMultipleAds:r,followAdditionalWrappers:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=Array.from(e.childNodes).filter((e=>{const t=e.nodeName.toLowerCase();return\"inline\"===t||!1!==i&&\"wrapper\"===t}));for(const i of a){if(m.copyNodeAttribute(\"id\",e,i),m.copyNodeAttribute(\"sequence\",e,i),m.copyNodeAttribute(\"adType\",e,i),\"Wrapper\"===i.nodeName)return{ad:I(i,t),type:\"WRAPPER\"};if(\"InLine\"===i.nodeName)return{ad:C(i,t,{allowMultipleAds:r}),type:\"INLINE\"};const a=i.nodeName.toLowerCase();t(\"VAST-warning\",{message:\"<\".concat(i.nodeName,\"inline\"===a?\"> must be written <InLine>\":\"> must be written <Wrapper>\"),wrongNode:i})}}function C(e,t){let{allowMultipleAds:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return!1===r&&e.getAttribute(\"sequence\")?null:U(e,t)}function U(e,t){let r=[];t&&w.verifyRequiredValues(e,t);const i=Array.from(e.childNodes),a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:e.id||null,sequence:e.sequence||null,adType:e.adType||null,adServingId:null,categories:[],expires:null,viewableImpression:[],system:null,title:null,description:null,advertiser:null,pricing:null,survey:null,errorURLTemplates:[],impressionURLTemplates:[],creatives:[],extensions:[],adVerifications:[],blockedAdCategories:[],followAdditionalWrappers:!0,allowMultipleAds:!1,fallbackOnNoAd:null}}(m.parseAttributes(e));return i.forEach((e=>{switch(e.nodeName){case\"Error\":a.errorURLTemplates.push(m.parseNodeText(e));break;case\"Impression\":a.impressionURLTemplates.push({id:e.getAttribute(\"id\")||null,url:m.parseNodeText(e)});break;case\"Creatives\":a.creatives=function(e){const t=[];return e.forEach((e=>{const r={id:e.getAttribute(\"id\")||null,adId:R(e),sequence:e.getAttribute(\"sequence\")||null,apiFramework:e.getAttribute(\"apiFramework\")||null},i=[];let a;m.childrenByName(e,\"UniversalAdId\").forEach((e=>{const t={idRegistry:e.getAttribute(\"idRegistry\")||\"unknown\",value:m.parseNodeText(e)};i.push(t)}));const s=m.childByName(e,\"CreativeExtensions\");s&&(a=T(m.childrenByName(s,\"CreativeExtension\")));for(const s in e.childNodes){const n=e.childNodes[s];let o;switch(n.nodeName){case\"Linear\":o=v(n,r);break;case\"NonLinearAds\":o=f(n,r);break;case\"CompanionAds\":o=g(n,r)}o&&(i&&(o.universalAdIds=i),a&&(o.creativeExtensions=a),t.push(o))}})),t}(m.childrenByName(e,\"Creative\"));break;case\"Extensions\":{const t=m.childrenByName(e,\"Extension\");a.extensions=T(t),a.adVerifications.length||(r=function(e){let t=null,r=[];e.some((e=>t=m.childByName(e,\"AdVerifications\"))),t&&(r=x(m.childrenByName(t,\"Verification\")));return r}(t));break}case\"AdVerifications\":a.adVerifications=x(m.childrenByName(e,\"Verification\"));break;case\"AdSystem\":a.system={value:m.parseNodeText(e),version:e.getAttribute(\"version\")||null};break;case\"AdTitle\":a.title=m.parseNodeText(e);break;case\"AdServingId\":a.adServingId=m.parseNodeText(e);break;case\"Category\":a.categories.push({authority:e.getAttribute(\"authority\")||null,value:m.parseNodeText(e)});break;case\"Expires\":a.expires=parseInt(m.parseNodeText(e),10);break;case\"ViewableImpression\":a.viewableImpression.push(function(e){const t=(e,t)=>{const r=m.parseNodeText(t);return r&&e.push(r),e};return{id:e.getAttribute(\"id\")||null,viewable:m.childrenByName(e,\"Viewable\").reduce(t,[]),notViewable:m.childrenByName(e,\"NotViewable\").reduce(t,[]),viewUndetermined:m.childrenByName(e,\"ViewUndetermined\").reduce(t,[])}}(e));break;case\"Description\":a.description=m.parseNodeText(e);break;case\"Advertiser\":a.advertiser={id:e.getAttribute(\"id\")||null,value:m.parseNodeText(e)};break;case\"Pricing\":a.pricing={value:m.parseNodeText(e),model:e.getAttribute(\"model\")||null,currency:e.getAttribute(\"currency\")||null};break;case\"Survey\":a.survey={value:m.parseNodeText(e),type:e.getAttribute(\"type\")||null};break;case\"BlockedAdCategories\":a.blockedAdCategories.push({authority:e.getAttribute(\"authority\")||null,value:m.parseNodeText(e)})}})),r.length&&(a.adVerifications=a.adVerifications.concat(r)),a}function I(e,t){const r=U(e,t),i=e.getAttribute(\"followAdditionalWrappers\"),a=e.getAttribute(\"allowMultipleAds\"),s=e.getAttribute(\"fallbackOnNoAd\");r.followAdditionalWrappers=!i||m.parseBoolean(i),r.allowMultipleAds=!!a&&m.parseBoolean(a),r.fallbackOnNoAd=s?m.parseBoolean(s):null;let n=m.childByName(e,\"VASTAdTagURI\");if(n?r.nextWrapperURL=m.parseNodeText(n):(n=m.childByName(e,\"VASTAdTagURL\"),n&&(r.nextWrapperURL=m.parseNodeText(m.childByName(n,\"URL\")))),r.creatives.forEach((e=>{if([\"linear\",\"nonlinear\"].includes(e.type)){if(e.trackingEvents){r.trackingEvents||(r.trackingEvents={}),r.trackingEvents[e.type]||(r.trackingEvents[e.type]={});for(const t in e.trackingEvents){const i=e.trackingEvents[t];Array.isArray(r.trackingEvents[e.type][t])||(r.trackingEvents[e.type][t]=[]),i.forEach((i=>{r.trackingEvents[e.type][t].push(i)}))}}e.videoClickTrackingURLTemplates&&(Array.isArray(r.videoClickTrackingURLTemplates)||(r.videoClickTrackingURLTemplates=[]),e.videoClickTrackingURLTemplates.forEach((e=>{r.videoClickTrackingURLTemplates.push(e)}))),e.videoClickThroughURLTemplate&&(r.videoClickThroughURLTemplate=e.videoClickThroughURLTemplate),e.videoCustomClickURLTemplates&&(Array.isArray(r.videoCustomClickURLTemplates)||(r.videoCustomClickURLTemplates=[]),e.videoCustomClickURLTemplates.forEach((e=>{r.videoCustomClickURLTemplates.push(e)})))}})),r.nextWrapperURL)return r}function x(e){const t=[];return e.forEach((e=>{const r={resource:null,vendor:null,browserOptional:!1,apiFramework:null,type:null,parameters:null,trackingEvents:{}},i=Array.from(e.childNodes);m.assignAttributes(e.attributes,r),i.forEach((e=>{let{nodeName:t,textContent:i,attributes:a}=e;switch(t){case\"JavaScriptResource\":case\"ExecutableResource\":r.resource=i.trim(),m.assignAttributes(a,r);break;case\"VerificationParameters\":r.parameters=i.trim()}}));const a=m.childByName(e,\"TrackingEvents\");a&&m.childrenByName(a,\"Tracking\").forEach((e=>{const t=e.getAttribute(\"event\"),i=m.parseNodeText(e);t&&i&&(Array.isArray(r.trackingEvents[t])||(r.trackingEvents[t]=[]),r.trackingEvents[t].push(i))})),t.push(r)})),t}class S{constructor(){this._handlers=[]}on(e,t){if(\"function\"!=typeof t)throw new TypeError(\"The handler argument must be of type Function. Received type \".concat(typeof t));if(!e)throw new TypeError(\"The event argument must be of type String. Received type \".concat(typeof e));return this._handlers.push({event:e,handler:t}),this}once(e,t){return this.on(e,function(e,t,r){const i={fired:!1,wrapFn:void 0};function a(){i.fired||(e.off(t,i.wrapFn),i.fired=!0,r.bind(e)(...arguments))}return i.wrapFn=a,a}(this,e,t))}off(e,t){return this._handlers=this._handlers.filter((r=>r.event!==e||r.handler!==t)),this}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];let a=!1;return this._handlers.forEach((t=>{\"*\"===t.event&&(a=!0,t.handler(e,...r)),t.event===e&&(a=!0,t.handler(...r))})),a}removeAllListeners(e){return e?(this._handlers=this._handlers.filter((t=>t.event!==e)),this):(this._handlers=[],this)}listenerCount(e){return this._handlers.filter((t=>t.event===e)).length}listeners(e){return this._handlers.reduce(((t,r)=>(r.event===e&&t.push(r.handler),t)),[])}eventNames(){return this._handlers.map((e=>e.event))}}let V=0,D=0;const O=(e,t)=>{if(!e||!t||e<=0||t<=0)return;D=(D*V+8*e/t)/++V},F={ERRORCODE:900,extensions:[]},P=\"VAST response version not supported\";class B extends S{constructor(){let{fetcher:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.maxWrapperDepth=null,this.rootErrorURLTemplates=[],this.errorURLTemplates=[],this.remainingAds=[],this.parsingOptions={},this.fetcher=e||null}trackVastError(e,t){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];this.emit(\"VAST-error\",Object.assign({},F,t,...i)),u.track(e,t)}getErrorURLTemplates(){return this.rootErrorURLTemplates.concat(this.errorURLTemplates)}getEstimatedBitrate(){return D}initParsingStatus(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.maxWrapperDepth=e.wrapperLimit||10,this.parsingOptions={allowMultipleAds:e.allowMultipleAds},this.rootURL=\"\",this.resetParsingStatus(),O(e.byteLength,e.requestDuration)}resetParsingStatus(){this.errorURLTemplates=[],this.rootErrorURLTemplates=[],this.vastVersion=null}getRemainingAds(e){if(0===this.remainingAds.length)return Promise.reject(new Error(\"No more ads are available for the given VAST\"));const t=e?this.remainingAds:[this.remainingAds.shift()];return this.errorURLTemplates=[],this.resolveAds(t,{wrapperDepth:0,url:this.rootURL}).then((e=>this.buildVASTResponse(e)))}parseVAST(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.initParsingStatus(t),t.isRootVAST=!0,this.parse(e,t).then((e=>this.buildVASTResponse(e)))}buildVASTResponse(e){const t=function(e){let{ads:t,errorURLTemplates:r,version:i}=e;return{ads:t||[],errorURLTemplates:r||[],version:i||null}}({ads:e,errorURLTemplates:this.getErrorURLTemplates(),version:this.vastVersion});return this.completeWrapperResolving(t),t}parseVastXml(e,t){let{isRootVAST:r=!1,url:i=null,wrapperDepth:a=0,allowMultipleAds:s,followAdditionalWrappers:n}=t;if(!e||!e.documentElement||\"VAST\"!==e.documentElement.nodeName){var o;this.emit(\"VAST-ad-parsed\",{type:\"ERROR\",url:i,wrapperDepth:a});const t=\"VideoAdServingTemplate\"===(null==e||null===(o=e.documentElement)||void 0===o?void 0:o.nodeName);throw new Error(t?P:\"Invalid VAST XMLDocument\")}const l=[],c=e.documentElement.childNodes,d=e.documentElement.getAttribute(\"version\");r&&d&&(this.vastVersion=d);for(const e in c){const t=c[e];if(\"Error\"===t.nodeName){const e=m.parseNodeText(t);r?this.rootErrorURLTemplates.push(e):this.errorURLTemplates.push(e)}else if(\"Ad\"===t.nodeName){if(this.vastVersion&&parseFloat(this.vastVersion)<3)s=!0;else if(!1===s&&l.length>1)break;const e=L(t,this.emit.bind(this),{allowMultipleAds:s,followAdditionalWrappers:n});e.ad?(l.push(e.ad),this.emit(\"VAST-ad-parsed\",{type:e.type,url:i,wrapperDepth:a,adIndex:l.length-1,vastVersion:d})):this.trackVastError(this.getErrorURLTemplates(),{ERRORCODE:101})}}return l}parse(e){let{url:t=null,resolveAll:r=!0,wrapperSequence:i=null,previousUrl:a=null,wrapperDepth:s=0,isRootVAST:n=!1,followAdditionalWrappers:o,allowMultipleAds:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=[];this.vastVersion&&parseFloat(this.vastVersion)<3&&n&&(l=!0);try{c=this.parseVastXml(e,{isRootVAST:n,url:t,wrapperDepth:s,allowMultipleAds:l,followAdditionalWrappers:o})}catch(e){return Promise.reject(e)}if(1===c.length&&null!=i&&(c[0].sequence=i),!1===r){const e=m.getSortedAdPods(c),t=m.getStandAloneAds(c);e.length?c=e:t.length&&(c=[t.shift()]),this.remainingAds=t}return this.resolveAds(c,{wrapperDepth:s,previousUrl:a,url:t})}resolveAds(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],{wrapperDepth:t,previousUrl:r,url:i}=arguments.length>1?arguments[1]:void 0;const a=[];return r=i,e.forEach((e=>{const i=this.resolveWrappers(e,t,r);a.push(i)})),Promise.all(a).then((e=>u.flatten(e)))}resolveWrappers(e,t,r){const i={...e};return new Promise((e=>{var a;if(t++,!i.nextWrapperURL)return delete i.nextWrapperURL,e(i);if(!this.fetcher)return i.VASTAdTagURI=i.nextWrapperURL,delete i.nextWrapperURL,e(i);if(t>=this.maxWrapperDepth)return i.errorCode=302,delete i.nextWrapperURL,e(i);i.nextWrapperURL=m.resolveVastAdTagURI(i.nextWrapperURL,r);const s=null!==(a=this.parsingOptions.allowMultipleAds)&&void 0!==a?a:i.allowMultipleAds,n=i.sequence;this.fetcher.fetchVAST({url:i.nextWrapperURL,emitter:this.emit.bind(this),maxWrapperDepth:this.maxWrapperDepth}).then((a=>this.parse(a,{url:i.nextWrapperURL,previousUrl:r,wrapperSequence:n,wrapperDepth:t,followAdditionalWrappers:i.followAdditionalWrappers,allowMultipleAds:s}).then((t=>{if(delete i.nextWrapperURL,0===t.length)return i.creatives=[],e(i);t.forEach((e=>{e&&m.mergeWrapperAdData(e,i)})),e(t)})))).catch((t=>{i.errorCode=t.message===P?102:301,i.errorMessage=t.message,e(i)}))}))}completeWrapperResolving(e){if(0===e.ads.length)this.trackVastError(e.errorURLTemplates,{ERRORCODE:303});else for(let t=e.ads.length-1;t>=0;t--){const r=e.ads[t],i=!r.creatives.some((e=>{var t,r;return(null===(t=e.mediaFiles)||void 0===t?void 0:t.length)>0||(null===(r=e.variations)||void 0===r?void 0:r.length)>0}));!r.errorCode&&!i||r.VASTAdTagURI||(this.trackVastError(r.errorURLTemplates.concat(e.errorURLTemplates),{ERRORCODE:r.errorCode||303},{ERRORMESSAGE:r.errorMessage||\"\"},{extensions:r.extensions},{system:r.system}),e.ads.splice(t,1))}}}let M=null;const W={data:{},length:0,getItem(e){return this.data[e]},setItem(e,t){this.data[e]=t,this.length=Object.keys(this.data).length},removeItem(e){delete this.data[e],this.length=Object.keys(this.data).length},clear(){this.data={},this.length=0}};class j{constructor(){this.storage=this.initStorage()}initStorage(){if(M)return M;try{M=\"undefined\"!=typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(e){M=null}return M&&!this.isStorageDisabled(M)||(M=W,M.clear()),M}isStorageDisabled(e){const t=\"__VASTStorage__\";try{if(e.setItem(t,t),e.getItem(t)!==t)return e.removeItem(t),!0}catch(e){return!0}return e.removeItem(t),!1}getItem(e){return this.storage.getItem(e)}setItem(e,t){return this.storage.setItem(e,t)}removeItem(e){return this.storage.removeItem(e)}clear(){return this.storage.clear()}}const q=12e4;const K={get:async function(e,t){try{const r=new AbortController,i=setTimeout((()=>{throw r.abort(),new Error(\"URLHandler: Request timed out after \".concat(t.timeout||q,\" ms (408)\"))}),t.timeout||q),a=await fetch(e,{...t,signal:r.signal,credentials:t.withCredentials?\"include\":\"omit\"}).finally((()=>{clearTimeout(i)})),s=function(e){return u.isBrowserEnvironment()&&\"https:\"===window.location.protocol&&e.url.includes(\"http://\")?\"URLHandler: Cannot go from HTTPS to HTTP.\":200===e.status&&e.ok?null:\"URLHandler: \".concat(e.statusText,\" (\").concat(e.status,\")\")}(a);return s?{error:new Error(s),statusCode:a.status}:async function(e){const t=await e.text();let r;r=u.isBrowserEnvironment()?new DOMParser:new((await import(\"@xmldom/xmldom\")).DOMParser);return{xml:r.parseFromString(t,\"text/xml\"),details:{byteLength:t.length,statusCode:e.status,rawXml:t}}}(a)}catch(e){return{error:e,statusCode:\"AbortError\"===e.name?408:null}}}};class H{constructor(){this.URLTemplateFilters=[]}setOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.urlHandler=e.urlHandler||e.urlhandler||K,this.fetchingOptions={...e.fetchOptions,timeout:e.timeout||q,withCredentials:Boolean(e.withCredentials)}}addURLTemplateFilter(e){\"function\"==typeof e&&this.URLTemplateFilters.push(e)}removeLastURLTemplateFilter(){this.URLTemplateFilters.pop()}countURLTemplateFilters(){return this.URLTemplateFilters.length}clearURLTemplateFilters(){this.URLTemplateFilters=[]}async fetchVAST(e){var t;let{url:r,maxWrapperDepth:i,emitter:a,wrapperDepth:s=0,previousUrl:n=null,wrapperAd:o=null}=e;const l=Date.now();this.URLTemplateFilters.forEach((e=>{r=e(r)})),a(\"VAST-resolving\",{url:r,previousUrl:n,wrapperDepth:s,maxWrapperDepth:i,timeout:this.fetchingOptions.timeout,wrapperAd:o});const c=await this.urlHandler.get(r,this.fetchingOptions),d=Math.round(Date.now()-l);if(a(\"VAST-resolved\",{url:r,previousUrl:n,wrapperDepth:s,error:(null==c?void 0:c.error)||null,duration:d,statusCode:(null==c?void 0:c.statusCode)||null,...null==c?void 0:c.details}),O(null==c||null===(t=c.details)||void 0===t?void 0:t.byteLength,d),c.error)throw new Error(c.error);return c.xml}}class _{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new j;this.cappingFreeLunch=e,this.cappingMinimumTimeInterval=t,this.fetcher=new H,this.vastParser=new B({fetcher:this.fetcher}),this.storage=r,void 0===this.lastSuccessfulAd&&(this.lastSuccessfulAd=0),void 0===this.totalCalls&&(this.totalCalls=0),void 0===this.totalCallsTimeout&&(this.totalCallsTimeout=0)}addURLTemplateFilter(e){this.fetcher.addURLTemplateFilter(e)}removeLastURLTemplateFilter(){this.fetcher.removeLastURLTemplateFilter()}countURLTemplateFilters(){return this.fetcher.countURLTemplateFilters()}clearURLTemplateFilters(){this.fetcher.clearURLTemplateFilters()}getParser(){return this.vastParser}get lastSuccessfulAd(){return this.storage.getItem(\"vast-client-last-successful-ad\")}set lastSuccessfulAd(e){this.storage.setItem(\"vast-client-last-successful-ad\",e)}get totalCalls(){return this.storage.getItem(\"vast-client-total-calls\")}set totalCalls(e){this.storage.setItem(\"vast-client-total-calls\",e)}get totalCallsTimeout(){return this.storage.getItem(\"vast-client-total-calls-timeout\")}set totalCallsTimeout(e){this.storage.setItem(\"vast-client-total-calls-timeout\",e)}hasRemainingAds(){return this.vastParser.remainingAds.length>0}getNextAds(e){return this.vastParser.getRemainingAds(e)}parseVAST(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetcher.setOptions(t),this.vastParser.parseVAST(e,t)}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=Date.now();return t.hasOwnProperty(\"resolveAll\")||(t.resolveAll=!1),this.totalCallsTimeout<r?(this.totalCalls=1,this.totalCallsTimeout=r+36e5):this.totalCalls++,new Promise(((i,a)=>{if(this.cappingFreeLunch>=this.totalCalls)return a(new Error(\"VAST call canceled – FreeLunch capping not reached yet \".concat(this.totalCalls,\"/\").concat(this.cappingFreeLunch)));const s=r-this.lastSuccessfulAd;if(s<0)this.lastSuccessfulAd=0;else if(s<this.cappingMinimumTimeInterval)return a(new Error(\"VAST call canceled – (\".concat(this.cappingMinimumTimeInterval,\")ms minimum interval reached\")));this.vastParser.initParsingStatus(t),this.fetcher.setOptions(t),this.vastParser.rootURL=e,this.fetcher.fetchVAST({url:e,emitter:this.vastParser.emit.bind(this.vastParser),maxWrapperDepth:this.vastParser.maxWrapperDepth}).then((r=>(t.previousUrl=e,t.isRootVAST=!0,t.url=e,this.vastParser.parse(r,t).then((e=>{const t=this.vastParser.buildVASTResponse(e);i(t)}))))).catch((e=>a(e)))}))}}class z extends S{constructor(e,t,r){var i;let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];super(),this.ad=t,this.creative=r,this.variation=a,this.muted=s,this.impressed=!1,this.skippable=!1,this.trackingEvents={},this.trackedProgressEvents=[],this.lastPercentage=0,this._alreadyTriggeredQuartiles={},this.emitAlwaysEvents=[\"creativeView\",\"start\",\"firstQuartile\",\"midpoint\",\"thirdQuartile\",\"complete\",\"resume\",\"pause\",\"rewind\",\"skip\",\"closeLinear\",\"close\"];for(const e in this.creative.trackingEvents){const t=this.creative.trackingEvents[e];this.trackingEvents[e]=t.slice(0)}this.viewableImpressionTrackers=(null===(i=this.ad.viewableImpression)||void 0===i?void 0:i.reduce(((e,t)=>(e.notViewable.push(...t.notViewable),e.viewUndetermined.push(...t.viewUndetermined),e.viewable.push(...t.viewable),e)),{notViewable:[],viewUndetermined:[],viewable:[]}))||{},Object.entries(this.viewableImpressionTrackers).forEach((e=>{let[t,r]=e;r.length&&(this.trackingEvents[t]=r)})),!function(e){return\"linear\"===e.type}(this.creative)?this._initVariationTracking():this._initLinearTracking(),e&&this.on(\"start\",(()=>{e.lastSuccessfulAd=Date.now()}))}_initLinearTracking(){this.linear=!0,this.skipDelay=this.creative.skipDelay,this.setDuration(this.creative.duration),this.clickThroughURLTemplate=this.creative.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=this.creative.videoClickTrackingURLTemplates}_initVariationTracking(){if(this.linear=!1,this.skipDelay=-1,this.variation){for(const e in this.variation.trackingEvents){const t=this.variation.trackingEvents[e];this.trackingEvents[e]?this.trackingEvents[e]=this.trackingEvents[e].concat(t.slice(0)):this.trackingEvents[e]=t.slice(0)}\"nonLinearAd\"===this.variation.adType?(this.clickThroughURLTemplate=this.variation.nonlinearClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.nonlinearClickTrackingURLTemplates,this.setDuration(this.variation.minSuggestedDuration)):function(e){return\"companionAd\"===e.adType}(this.variation)&&(this.clickThroughURLTemplate=this.variation.companionClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.companionClickTrackingURLTemplates)}}setDuration(e){u.isValidTimeValue(e)?(this.assetDuration=e,this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}):this.emit(\"TRACKER-error\",{message:\"the duration provided is not valid. duration: \".concat(e)})}setProgress(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!u.isValidTimeValue(e)||\"object\"!=typeof t)return void this.emit(\"TRACKER-error\",{message:\"One given setProgress parameter has the wrong type. progress: \".concat(e,\", macros: \").concat(u.formatMacrosValues(t))});const i=this.skipDelay||-1;if(-1===i||this.skippable||(i>e?this.emit(\"skip-countdown\",i-e):(this.skippable=!0,this.emit(\"skip-countdown\",0))),this.assetDuration>0){const i=Math.round(e/this.assetDuration*100),a=[];if(e>0){a.push(\"start\");for(let e=this.lastPercentage;e<i;e++)a.push(\"progress-\".concat(e+1,\"%\"));a.push(\"progress-\".concat(e));for(const t in this.quartiles)this.isQuartileReached(t,this.quartiles[t],e)&&(a.push(t),this._alreadyTriggeredQuartiles[t]=!0);this.lastPercentage=i}a.forEach((e=>{this.track(e,{macros:t,once:r})})),e<this.progress&&(this.track(\"rewind\",{macros:t}),this.trackedProgressEvents&&this.trackedProgressEvents.splice(0))}this.progress=e}isQuartileReached(e,t,r){let i=!1;return t<=r&&!this._alreadyTriggeredQuartiles[e]&&(i=!0),i}setMuted(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};\"boolean\"==typeof e&&\"object\"==typeof t?(this.muted!==e&&this.track(e?\"mute\":\"unmute\",{macros:t}),this.muted=e):this.emit(\"TRACKER-error\",{message:\"One given setMuted parameter has the wrong type. muted: \".concat(e,\", macros: \").concat(u.formatMacrosValues(t))})}setPaused(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};\"boolean\"==typeof e&&\"object\"==typeof t?(this.paused!==e&&this.track(e?\"pause\":\"resume\",{macros:t}),this.paused=e):this.emit(\"TRACKER-error\",{message:\"One given setPaused parameter has the wrong type. paused: \".concat(e,\", macros: \").concat(u.formatMacrosValues(t))})}setFullscreen(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};\"boolean\"==typeof e&&\"object\"==typeof t?(this.fullscreen!==e&&this.track(e?\"fullscreen\":\"exitFullscreen\",{macros:t}),this.fullscreen=e):this.emit(\"TRACKER-error\",{message:\"One given setFullScreen parameter has the wrong type. fullscreen: \".concat(e,\", macros: \").concat(u.formatMacrosValues(t))})}setExpand(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};\"boolean\"==typeof e&&\"object\"==typeof t?(this.expanded!==e&&(this.track(e?\"expand\":\"collapse\",{macros:t}),this.track(e?\"playerExpand\":\"playerCollapse\",{macros:t})),this.expanded=e):this.emit(\"TRACKER-error\",{message:\"One given setExpand parameter has the wrong type. expanded: \".concat(e,\", macros: \").concat(u.formatMacrosValues(t))})}setSkipDelay(e){u.isValidTimeValue(e)?this.skipDelay=e:this.emit(\"TRACKER-error\",{message:\"setSkipDelay parameter does not have a valid value. duration: \".concat(e)})}trackImpression(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};\"object\"==typeof e?this.impressed||(this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates,e),this.track(\"creativeView\",{macros:e})):this.emit(\"TRACKER-error\",{message:\"trackImpression parameter has the wrong type. macros: \".concat(e)})}trackViewableImpression(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];\"object\"==typeof e?this.track(\"viewable\",{macros:e,once:t}):this.emit(\"TRACKER-error\",{message:\"trackViewableImpression given macros has the wrong type. macros: \".concat(e)})}trackNotViewableImpression(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];\"object\"==typeof e?this.track(\"notViewable\",{macros:e,once:t}):this.emit(\"TRACKER-error\",{message:\"trackNotViewableImpression given macros has the wrong type. macros: \".concat(e)})}trackUndeterminedImpression(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];\"object\"==typeof e?this.track(\"viewUndetermined\",{macros:e,once:t}):this.emit(\"TRACKER-error\",{message:\"trackUndeterminedImpression given macros has the wrong type. macros: \".concat(e)})}error(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];\"object\"==typeof e&&\"boolean\"==typeof t?this.trackURLs(this.ad.errorURLTemplates,e,{isCustomCode:t}):this.emit(\"TRACKER-error\",{message:\"One given error parameter has the wrong type. macros: \".concat(u.formatMacrosValues(e),\", isCustomCode: \").concat(t)})}errorWithCode(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];\"string\"==typeof e&&\"boolean\"==typeof t?(this.error({ERRORCODE:e},t),console.log(\"The method errorWithCode is deprecated, please use vast tracker error method instead\")):this.emit(\"TRACKER-error\",{message:\"One given errorWithCode parameter has the wrong type. errorCode: \".concat(e,\", isCustomCode: \").concat(t)})}complete(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};\"object\"==typeof e?this.track(\"complete\",{macros:e}):this.emit(\"TRACKER-error\",{message:\"complete given macros has the wrong type. macros: \".concat(e)})}notUsed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};\"object\"==typeof e?(this.track(\"notUsed\",{macros:e}),this.trackingEvents=[]):this.emit(\"TRACKER-error\",{message:\"notUsed given macros has the wrong type. macros: \".concat(e)})}otherAdInteraction(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};\"object\"==typeof e?this.track(\"otherAdInteraction\",{macros:e}):this.emit(\"TRACKER-error\",{message:\"otherAdInteraction given macros has the wrong type. macros: \".concat(e)})}acceptInvitation(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};\"object\"==typeof e?this.track(\"acceptInvitation\",{macros:e}):this.emit(\"TRACKER-error\",{message:\"acceptInvitation given macros has the wrong type. macros: \".concat(e)})}adExpand(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};\"object\"==typeof e?this.track(\"adExpand\",{macros:e}):this.emit(\"TRACKER-error\",{message:\"adExpand given macros has the wrong type. macros: \".concat(e)})}adCollapse(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};\"object\"==typeof e?this.track(\"adCollapse\",{macros:e}):this.emit(\"TRACKER-error\",{message:\"adCollapse given macros has the wrong type. macros: \".concat(e)})}minimize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};\"object\"==typeof e?this.track(\"minimize\",{macros:e}):this.emit(\"TRACKER-error\",{message:\"minimize given macros has the wrong type. macros: \".concat(e)})}verificationNotExecuted(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(\"string\"!=typeof e||\"object\"!=typeof t)return void this.emit(\"TRACKER-error\",{message:\"One given verificationNotExecuted parameter has to wrong type. vendor: \".concat(e,\", macros: \").concat(u.formatMacrosValues(t))});if(!this.ad||!this.ad.adVerifications||!this.ad.adVerifications.length)throw new Error(\"No adVerifications provided\");if(!e)throw new Error(\"No vendor provided, unable to find associated verificationNotExecuted\");const r=this.ad.adVerifications.find((t=>t.vendor===e));if(!r)throw new Error(\"No associated verification element found for vendor: \".concat(e));const i=r.trackingEvents;if(i&&i.verificationNotExecuted){const e=i.verificationNotExecuted;this.trackURLs(e,t),this.emit(\"verificationNotExecuted\",{trackingURLTemplates:e})}}overlayViewDuration(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};\"string\"==typeof e&&\"object\"==typeof t?(t.ADPLAYHEAD=e,this.track(\"overlayViewDuration\",{macros:t})):this.emit(\"TRACKER-error\",{message:\"One given overlayViewDuration parameters has the wrong type. formattedDuration: \".concat(e,\", macros: \").concat(u.formatMacrosValues(t))})}close(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};\"object\"==typeof e?this.track(this.linear?\"closeLinear\":\"close\",{macros:e}):this.emit(\"TRACKER-error\",{message:\"close given macros has the wrong type. macros: \".concat(e)})}skip(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};\"object\"==typeof e?this.track(\"skip\",{macros:e}):this.emit(\"TRACKER-error\",{message:\"skip given macros has the wrong type. macros: \".concat(e)})}load(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};\"object\"==typeof e?this.track(\"loaded\",{macros:e}):this.emit(\"TRACKER-error\",{message:\"load given macros has the wrong type. macros: \".concat(e)})}click(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!==e&&\"string\"!=typeof e||\"object\"!=typeof t)return void this.emit(\"TRACKER-error\",{message:\"One given click parameter has the wrong type. fallbackClickThroughURL: \".concat(e,\", macros: \").concat(u.formatMacrosValues(t))});this.clickTrackingURLTemplates&&this.clickTrackingURLTemplates.length&&this.trackURLs(this.clickTrackingURLTemplates,t);const r=this.clickThroughURLTemplate||e,i={...t};if(r){this.progress&&(i.ADPLAYHEAD=this.progressFormatted());const e=u.resolveURLTemplates([r],i)[0];this.emit(\"clickthrough\",e)}}trackProgressEvents(e,t,r){const i=parseFloat(e.split(\"-\")[1]);Object.entries(this.trackingEvents).filter((e=>{let[t]=e;return t.startsWith(\"progress-\")})).map((e=>{let[t,r]=e;return{name:t,time:parseFloat(t.split(\"-\")[1]),urls:r}})).filter((e=>{let{time:t}=e;return t<=i&&t>this.progress})).forEach((e=>{let{name:i,urls:a}=e;!r&&this.trackedProgressEvents.includes(i)||(this.emit(i,{trackingURLTemplates:a}),this.trackURLs(a,t),r?delete this.trackingEvents[i]:this.trackedProgressEvents.push(i))}))}track(e){let{macros:t={},once:r=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(\"object\"!=typeof t)return void this.emit(\"TRACKER-error\",{message:\"track given macros has the wrong type. macros: \".concat(t)});\"closeLinear\"===e&&!this.trackingEvents[e]&&this.trackingEvents.close&&(e=\"close\"),e.startsWith(\"progress-\")&&!e.endsWith(\"%\")&&this.trackProgressEvents(e,t,r);const i=this.trackingEvents[e],a=this.emitAlwaysEvents.indexOf(e)>-1;i?(this.emit(e,{trackingURLTemplates:i}),this.trackURLs(i,t)):a&&this.emit(e,null),r&&(delete this.trackingEvents[e],a&&this.emitAlwaysEvents.splice(this.emitAlwaysEvents.indexOf(e),1))}trackURLs(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{validUrls:a,invalidUrls:s}=u.filterUrlTemplates(e);s.length&&this.emit(\"TRACKER-error\",{message:\"Provided urls are malformed. url: \".concat(s)});const n={...r};this.linear&&(this.creative&&this.creative.mediaFiles&&this.creative.mediaFiles[0]&&this.creative.mediaFiles[0].fileURL&&(n.ASSETURI=this.creative.mediaFiles[0].fileURL),this.progress&&(n.ADPLAYHEAD=this.progressFormatted())),null!==(t=this.creative)&&void 0!==t&&null!==(t=t.universalAdIds)&&void 0!==t&&t.length&&(n.UNIVERSALADID=this.creative.universalAdIds.map((e=>e.idRegistry.concat(\" \",e.value))).join(\",\")),this.ad&&(this.ad.sequence&&(n.PODSEQUENCE=this.ad.sequence),this.ad.adType&&(n.ADTYPE=this.ad.adType),this.ad.adServingId&&(n.ADSERVINGID=this.ad.adServingId),this.ad.categories&&this.ad.categories.length&&(n.ADCATEGORIES=this.ad.categories.map((e=>e.value)).join(\",\")),this.ad.blockedAdCategories&&this.ad.blockedAdCategories.length&&(n.BLOCKEDADCATEGORIES=this.ad.blockedAdCategories.map((e=>e.value)).join(\",\"))),u.track(a,n,i)}convertToTimecode(e){if(!u.isValidTimeValue(e))return\"\";const t=1e3*e,r=Math.floor(t/36e5),i=Math.floor(t/6e4%60),a=Math.floor(t/1e3%60),s=Math.floor(t%1e3);return\"\".concat(u.addLeadingZeros(r,2),\":\").concat(u.addLeadingZeros(i,2),\":\").concat(u.addLeadingZeros(a,2),\".\").concat(u.addLeadingZeros(s,3))}progressFormatted(){return this.convertToTimecode(this.progress)}}export{_ as VASTClient,B as VASTParser,z as VASTTracker,p as parseDuration};\n","/**\r\n * Created by hoho on 26/06/2019.\r\n */\r\nimport {\r\n  AD_CHANGED,\r\n  AD_TIME,\r\n  CONTENT_VOLUME,\r\n  STATE_AD_COMPLETE,\r\n  STATE_AD_LOADED,\r\n  STATE_AD_PAUSED,\r\n  STATE_AD_PLAYING,\r\n  STATE_PLAYING\r\n} from \"api/constants\";\r\nimport LA$ from \"utils/likeA$.js\";\r\n\r\nconst Listener = function(elAdVideo, vastTracker, provider, adsSpec, adButton, textView, OnAdError){\r\n    const lowLevelEvents = {};\r\n    let that = {};\r\n    const MEDIAFILE_PLAYBACK_ERROR = '405';\r\n\r\n    let $textView = LA$(textView);\r\n    let $adButton = LA$(adButton);\r\n    let $elAdVideo = LA$(elAdVideo);\r\n\r\n    provider.on(CONTENT_VOLUME, function(data) {\r\n        if(data.mute){\r\n            elAdVideo.muted = true;\r\n        }else{\r\n            elAdVideo.muted = false;\r\n            elAdVideo.volume = data.volume/100;\r\n        }\r\n    }, that);\r\n\r\n    //Like a CONTENT_RESUME_REQUESTED\r\n    const processEndOfAd = function(){\r\n        adsSpec.active = false;\r\n\r\n        $adButton.hide();\r\n\r\n        if(adsSpec.started && (provider.getPosition() === 0 || !adsSpec.isVideoEnded)  ){\r\n            $elAdVideo.hide();\r\n            provider.play();\r\n        }\r\n        provider.trigger(STATE_AD_COMPLETE);\r\n    };\r\n    //Like a CONTENT_PAUSE_REQUESTED\r\n    const processStartOfAd = function(){\r\n\r\n        $elAdVideo.show();\r\n        $adButton.show();\r\n\r\n    };\r\n    const skipButtonClicked = function(event){\r\n        if($textView.hasClass(\"videoAdUiAction\")){\r\n            vastTracker.skip();\r\n            elAdVideo.pause();\r\n            processEndOfAd();\r\n        }\r\n    };\r\n\r\n    textView.addEventListener(\"click\", skipButtonClicked, false);\r\n\r\n\r\n    lowLevelEvents.error = function(){\r\n        OvenPlayerConsole.log(\"VAST : listener : error.\", elAdVideo.error);\r\n        console.log(\"VAST : listener : error.\", elAdVideo.error);\r\n        let error = {};\r\n        const code = (elAdVideo.error && elAdVideo.error.code) || 0;\r\n\r\n        if(code === 2) {\r\n            error.code = 402;\r\n            error.message = \"Timeout of MediaFile URI.\";\r\n        }else if(code === 3){\r\n            error.code = 405;\r\n            error.message = \"Problem displaying MediaFile. Video player found a MediaFile with supported type but couldn’t display it. MediaFile may include: unsupported codecs, different MIME type than MediaFile@type, unsupported delivery method, etc.\";\r\n        }else if(code === 4){\r\n            error.code = 403;\r\n            error.message = \"Couldn’t find MediaFile that is supported by this video player, based on the attributes of the MediaFile element.\";\r\n        }else{\r\n            error.code = 400;\r\n            error.message = \"General Linear error. Video player is unable to display the Linear Ad.\";\r\n        }\r\n        vastTracker.errorWithCode(error.code);\r\n        OnAdError(MEDIAFILE_PLAYBACK_ERROR);\r\n    };\r\n\r\n    lowLevelEvents.canplay = function(){\r\n\r\n    };\r\n    lowLevelEvents.ended = function(){\r\n        vastTracker.complete();\r\n\r\n        processEndOfAd();\r\n    };\r\n    lowLevelEvents.click = function(event){\r\n        vastTracker.click();\r\n    };\r\n    lowLevelEvents.play = function(){\r\n        vastTracker.setPaused(false);\r\n    };\r\n    lowLevelEvents.pause = function(){\r\n        vastTracker.setPaused(true);\r\n    };\r\n    lowLevelEvents.timeupdate = function(event){\r\n        vastTracker.setProgress(event.target.currentTime);\r\n        provider.trigger(AD_TIME, {\r\n            duration : elAdVideo.duration,\r\n            position : elAdVideo.currentTime\r\n        });\r\n    };\r\n    lowLevelEvents.volumechange = function(event){\r\n        OvenPlayerConsole.log(\"VAST : listener : Ad Video Volumechange.\");\r\n        vastTracker.setMuted(event.target.muted);\r\n    };\r\n    lowLevelEvents.loadedmetadata = function(){\r\n        OvenPlayerConsole.log(\"VAST : listener : Ad CONTENT LOADED .\");\r\n\r\n        //Flash play is very fast...\r\n        if(STATE_PLAYING === provider.getState()){\r\n            provider.pause();\r\n        }\r\n\r\n        vastTracker.trackImpression();\r\n\r\n        provider.trigger(STATE_AD_LOADED, {remaining : elAdVideo.duration, isLinear : true});\r\n        elAdVideo.play();\r\n    };\r\n\r\n    vastTracker.on('skip', () => {\r\n        // skip tracking URLs have been called\r\n        OvenPlayerConsole.log(\"VAST : listener : skipped\");\r\n    });\r\n\r\n    vastTracker.on('mute', () => {\r\n        // mute tracking URLs have been called\r\n        OvenPlayerConsole.log(\"VAST : listener : muted\");\r\n    });\r\n\r\n    vastTracker.on('unmute', () => {\r\n        // unmute tracking URLs have been called\r\n        OvenPlayerConsole.log(\"VAST : listener : unmuted\");\r\n    });\r\n\r\n    vastTracker.on('resume', () => {\r\n        // resume tracking URLs have been called\r\n        OvenPlayerConsole.log(\"VAST : listener : vastTracker resumed.\");\r\n\r\n        //prevent to set STATE_AD_PLAYING when first play.\r\n        if(adsSpec.started){\r\n            provider.setState(STATE_AD_PLAYING);\r\n        }\r\n\r\n    });\r\n    vastTracker.on('pause', () => {\r\n        // pause tracking URLs have been called\r\n        OvenPlayerConsole.log(\"VAST : listener : vastTracker paused.\");\r\n        provider.setState(STATE_AD_PAUSED);\r\n    });\r\n\r\n    vastTracker.on('clickthrough', url => {\r\n        // Open the resolved clickThrough url\r\n        OvenPlayerConsole.log(\"VAST : listener : clickthrough :\", url);\r\n        //document.location.href = url;\r\n        window.open(url, '_blank');\r\n\r\n    });\r\n\r\n    vastTracker.on('skip-countdown', (data) => {\r\n        if(data === 0){\r\n            if(adsSpec.lang === \"ko\"){\r\n                $textView.html(\"광고 건너뛰기<i class='op-con op-arrow-right btn-right'></i>\");\r\n            }else{\r\n                $textView.html(\"Ad Skip<i class='op-con op-arrow-right btn-right'></i>\");\r\n            }\r\n            $textView.addClass(\"videoAdUiAction\");\r\n        }else{\r\n            if(adsSpec.lang === \"ko\"){\r\n                $textView.html((parseInt(data)+1)+\"초 후에 이 광고를 건너뛸 수 있습니다.\");\r\n            }else{\r\n                $textView.html(\"You can skip this ad in \"+(parseInt(data)+1));\r\n\r\n            }\r\n        }\r\n    });\r\n    vastTracker.on('rewind', () => {\r\n        OvenPlayerConsole.log(\"VAST : listener : rewind\");\r\n    });\r\n\r\n    vastTracker.on('start', () => {\r\n        OvenPlayerConsole.log(\"VAST : listener : started\");\r\n\r\n        adsSpec.started = true;\r\n        adsSpec.active = true;\r\n        processStartOfAd();\r\n\r\n        provider.trigger(AD_CHANGED, {isLinear : true});\r\n        provider.setState(STATE_AD_PLAYING);\r\n    });\r\n    vastTracker.on('firstQuartile', () => {\r\n        // firstQuartile tracking URLs have been called\r\n        OvenPlayerConsole.log(\"VAST : listener : firstQuartile\");\r\n    });\r\n    vastTracker.on('midpoint', () => {\r\n        OvenPlayerConsole.log(\"VAST : listener : midpoint\");\r\n    });\r\n    vastTracker.on('thirdQuartile', () => {\r\n        OvenPlayerConsole.log(\"VAST : listener : thirdQuartile\");\r\n    });\r\n\r\n    vastTracker.on('creativeView', () => {\r\n        // impression tracking URLs have been called\r\n        OvenPlayerConsole.log(\"VAST : listener : creativeView\");\r\n\r\n    });\r\n\r\n    Object.keys(lowLevelEvents).forEach(eventName => {\r\n        elAdVideo.removeEventListener(eventName, lowLevelEvents[eventName]);\r\n        elAdVideo.addEventListener(eventName, lowLevelEvents[eventName]);\r\n    });\r\n\r\n    that.destroy = () =>{\r\n        OvenPlayerConsole.log(\"EventListener : destroy()\");\r\n        textView.removeEventListener(\"click\", skipButtonClicked, false);\r\n        Object.keys(lowLevelEvents).forEach(eventName => {\r\n            elAdVideo.removeEventListener(eventName, lowLevelEvents[eventName]);\r\n        });\r\n    };\r\n    return that;\r\n};\r\n\r\nexport default Listener;\r\n","/**\r\n * Created by hoho on 25/06/2019.\r\n */\r\n\r\nimport {VASTClient, VASTTracker} from '@dailymotion/vast-client';\r\nimport AdsEventsListener from \"api/ads/vast/Listener\";\r\nimport {TEMP_VIDEO_URL} from \"api/ads/utils\";\r\nimport {PROVIDER_DASH, STATE_AD_ERROR} from \"api/constants\";\r\n\r\nconst Ad = function(elVideo, provider, playerConfig, adTagUrl){\r\n    const AUTOPLAY_NOT_ALLOWED = \"autoplayNotAllowed\";\r\n\r\n    let that = {};\r\n    let spec = {\r\n        started: false, //player started\r\n        active : false, //on Ad\r\n        isVideoEnded : false,\r\n        lang : playerConfig.getLanguage()\r\n    };\r\n    let adsErrorOccurred = false;\r\n    let listener = null;\r\n\r\n    let container = \"\";\r\n    let elAdVideo = null;\r\n    let textView = \"\";\r\n    let adButton = \"\";\r\n\r\n    let autoplayAllowed = false, autoplayRequiresMuted = false;\r\n    let browser = playerConfig.getBrowser();\r\n    let isMobile = browser.os === \"Android\" || browser.os === \"iOS\";\r\n\r\n    const createAdContainer = () => {\r\n        let adContainer = document.createElement('div');\r\n        adContainer.setAttribute('class', 'op-ads');\r\n        adContainer.setAttribute('id', 'op-ads');\r\n        playerConfig.getContainer().append(adContainer);\r\n\r\n        elAdVideo = document.createElement('video');\r\n        elAdVideo.setAttribute('playsinline', 'true');\r\n        elAdVideo.setAttribute('title', 'Advertisement');\r\n        elAdVideo.setAttribute('class', 'op-ads-vast-video');\r\n\r\n        adButton = document.createElement('div');\r\n        adButton.setAttribute('class', 'op-ads-button');\r\n\r\n        textView = document.createElement('div');\r\n        textView.setAttribute('class', 'op-ads-textview');\r\n\r\n        adButton.append(textView);\r\n        adContainer.append(elAdVideo);\r\n        adContainer.append(adButton);\r\n\r\n        return adContainer;\r\n    };\r\n\r\n    container = createAdContainer();\r\n\r\n    let vastClient = new VASTClient();\r\n    let vastTracker = null;\r\n    let ad = null;\r\n\r\n\r\n    const OnAdError = function(error){\r\n        console.log(error);\r\n        adsErrorOccurred = true;\r\n        elAdVideo.style.display = \"none\";\r\n        provider.trigger(STATE_AD_ERROR, {code : error.code, message : error.message});\r\n        spec.active = false;\r\n        spec.started = true;\r\n        provider.play();\r\n    };\r\n\r\n    const initRequest = function () {\r\n        vastClient.get(adTagUrl) .then(res => {\r\n            // Do something with the parsed VAST response\r\n            OvenPlayerConsole.log(\"VAST : initRequest()\");\r\n            ad = res.ads[0];\r\n            if(!ad){\r\n                throw {code : 401, message : \"File not found. Unable to find Linear/MediaFile from URI.\"};\r\n            }\r\n            vastTracker = new VASTTracker(vastClient, ad, ad.creatives[0]);\r\n\r\n            OvenPlayerConsole.log(\"VAST : created ad tracker.\");\r\n\r\n            listener = AdsEventsListener(elAdVideo, vastTracker, provider, spec, adButton, textView, OnAdError);\r\n\r\n            let videoURL =  \"\";\r\n            if(ad.creatives && ad.creatives.length > 0 && ad.creatives[0].mediaFiles && ad.creatives[0].mediaFiles.length > 0 && ad.creatives[0].mediaFiles[0].fileURL){\r\n                videoURL = ad.creatives[0].mediaFiles[0].fileURL;\r\n                OvenPlayerConsole.log(\"VAST : media url : \", videoURL);\r\n            }\r\n            elAdVideo.src = videoURL;\r\n\r\n            //keep volume even if playlist item changes.\r\n            elAdVideo.volume = elVideo.volume;\r\n            elAdVideo.muted = elVideo.muted;\r\n\r\n        }).catch(function(error){\r\n            OnAdError(error);\r\n        });\r\n\r\n    };\r\n\r\n\r\n\r\n    const checkAutoplaySupport = function () {\r\n        OvenPlayerConsole.log(\"VAST : checkAutoplaySupport() \");\r\n\r\n        let temporarySupportCheckVideo = document.createElement('video');\r\n        temporarySupportCheckVideo.setAttribute('playsinline', 'true');\r\n        temporarySupportCheckVideo.src = TEMP_VIDEO_URL;\r\n        temporarySupportCheckVideo.load();\r\n\r\n\r\n        elAdVideo.load();   //for ios User Interaction problem\r\n        //Dash has already loaded when triggered provider.play() always.\r\n        if(isMobile && provider.getName() !== PROVIDER_DASH ){\r\n            //Main video sets user gesture when temporarySupportCheckVideo triggered checking.\r\n            elVideo.load();\r\n        }\r\n        const clearAndReport = function(_autoplayAllowed, _autoplayRequiresMuted){\r\n            autoplayAllowed = _autoplayAllowed;\r\n            autoplayRequiresMuted = _autoplayRequiresMuted;\r\n            temporarySupportCheckVideo.pause();\r\n            temporarySupportCheckVideo.remove();\r\n        };\r\n\r\n        return new Promise(function(resolve, reject){\r\n            if(!temporarySupportCheckVideo.play){\r\n                //I can't remember this case...\r\n                OvenPlayerConsole.log(\"VAST : !temporarySupportCheckVideo.play\");\r\n                clearAndReport(true, false);\r\n                resolve();\r\n            }else{\r\n                let playPromise = temporarySupportCheckVideo.play();\r\n                if (playPromise !== undefined) {\r\n                    playPromise.then(function(){\r\n                        OvenPlayerConsole.log(\"VAST : auto play allowed.\");\r\n                        // If we make it here, unmuted autoplay works.\r\n                        clearAndReport(true, false);\r\n                        resolve();\r\n                    }).catch(function(error){\r\n                        OvenPlayerConsole.log(\"VAST : auto play failed\", error.message);\r\n                        clearAndReport(false, false);\r\n                        resolve();\r\n                    });\r\n                }else{\r\n                    OvenPlayerConsole.log(\"VAST : promise not support\");\r\n                    //Maybe this is IE11....\r\n                    clearAndReport(true, false);\r\n                    resolve();\r\n                }\r\n            }\r\n        });\r\n    }\r\n    that.isActive = () => {\r\n        return spec.active;\r\n    };\r\n    that.started = () => {\r\n        return spec.started;\r\n    };\r\n    that.play = () => {\r\n        if(spec.started){\r\n            return elAdVideo.play();\r\n        }else{\r\n            return new Promise(function (resolve, reject) {\r\n\r\n                const checkMainContentLoaded = function(){\r\n\r\n                    //wait for main contents meta loaded.\r\n                    //have to trigger CONTENT_META first. next trigger AD_CHANGED.\r\n                    //initControlUI first ->  init ad UI\r\n                    //Maybe google ima waits content loaded internal.\r\n                    if(provider.metaLoaded()){\r\n                        OvenPlayerConsole.log(\"VAST : main contents meta loaded.\");\r\n                        checkAutoplaySupport().then(function(){\r\n                            if( (playerConfig.isAutoStart() && !autoplayAllowed) ){\r\n                                OvenPlayerConsole.log(\"VAST : autoplayAllowed : false\");\r\n                                spec.started = false;\r\n                                reject(new Error(AUTOPLAY_NOT_ALLOWED));\r\n                            }else{\r\n                                initRequest();\r\n\r\n                                resolve();\r\n                            }\r\n                        });\r\n\r\n                    }else{\r\n                        setTimeout(checkMainContentLoaded, 100);\r\n                    }\r\n\r\n                };\r\n                checkMainContentLoaded();\r\n\r\n            });\r\n        }\r\n    };\r\n    that.pause = () => {\r\n        elAdVideo.pause();\r\n    };\r\n\r\n    //End Of Main Contents.\r\n    that.videoEndedCallback = (completeContentCallback) => {\r\n\r\n        completeContentCallback();\r\n        //check true when main contents ended.\r\n        spec.isVideoEnded = true;\r\n    };\r\n    that.destroy = () => {\r\n        if(listener){\r\n            listener.destroy();\r\n            listener = null;\r\n        }\r\n        vastTracker = null;\r\n        vastClient = null;\r\n\r\n        container.remove();\r\n\r\n    };\r\n    return that;\r\n};\r\n\r\nexport default Ad;\r\n","/**\r\n * Created by hoho on 2018. 11. 12..\r\n */\r\nimport {ERROR, STATE_ERROR} from \"api/constants\";\r\nimport _ from \"underscore\";\r\n\r\nexport const extractVideoElement = function (elementOrMse) {\r\n    if (_.isElement(elementOrMse)) {\r\n        return elementOrMse;\r\n    }\r\n    if (elementOrMse.getVideoElement) {\r\n        return elementOrMse.getVideoElement();\r\n    } else if (elementOrMse.media) {\r\n        return elementOrMse.media;\r\n    }\r\n    return null;\r\n};\r\n\r\nexport const separateLive = function (mse) {\r\n    //ToDo : You consider hlsjs. But not now because we don't support hlsjs.\r\n\r\n    if (mse && mse.isDynamic) {\r\n        return mse.isDynamic();\r\n    } else {\r\n        return false;\r\n    }\r\n};\r\n\r\nexport const errorTrigger = function (error, provider) {\r\n    if (provider) {\r\n        provider.setState(STATE_ERROR);\r\n        provider.pause();\r\n        provider.trigger(ERROR, error);\r\n    }\r\n\r\n};\r\n\r\nexport const pickCurrentSource = (sources, playerConfig) => {\r\n\r\n    let sourceIndex = 0;\r\n\r\n    if (sources) {\r\n\r\n        if (playerConfig.getSourceIndex() === -1) {\r\n\r\n            for (var i = 0; i < sources.length; i++) {\r\n                if (sources[i].default) {\r\n                    sourceIndex = i;\r\n                    break;\r\n                }\r\n            }\r\n        } else {\r\n\r\n            sourceIndex = playerConfig.getSourceIndex();\r\n        }\r\n\r\n    }\r\n\r\n    return sourceIndex;\r\n}\r\n\r\nexport function getSeekableStartEnd(mediaElement) {\r\n    let start = mediaElement.seekable.start(0);\r\n    let end = mediaElement.seekable.end(mediaElement.seekable.length - 1);\r\n    return {\r\n        start: start,\r\n        end: end\r\n    };\r\n}\r\n","import {\r\n  CONTENT_BUFFER,\r\n  CONTENT_BUFFER_FULL,\r\n  CONTENT_DURATION_CHANGED,\r\n  CONTENT_META,\r\n  CONTENT_SEEK,\r\n  CONTENT_SEEKED,\r\n  CONTENT_TIME,\r\n  CONTENT_VOLUME,\r\n  ERRORS,\r\n  PLAYER_FILE_ERROR,\r\n  PLAYER_UNKNWON_DECODE_ERROR,\r\n  PLAYER_UNKNWON_ERROR,\r\n  PLAYER_UNKNWON_NETWORK_ERROR,\r\n  PLAYER_UNKNWON_OPERATION_ERROR,\r\n  STATE_AD_PLAYING,\r\n  STATE_COMPLETE,\r\n  STATE_ERROR,\r\n  STATE_IDLE,\r\n  STATE_LOADING,\r\n  STATE_PAUSED,\r\n  STATE_PLAYING,\r\n  STATE_STALLED\r\n} from \"api/constants\";\r\nimport {errorTrigger} from \"api/provider/utils\";\r\n\r\n/**\r\n * @brief   Trigger on various video events.\r\n * @param   extendedElement extended media object by mse.\r\n * @param   Provider provider  html5Provider\r\n * */\r\n\r\n\r\nconst Listener = function (element, provider, videoEndedCallback, playerConfig) {\r\n    const lowLevelEvents = {};\r\n\r\n    OvenPlayerConsole.log(\"EventListener loaded.\", element, provider);\r\n    const that = {};\r\n\r\n    let stalled = -1;\r\n    let elVideo = element;\r\n    const between = function (num, min, max) {\r\n        return Math.max(Math.min(num, max), min);\r\n    };\r\n    const compareStalledTime = function (stalled, position) {\r\n        //Original Code is stalled !== position\r\n        //Because Dashjs is very meticulous. Then always diffrence stalled and position.\r\n        //That is why when I use toFixed(2).\r\n        return stalled.toFixed(2) === position.toFixed(2);\r\n    };\r\n\r\n    lowLevelEvents.canplay = () => {\r\n        //Fires when the browser can start playing the audio/video\r\n        provider.setCanSeek(true);\r\n        provider.trigger(CONTENT_BUFFER_FULL);\r\n        OvenPlayerConsole.log(\"EventListener : on canplay\");\r\n    };\r\n\r\n    lowLevelEvents.durationchange = () => {\r\n        //Fires when the duration of the audio/video is changed\r\n        lowLevelEvents.progress();\r\n        OvenPlayerConsole.log(\"EventListener : on durationchange\");\r\n\r\n        provider.trigger(CONTENT_DURATION_CHANGED);\r\n    };\r\n\r\n    lowLevelEvents.ended = () => {\r\n        //Fires when the current playlist is ended\r\n        OvenPlayerConsole.log(\"EventListener : on ended\");\r\n\r\n        // IE doesn't set paused property to true. So force set it.\r\n        elVideo.pause();\r\n\r\n        if (provider.getState() !== STATE_IDLE && provider.getState() !== STATE_COMPLETE && provider.getState() !== STATE_ERROR) {\r\n            if (videoEndedCallback) {\r\n                videoEndedCallback(function () {\r\n                    provider.setState(STATE_COMPLETE);\r\n                });\r\n            } else {\r\n                provider.setState(STATE_COMPLETE);\r\n            }\r\n        }\r\n    };\r\n\r\n    lowLevelEvents.loadeddata = () => {\r\n        //Fires when the browser has loaded the current frame of the audio/video\r\n        //Do nothing Because this causes chaos by loadedmetadata.\r\n        /*\r\n        var metadata = {\r\n            duration: elVideo.duration,\r\n            height: elVideo.videoHeight,\r\n            width: elVideo.videoWidth\r\n        };\r\n        provider.trigger(CONTENT_META, metadata);*/\r\n    };\r\n\r\n    lowLevelEvents.loadedmetadata = () => {\r\n        //Fires when the browser has loaded meta data for the audio/video\r\n\r\n        let sources = provider.getSources();\r\n        let sourceIndex = provider.getCurrentSource();\r\n        let type = sourceIndex > -1 ? sources[sourceIndex].type : \"\";\r\n        var metadata = {\r\n            duration: provider.isLive() ? Infinity : elVideo.duration,\r\n            type: type\r\n        };\r\n\r\n        provider.setMetaLoaded();\r\n\r\n        OvenPlayerConsole.log(\"EventListener : on loadedmetadata\", metadata);\r\n        provider.trigger(CONTENT_META, metadata);\r\n    };\r\n\r\n    lowLevelEvents.pause = () => {\r\n        //Fires when the audio/video has been paused\r\n        if (provider.getState() === STATE_COMPLETE || provider.getState() === STATE_ERROR) {\r\n            return false;\r\n        }\r\n        if (elVideo.ended) {\r\n            return false;\r\n        }\r\n        if (elVideo.error) {\r\n            return false;\r\n        }\r\n        if (elVideo.currentTime === elVideo.duration) {\r\n            return false;\r\n        }\r\n        OvenPlayerConsole.log(\"EventListener : on pause\");\r\n\r\n        provider.setState(STATE_PAUSED);\r\n    };\r\n\r\n    lowLevelEvents.loadstart = () => {\r\n\r\n        if (playerConfig) {\r\n            if (!playerConfig.getConfig().showBigPlayButton && playerConfig.getConfig().autoStart) {\r\n                provider.setState(STATE_LOADING);\r\n            }\r\n        }\r\n    };\r\n\r\n    lowLevelEvents.play = () => {\r\n\r\n        //Fires when the audio/video has been started or is no longer paused\r\n        stalled = -1;\r\n        if (!elVideo.paused && provider.getState() !== STATE_PLAYING) {\r\n            provider.setState(STATE_LOADING);\r\n        }\r\n    };\r\n\r\n    lowLevelEvents.playing = () => {\r\n        //Fires when the audio/video is playing after having been paused or stopped for buffering\r\n        OvenPlayerConsole.log(\"EventListener : on playing\");\r\n        if (stalled < 0) {\r\n            provider.setState(STATE_PLAYING);\r\n        }\r\n    };\r\n\r\n    lowLevelEvents.progress = () => {\r\n        //Fires when the browser is downloading the audio/video\r\n        let timeRanges = elVideo.buffered;\r\n        if (!timeRanges) {\r\n            return false;\r\n        }\r\n\r\n        let duration = elVideo.duration, position = elVideo.currentTime;\r\n        let buffered = between((timeRanges.length > 0 ? timeRanges.end(timeRanges.length - 1) : 0) / duration, 0, 1);\r\n\r\n        provider.setBuffer(buffered * 100);\r\n        provider.trigger(CONTENT_BUFFER, {\r\n            bufferPercent: buffered * 100,\r\n            position: position,\r\n            duration: duration\r\n        });\r\n        OvenPlayerConsole.log(\"EventListener : on progress\", buffered * 100);\r\n    };\r\n\r\n\r\n    lowLevelEvents.timeupdate = () => {\r\n        //Fires when the current playback position has changed\r\n        let position = elVideo.currentTime;\r\n        let duration = elVideo.duration;\r\n        if (isNaN(duration)) {\r\n            return;\r\n        }\r\n\r\n        if (position > duration) {\r\n            elVideo.pause();\r\n            provider.setState(STATE_COMPLETE);\r\n            return;\r\n        }\r\n\r\n        let sectionStart = provider.getSources()[provider.getCurrentSource()].sectionStart;\r\n\r\n        if (sectionStart && position < sectionStart && provider.getState() === STATE_PLAYING) {\r\n\r\n            provider.seek(sectionStart);\r\n        }\r\n\r\n        let sectionEnd = provider.getSources()[provider.getCurrentSource()].sectionEnd;\r\n\r\n        if (sectionEnd && position > sectionEnd && provider.getState() === STATE_PLAYING) {\r\n\r\n            provider.stop();\r\n            provider.setState(STATE_COMPLETE);\r\n            return;\r\n        }\r\n\r\n        //Sometimes dash live gave to me crazy duration. (9007199254740991...) why???\r\n        if (duration > 9000000000000000) {    //9007199254740991\r\n            duration = Infinity;\r\n        }\r\n\r\n        if (!provider.isSeeking() && !elVideo.paused && (provider.getState() === STATE_STALLED || provider.getState() === STATE_LOADING || provider.getState() === STATE_AD_PLAYING) &&\r\n            !compareStalledTime(stalled, position)) {\r\n            stalled = -1;\r\n            provider.setState(STATE_PLAYING);\r\n        }\r\n\r\n        if (sectionStart && sectionStart > 0) {\r\n\r\n            position = position - sectionStart;\r\n\r\n            if (position < 0) {\r\n                position = 0;\r\n            }\r\n        }\r\n\r\n        if (sectionEnd) {\r\n            duration = sectionEnd;\r\n        }\r\n\r\n        if (sectionStart) {\r\n            duration = duration - sectionStart;\r\n        }\r\n\r\n        if (provider.getState() === STATE_PLAYING || provider.isSeeking()) {\r\n            provider.trigger(CONTENT_TIME, {\r\n                position: position,\r\n                duration: duration\r\n            });\r\n        }\r\n\r\n    };\r\n\r\n    lowLevelEvents.seeking = () => {\r\n        provider.setSeeking(true);\r\n        OvenPlayerConsole.log(\"EventListener : on seeking\", elVideo.currentTime);\r\n        provider.trigger(CONTENT_SEEK, {\r\n            position: elVideo.currentTime\r\n        });\r\n    };\r\n    lowLevelEvents.seeked = () => {\r\n        if (!provider.isSeeking()) {\r\n            return;\r\n        }\r\n        OvenPlayerConsole.log(\"EventListener : on seeked\");\r\n        provider.setSeeking(false);\r\n        provider.trigger(CONTENT_SEEKED);\r\n    };\r\n\r\n    lowLevelEvents.stalled = () => {\r\n        OvenPlayerConsole.log(\"EventListener : on stalled\");\r\n        //This callback does not work on chrome. This calls on Firefox intermittent. Then do not work here. using waiting event.\r\n    };\r\n\r\n    lowLevelEvents.waiting = () => {\r\n        //Fires when the video stops because it needs to buffer the next frame\r\n        OvenPlayerConsole.log(\"EventListener : on waiting\", provider.getState());\r\n        if (provider.isSeeking()) {\r\n            provider.setState(STATE_LOADING);\r\n        } else if (provider.getState() === STATE_PLAYING) {\r\n            stalled = elVideo.currentTime;\r\n            provider.setState(STATE_STALLED);\r\n        }\r\n    };\r\n\r\n    lowLevelEvents.volumechange = () => {\r\n        OvenPlayerConsole.log(\"EventListener : on volumechange\", Math.round(elVideo.volume * 100));\r\n        provider.trigger(CONTENT_VOLUME, {\r\n            volume: Math.round(elVideo.volume * 100),\r\n            mute: elVideo.muted\r\n        });\r\n    };\r\n\r\n    lowLevelEvents.error = () => {\r\n        const code = (elVideo.error && elVideo.error.code) || 0;\r\n        let convertedErroCode = ({\r\n            0: PLAYER_UNKNWON_ERROR,\r\n            1: PLAYER_UNKNWON_OPERATION_ERROR,\r\n            2: PLAYER_UNKNWON_NETWORK_ERROR,\r\n            3: PLAYER_UNKNWON_DECODE_ERROR,\r\n            4: PLAYER_FILE_ERROR\r\n        }[code] || 0);\r\n\r\n        OvenPlayerConsole.log(\"EventListener : on error\", convertedErroCode);\r\n        errorTrigger(ERRORS.codes[convertedErroCode], provider);\r\n    };\r\n\r\n    Object.keys(lowLevelEvents).forEach(eventName => {\r\n        elVideo.removeEventListener(eventName, lowLevelEvents[eventName]);\r\n        elVideo.addEventListener(eventName, lowLevelEvents[eventName]);\r\n    });\r\n\r\n    that.destroy = () => {\r\n        OvenPlayerConsole.log(\"EventListener : destroy()\");\r\n\r\n        Object.keys(lowLevelEvents).forEach(eventName => {\r\n            elVideo.removeEventListener(eventName, lowLevelEvents[eventName]);\r\n        });\r\n    };\r\n    return that;\r\n};\r\n\r\nexport default Listener;\r\n","/**\r\n * Created by hoho on 2018. 6. 27..\r\n */\r\nimport Ima from \"api/ads/ima/Ad\";\r\nimport Vast from \"api/ads/vast/Ad\";\r\nimport EventEmitter from \"api/EventEmitter\";\r\nimport EventsListener from \"api/provider/html5/Listener\";\r\nimport {pickCurrentSource} from \"api/provider/utils\";\r\nimport {\r\n  AD_CLIENT_VAST,\r\n  CONTENT_META,\r\n  CONTENT_MUTE,\r\n  PLAYBACK_RATE_CHANGED,\r\n  PLAYER_COMPLETE,\r\n  PLAYER_PAUSE,\r\n  PLAYER_PLAY,\r\n  PLAYER_STATE,\r\n  PLAYER_ZOOM_CAHNGED,\r\n  STATE_AD_PAUSED,\r\n  STATE_AD_PLAYING,\r\n  STATE_COMPLETE,\r\n  STATE_ERROR,\r\n  STATE_IDLE,\r\n  STATE_PAUSED,\r\n  STATE_PLAYING\r\n} from \"api/constants\";\r\n\r\n/**\r\n * @brief   Core For Html5 Video.\r\n * @param   spec member value\r\n * @param   playerConfig  player config\r\n * @param   onExtendedLoad on load handler\r\n * */\r\nconst Provider = function (spec, playerConfig, onExtendedLoad) {\r\n    OvenPlayerConsole.log(\"[Provider] loaded. \");\r\n\r\n    let that = {};\r\n    EventEmitter(that);\r\n\r\n    let dashAttachedView = false;\r\n\r\n    let elVideo = spec.element;\r\n    let ads = null, listener = null, videoEndedCallback = null;\r\n\r\n    let isPlayingProcessing = false;\r\n\r\n    if (spec.adTagUrl) {\r\n        OvenPlayerConsole.log(\"[Provider] Ad Client - \", playerConfig.getAdClient());\r\n        if (playerConfig.getAdClient() === AD_CLIENT_VAST) {\r\n            ads = Vast(elVideo, that, playerConfig, spec.adTagUrl);\r\n        } else {\r\n            ads = Ima(elVideo, that, playerConfig, spec.adTagUrl);\r\n        }\r\n\r\n        if (!ads) {\r\n            console.log(\"Can not load due to google ima for Ads.\");\r\n        }\r\n    }\r\n\r\n    listener = EventsListener(elVideo, that, ads ? ads.videoEndedCallback : null, playerConfig);\r\n    elVideo.playbackRate = elVideo.defaultPlaybackRate = playerConfig.getPlaybackRate();\r\n    spec.zoomFactor = 1.0;\r\n\r\n    const _load = (lastPlayPosition) => {\r\n\r\n        const source = spec.sources[spec.currentSource];\r\n        spec.framerate = source.framerate;\r\n\r\n        that.setVolume(playerConfig.getVolume());\r\n\r\n        if (!spec.framerate) {\r\n            //init timecode mode\r\n            playerConfig.setTimecodeMode(true);\r\n        }\r\n        if (onExtendedLoad) {\r\n            onExtendedLoad(source, lastPlayPosition);\r\n\r\n        } else {\r\n\r\n            OvenPlayerConsole.log(\"source loaded : \", source, \"lastPlayPosition : \" + lastPlayPosition);\r\n\r\n            let previousSource = elVideo.src;\r\n\r\n            // const sourceElement = document.createElement('source');\r\n            // sourceElement.src = source.file;\r\n\r\n            const sourceChanged = (source.file !== previousSource);\r\n\r\n            if (sourceChanged) {\r\n\r\n                elVideo.src = source.file;\r\n\r\n                //Don't use this. https://stackoverflow.com/questions/30637784/detect-an-error-on-html5-video\r\n                //elVideo.append(sourceElement);\r\n\r\n                // Do not call load if src was not set. load() will cancel any active play promise.\r\n                if (previousSource || previousSource === '') {\r\n\r\n                    elVideo.load();\r\n                }\r\n\r\n            }\r\n\r\n            that.on(CONTENT_META, function () {\r\n                if (lastPlayPosition > 0) {\r\n                    that.seek(lastPlayPosition);\r\n                }\r\n            });\r\n        }\r\n\r\n    };\r\n\r\n    that.getName = () => {\r\n        return spec.name;\r\n    };\r\n    that.getMse = () => {\r\n        return spec.mse;\r\n    };\r\n    that.getMediaElement = () => {\r\n        return spec.element;\r\n    };\r\n    that.canSeek = () => {\r\n        return spec.canSeek;\r\n    };\r\n    that.setCanSeek = (canSeek) => {\r\n        spec.canSeek = canSeek;\r\n    };\r\n    that.isSeeking = () => {\r\n        return spec.seeking;\r\n    };\r\n    that.setSeeking = (seeking) => {\r\n        spec.seeking = seeking;\r\n    };\r\n    that.setMetaLoaded = () => {\r\n        spec.isLoaded = true;\r\n    };\r\n    that.metaLoaded = () => {\r\n        return spec.isLoaded;\r\n    };\r\n\r\n    that.setState = (newState) => {\r\n        if (spec.state !== newState) {\r\n            let prevState = spec.state;\r\n\r\n            OvenPlayerConsole.log(\"Provider : setState()\", newState);\r\n\r\n            //ToDo : This is temporary code. If main video occur error, player avoid error message on ad playing.\r\n            if (prevState === STATE_AD_PLAYING && (newState === STATE_ERROR || newState === STATE_IDLE)) {\r\n                return false;\r\n            }\r\n\r\n            /*\r\n             * 2019-06-13\r\n             * No more necessary this codes.\r\n             * Checking the autoPlay support was using main video element. elVideo.play() -> yes or no??\r\n             * And then that causes triggering play and pause event.\r\n             * And that checking waits for elVideo loaded. Dash load completion time is unknown.\r\n             * Then I changed check method. I make temporary video tag and insert empty video.\r\n             * */\r\n            //if ((prevState === STATE_AD_PLAYING || prevState === STATE_AD_PAUSED ) && (newState === STATE_PAUSED || newState === STATE_PLAYING)) {\r\n            //    return false;\r\n            //Ads checks checkAutoplaySupport(). It calls real play() and pause() to video element.\r\n            //And then that triggers \"playing\" and \"pause\".\r\n            //I prevent these process.\r\n            //}\r\n\r\n            OvenPlayerConsole.log(\"Provider : triggerSatatus\", newState);\r\n            switch (newState) {\r\n                case STATE_COMPLETE:\r\n                    that.trigger(PLAYER_COMPLETE);\r\n                    break;\r\n                case STATE_PAUSED:\r\n                    that.trigger(PLAYER_PAUSE, {\r\n                        prevState: spec.state,\r\n                        newstate: STATE_PAUSED\r\n                    });\r\n                    break;\r\n                case STATE_AD_PAUSED:\r\n                    that.trigger(PLAYER_PAUSE, {\r\n                        prevState: spec.state,\r\n                        newstate: STATE_AD_PAUSED\r\n                    });\r\n                    break;\r\n                case STATE_PLAYING:\r\n                    that.trigger(PLAYER_PLAY, {\r\n                        prevState: spec.state,\r\n                        newstate: STATE_PLAYING\r\n                    });\r\n                    break;\r\n                case STATE_AD_PLAYING:\r\n                    that.trigger(PLAYER_PLAY, {\r\n                        prevState: spec.state,\r\n                        newstate: STATE_AD_PLAYING\r\n                    });\r\n                    break;\r\n            }\r\n            spec.state = newState;\r\n            that.trigger(PLAYER_STATE, {\r\n                prevstate: prevState,\r\n                newstate: spec.state\r\n            });\r\n\r\n\r\n        }\r\n    };\r\n    that.getState = () => {\r\n        return spec.state;\r\n    };\r\n    that.setBuffer = (newBuffer) => {\r\n        spec.buffer = newBuffer;\r\n    };\r\n    that.getBuffer = () => {\r\n        return spec.buffer;\r\n    };\r\n    that.isLive = () => {\r\n        return spec.isLive ? true : (elVideo.duration === Infinity);\r\n    };\r\n    that.getDuration = () => {\r\n        return that.isLive() ? Infinity : elVideo.duration;\r\n    };\r\n    that.getDvrWindow = () => {\r\n        return spec.dvrWindow;\r\n    };\r\n    that.getPosition = () => {\r\n        if (!elVideo) {\r\n            return 0;\r\n        }\r\n        return elVideo.currentTime;\r\n    };\r\n    that.setVolume = (volume) => {\r\n        if (!elVideo) {\r\n            return false;\r\n        }\r\n        elVideo.volume = volume / 100;\r\n        playerConfig.setVolume(volume);\r\n    };\r\n    that.getVolume = () => {\r\n\r\n        return playerConfig.getVolume();\r\n    };\r\n    that.setMute = (state) => {\r\n        if (!elVideo) {\r\n            return false;\r\n        }\r\n        if (typeof state === 'undefined') {\r\n\r\n            const muted = playerConfig.isMute();\r\n\r\n            elVideo.muted = !muted;\r\n            playerConfig.setMute(!muted);\r\n\r\n            that.trigger(CONTENT_MUTE, {\r\n                mute: playerConfig.isMute()\r\n            });\r\n\r\n        } else {\r\n\r\n            elVideo.muted = state;\r\n            playerConfig.setMute(state);\r\n\r\n            that.trigger(CONTENT_MUTE, {\r\n                mute: playerConfig.isMute()\r\n            });\r\n        }\r\n        return elVideo.muted;\r\n    };\r\n    that.getMute = () => {\r\n\r\n        return playerConfig.isMute();\r\n    };\r\n\r\n    that.preload = (sources, lastPlayPosition) => {\r\n\r\n        spec.sources = sources;\r\n\r\n        spec.currentSource = pickCurrentSource(sources, playerConfig);\r\n        _load(lastPlayPosition || 0);\r\n\r\n        return new Promise(function (resolve, reject) {\r\n\r\n            if (playerConfig.isMute()) {\r\n                that.setMute(true);\r\n            }\r\n            if (playerConfig.getVolume()) {\r\n                that.setVolume(playerConfig.getVolume());\r\n            }\r\n\r\n            resolve();\r\n        });\r\n\r\n    };\r\n    that.load = (sources) => {\r\n\r\n        spec.sources = sources;\r\n        spec.currentSource = pickCurrentSource(sources, playerConfig);\r\n        _load(0);\r\n    };\r\n\r\n    that.play = () => {\r\n\r\n        OvenPlayerConsole.log(\"Provider : play()\");\r\n        if (!elVideo) {\r\n            return false;\r\n        }\r\n\r\n        //Test it thoroughly and remove isPlayingProcessing. Most of the hazards have been removed. a lot of nonblocking play() way -> blocking play()\r\n        // if(isPlayingProcessing){\r\n        //     return false;\r\n        // }\r\n\r\n        isPlayingProcessing = true;\r\n        if (that.getState() !== STATE_PLAYING) {\r\n            if ((ads && ads.isActive()) || (ads && !ads.started())) {\r\n                ads.play().then(_ => {\r\n                    //ads play success\r\n                    isPlayingProcessing = false;\r\n                    OvenPlayerConsole.log(\"Provider : ads play success\");\r\n\r\n                }).catch(error => {\r\n                    //ads play fail maybe cause user interactive less\r\n                    isPlayingProcessing = false;\r\n                    OvenPlayerConsole.log(\"Provider : ads play fail\", error);\r\n                });\r\n\r\n            } else {\r\n                let promise = elVideo.play();\r\n                if (promise !== undefined) {\r\n                    promise.then(function () {\r\n                        isPlayingProcessing = false;\r\n                        OvenPlayerConsole.log(\"Provider : video play success\");\r\n                        /*\r\n                        if(mutedPlay){\r\n                            that.trigger(PLAYER_WARNING, {\r\n                                message : WARN_MSG_MUTEDPLAY,\r\n                                timer : 10 * 1000,\r\n                                iconClass : UI_ICONS.volume_mute,\r\n                                onClickCallback : function(){\r\n                                    that.setMute(false);\r\n                                }\r\n                            });\r\n                        }*/\r\n                    }).catch(error => {\r\n                        OvenPlayerConsole.log(\"Provider : video play error\", error.message);\r\n\r\n                        isPlayingProcessing = false;\r\n                        /*\r\n                        if(!mutedPlay){\r\n                            that.setMute(true);\r\n                            that.play(true);\r\n                        }\r\n                        */\r\n                    });\r\n                } else {\r\n                    //IE promise is undefinded.\r\n                    OvenPlayerConsole.log(\"Provider : video play success (ie)\");\r\n                    isPlayingProcessing = false;\r\n                }\r\n            }\r\n        }\r\n\r\n    };\r\n    that.pause = () => {\r\n\r\n        OvenPlayerConsole.log(\"Provider : pause()\");\r\n        if (!elVideo) {\r\n            return false;\r\n        }\r\n\r\n        if (that.getState() === STATE_PLAYING) {\r\n            elVideo.pause();\r\n        } else if (that.getState() === STATE_AD_PLAYING) {\r\n            ads.pause();\r\n        }\r\n    };\r\n    that.seek = (position) => {\r\n        if (!elVideo) {\r\n            return false;\r\n        }\r\n        elVideo.currentTime = position;\r\n    };\r\n    that.setPlaybackRate = (playbackRate) => {\r\n        if (!elVideo) {\r\n            return false;\r\n        }\r\n        that.trigger(PLAYBACK_RATE_CHANGED, { playbackRate: playbackRate });\r\n        return elVideo.playbackRate = elVideo.defaultPlaybackRate = playbackRate;\r\n    };\r\n    that.getPlaybackRate = () => {\r\n        if (!elVideo) {\r\n            return 0;\r\n        }\r\n        return elVideo.playbackRate;\r\n    };\r\n    that.getZoomFactor = () => {\r\n        return spec.zoomFactor;\r\n    };\r\n    that.setZoomFactor = (zoomFactor) => {\r\n        that.trigger(PLAYER_ZOOM_CAHNGED, { zoomFactor: zoomFactor });\r\n        return spec.zoomFactor = zoomFactor;\r\n    };\r\n    that.getSources = () => {\r\n        if (!elVideo) {\r\n            return [];\r\n        }\r\n\r\n        return spec.sources.map(function (source, index) {\r\n\r\n            var obj = {\r\n                file: source.file,\r\n                type: source.type,\r\n                label: source.label,\r\n                index: index,\r\n                sectionStart: source.sectionStart,\r\n                sectionEnd: source.sectionEnd,\r\n                gridThumbnail: source.gridThumbnail,\r\n            };\r\n\r\n            if (source.lowLatency) {\r\n                obj.lowLatency = source.lowLatency;\r\n            }\r\n\r\n            return obj;\r\n        });\r\n    };\r\n    that.getCurrentSource = () => {\r\n        return spec.currentSource;\r\n    };\r\n    that.setCurrentSource = (sourceIndex, needProviderChange) => {\r\n\r\n        if (sourceIndex > -1) {\r\n            if (spec.sources && spec.sources.length > sourceIndex) {\r\n                //that.pause();\r\n                //that.setState(STATE_IDLE);\r\n                OvenPlayerConsole.log(\"source changed : \" + sourceIndex);\r\n                spec.currentSource = sourceIndex;\r\n\r\n                playerConfig.setSourceIndex(sourceIndex);\r\n                //playerConfig.setSourceLabel(spec.sources[sourceIndex].label);\r\n                //spec.currentQuality = sourceIndex;\r\n                //that.pause();\r\n                that.setState(STATE_IDLE);\r\n                if (needProviderChange) {\r\n                    _load(elVideo.currentTime || 0);\r\n                }\r\n                //\r\n                return spec.currentSource;\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n    that.getQualityLevels = () => {\r\n        if (!elVideo) {\r\n            return [];\r\n        }\r\n        return spec.qualityLevels;\r\n    };\r\n    that.getCurrentQuality = () => {\r\n        if (!elVideo) {\r\n            return null;\r\n        }\r\n        return spec.currentQuality;\r\n    };\r\n    that.setCurrentQuality = (qualityIndex) => {\r\n        //Do nothing\r\n    };\r\n\r\n    that.getAudioTracks = () => {\r\n        if (!elVideo) {\r\n            return [];\r\n        }\r\n        return spec.audioTracks;\r\n    };\r\n\r\n    that.getCurrentAudioTrack = () => {\r\n        if (!elVideo) {\r\n            return [];\r\n        }\r\n        return spec.currentAudioTrack;\r\n    };\r\n\r\n    that.setCurrentAudioTrack = (audioTrackIndex) => {\r\n        //Do nothing\r\n    };\r\n\r\n    that.isAutoQuality = () => {\r\n        //Do nothing\r\n    };\r\n    that.setAutoQuality = (isAuto) => {\r\n        //Do nothing\r\n    };\r\n\r\n    that.getFramerate = () => {\r\n        return spec.framerate;\r\n    };\r\n    that.setFramerate = (framerate) => {\r\n        return spec.framerate = framerate;\r\n    };\r\n    that.seekFrame = (frameCount) => {\r\n        let fps = spec.framerate;\r\n        let currentFrames = elVideo.currentTime * fps;\r\n        let newPosition = (currentFrames + frameCount) / fps;\r\n        newPosition = newPosition + 0.00001; // FIXES A SAFARI SEEK ISSUE. myVdieo.currentTime = 0.04 would give SMPTE 00:00:00:00 wheras it should give 00:00:00:01\r\n\r\n        that.pause();\r\n        that.seek(newPosition);\r\n    };\r\n\r\n    that.stop = () => {\r\n        if (!elVideo) {\r\n            return false;\r\n        }\r\n        OvenPlayerConsole.log(\"CORE : stop() \");\r\n\r\n        elVideo.removeAttribute('preload');\r\n        elVideo.removeAttribute('src');\r\n        while (elVideo.firstChild) {\r\n            elVideo.removeChild(elVideo.firstChild);\r\n        }\r\n\r\n        that.pause();\r\n        that.setState(STATE_IDLE);\r\n        isPlayingProcessing = false;\r\n    };\r\n\r\n    that.destroy = () => {\r\n        if (!elVideo) {\r\n            return false;\r\n        }\r\n        that.stop();\r\n        listener.destroy();\r\n        //elVideo.remove();\r\n\r\n        if (ads) {\r\n            ads.destroy();\r\n            ads = null;\r\n        }\r\n        that.off();\r\n        OvenPlayerConsole.log(\"CORE : destroy() player stop, listener, event destroied\");\r\n    };\r\n\r\n    //XXX : I hope using es6 classes. but I think to occur problem from Old IE. Then I choice function inherit. Finally using super function is so difficult.\r\n    // use : let super_destroy  = that.super('destroy'); ... super_destroy();\r\n    that.super = (name) => {\r\n        const method = that[name];\r\n        return function () {\r\n            return method.apply(that, arguments);\r\n        };\r\n    };\r\n    return that;\r\n\r\n};\r\n\r\nexport default Provider;\r\n","export function arrayToString(array) {\r\n  var uint16array = new Uint16Array(array.buffer);\r\n  return String.fromCharCode.apply(null, uint16array);\r\n}\r\n\r\nexport function base64DecodeUint8Array(input) {\r\n\r\n  var raw = window.atob(input);\r\n  var rawLength = raw.length;\r\n  var array = new Uint8Array(new ArrayBuffer(rawLength));\r\n\r\n  for (let i = 0; i < rawLength; i++)\r\n    array[i] = raw.charCodeAt(i);\r\n  return array;\r\n}\r\n\r\nexport function base64EncodeUint8Array(input) {\r\n  var keyStr = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\r\n  var output = \"\";\r\n  var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\r\n  var i = 0;\r\n\r\n  while (i < input.length) {\r\n    chr1 = input[i++];\r\n    chr2 = i < input.length ? input[i++] : Number.NaN;\r\n    chr3 = i < input.length ? input[i++] : Number.NaN;\r\n\r\n    enc1 = chr1 >> 2;\r\n    enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\r\n    enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\r\n    enc4 = chr3 & 63;\r\n\r\n    if (isNaN(chr2)) {\r\n      enc3 = enc4 = 64;\r\n    } else if (isNaN(chr3)) {\r\n      enc4 = 64;\r\n    }\r\n    output += keyStr.charAt(enc1) + keyStr.charAt(enc2) +\r\n      keyStr.charAt(enc3) + keyStr.charAt(enc4);\r\n  }\r\n  return output;\r\n}\r\n\r\nexport function stringToUint16Array(string) {\r\n  // 2 bytes for each char\r\n  var buffer = new ArrayBuffer(string.length * 2);\r\n  var array = new Uint16Array(buffer);\r\n\r\n  for (var i = 0; i < string.length; i++) {\r\n    array[i] = string.charCodeAt(i);\r\n  }\r\n\r\n  return array;\r\n};\r\n\r\n\r\nexport function concatInitDataIdAndCertificate({\r\n  id,\r\n  initData,\r\n  cert\r\n}) {\r\n\r\n  try {\r\n    if (typeof id === 'string') {\r\n      id = stringToUint16Array(id);\r\n    } // layout:\r\n    //   [initData]\r\n    //   [4 byte: idLength]\r\n    //   [idLength byte: id]\r\n    //   [4 byte:certLength]\r\n    //   [certLength byte: cert]\r\n\r\n    var offset = 0;\r\n    var buffer = new ArrayBuffer(initData.byteLength + 4 + id.byteLength + 4 + cert.byteLength);\r\n    var dataView = new DataView(buffer);\r\n    var initDataArray = new Uint8Array(buffer, offset, initData.byteLength);\r\n    initDataArray.set(initData);\r\n    offset += initData.byteLength;\r\n    dataView.setUint32(offset, id.byteLength, true);\r\n    offset += 4;\r\n    var idArray = new Uint16Array(buffer, offset, id.length);\r\n    idArray.set(id);\r\n    offset += idArray.byteLength;\r\n    dataView.setUint32(offset, cert.byteLength, true);\r\n    offset += 4;\r\n    var certArray = new Uint8Array(buffer, offset, cert.byteLength);\r\n    certArray.set(cert);\r\n    var data = new Uint8Array(buffer, 0, buffer.byteLength);\r\n    return data;\r\n  } catch (error) {\r\n    return null;\r\n  }\r\n};","/**\r\n * Created by hoho on 2018. 8. 24..\r\n */\r\nimport Provider from \"api/provider/html5/Provider\";\r\nimport {errorTrigger} from \"api/provider/utils\";\r\nimport {ERRORS, INIT_DRM_FAIL, PROVIDER_HTML5, STATE_IDLE} from \"api/constants\";\r\nimport {arrayToString, base64DecodeUint8Array, base64EncodeUint8Array, concatInitDataIdAndCertificate} from \"utils/eme\";\r\n\r\n/**\r\n * @brief   html5 provider extended core.\r\n * @param   container player element.\r\n * @param   playerConfig    config.\r\n * */\r\n\r\nconst Html5 = function (element, playerConfig, adTagUrl) {\r\n\r\n  let spec = {\r\n    name: PROVIDER_HTML5,\r\n    element: element,\r\n    mse: null,\r\n    listener: null,\r\n    isLoaded: false,\r\n    canSeek: false,\r\n    isLive: false,\r\n    seeking: false,\r\n    state: STATE_IDLE,\r\n    buffer: 0,\r\n    framerate: 0,\r\n    currentQuality: -1,\r\n    qualityLevels: [],\r\n    currentAudioTrack: -1,\r\n    audioTracks: [],\r\n    currentSource: -1,\r\n    sources: [],\r\n    adTagUrl: adTagUrl\r\n  };\r\n\r\n  let that = Provider(spec, playerConfig, null);\r\n  let superDestroy_func = that.super('destroy');\r\n\r\n  OvenPlayerConsole.log(\"HTML5 PROVIDER LOADED.\");\r\n\r\n\r\n  let cert = null;\r\n\r\n  function loadCertificate(serverCertificatePath) {\r\n\r\n    return new Promise(function (resolve, reject) {\r\n\r\n      fetch(serverCertificatePath).then(function (response) {\r\n\r\n        response.text().then(function (text) {\r\n\r\n          resolve(base64DecodeUint8Array(text));\r\n        }).catch(function (err) {\r\n          reject(err);\r\n        });\r\n\r\n      }).catch(function (err) {\r\n        reject(err);\r\n      });\r\n    });\r\n  }\r\n\r\n  function getLicense(keyMessage) {\r\n\r\n    return new Promise(function (resolve, reject) {\r\n\r\n      const licenseServerUrl = playerConfig.getConfig().hlsConfig.drmSystems['com.apple.fps'].licenseUrl;\r\n      const headers = new Headers({ 'Content-Type': 'application/x-www-form-urlencoded' });\r\n\r\n      if (playerConfig.getConfig().licenseCustomHeader) {\r\n        headers.append(playerConfig.getConfig().licenseCustomHeader.key, playerConfig.getConfig().licenseCustomHeader.value);\r\n      }\r\n\r\n      fetch(licenseServerUrl, {\r\n        method: 'POST',\r\n        headers: headers,\r\n        body: \"spc=\" + base64EncodeUint8Array(keyMessage),\r\n      }).then(function (response) {\r\n\r\n        response.text().then(function (text) {\r\n          resolve(base64DecodeUint8Array(text));\r\n        }).catch(function (err) {\r\n          reject(err);\r\n        });\r\n      }).catch(function (err) {\r\n        reject(err);\r\n      });\r\n    });\r\n  }\r\n\r\n  function addKey(initData, contentId) {\r\n\r\n    return new Promise(function (resolve, reject) {\r\n\r\n      if (!element.webkitKeys) {\r\n        try {\r\n          element.webkitSetMediaKeys(new window.WebKitMediaKeys('com.apple.fps.1_0'));\r\n        } catch (err) {\r\n          reject(err);\r\n          return;\r\n        }\r\n      }\r\n\r\n      let keySession;\r\n\r\n      try {\r\n        keySession = element.webkitKeys.createSession('video/mp4', concatInitDataIdAndCertificate({\r\n          id: contentId,\r\n          initData: initData,\r\n          cert: cert\r\n        }));\r\n      } catch (err) {\r\n        reject(err);\r\n        return;\r\n      }\r\n\r\n      keySession.contentId = contentId;\r\n\r\n      keySession.addEventListener('webkitkeymessage', function (event) {\r\n\r\n        getLicense(event.message).then(function (license) {\r\n\r\n          keySession.update(new Uint8Array(license));\r\n          resolve();\r\n        }).catch(function (err) {\r\n          reject(err);\r\n          return;\r\n        });\r\n      });\r\n\r\n      keySession.addEventListener('webkitkeyadded', function () {\r\n\r\n      });\r\n\r\n      keySession.addEventListener('webkitkeyerror', function () {\r\n\r\n        var err = keySession.error;\r\n        reject(err);\r\n      });\r\n    });\r\n  }\r\n\r\n  function encrypted(event) {\r\n    const initDataType = event.initDataType;\r\n    const initData = event.initData;\r\n    const initDataString = arrayToString(initData);\r\n    const contentId = initDataString.substring(initDataString.indexOf('skd://') + 6);\r\n    addKey(initData, contentId).catch(function (err) {\r\n      let tempError = ERRORS.codes[INIT_DRM_FAIL];\r\n      tempError.message = 'Could not add add key.';\r\n      errorTrigger(ERRORS.codes[INIT_DRM_FAIL], that);\r\n    });\r\n  }\r\n\r\n  function enableDrm() {\r\n\r\n    return new Promise(function (resolve, reject) {\r\n      const serverCertificatePath = playerConfig.getConfig().hlsConfig.drmSystems['com.apple.fps'].serverCertificateUrl;\r\n      loadCertificate(serverCertificatePath).then(function (certificate) {\r\n        cert = certificate;\r\n        element.addEventListener('webkitneedkey', encrypted, { once: true });\r\n      }).catch(function (err) {\r\n        reject(err);\r\n      });\r\n    });\r\n  }\r\n\r\n  if (playerConfig.getConfig().hlsConfig && playerConfig.getConfig().hlsConfig.emeEnabled) {\r\n\r\n    enableDrm().catch(function (err) {\r\n      let tempError = ERRORS.codes[INIT_DRM_FAIL];\r\n      tempError.message = 'Could not load drm certificate.';\r\n      errorTrigger(ERRORS.codes[INIT_DRM_FAIL], that);\r\n    });\r\n  }\r\n\r\n  that.destroy = () => {\r\n    OvenPlayerConsole.log(\"HTML5 : PROVIDER DESTROYED.\");\r\n\r\n    superDestroy_func();\r\n  };\r\n\r\n  return that;\r\n\r\n};\r\n\r\nexport default Html5;\r\n","import _ from \"underscore\";\r\nimport {analUserAgent} from \"utils/browser\";\r\nimport {\r\n  CONTENT_LEVEL_CHANGED,\r\n  ERRORS,\r\n  OME_P2P_MODE,\r\n  PEER_CONNECTION_DESTROYED,\r\n  PEER_CONNECTION_PREPARED,\r\n  PLAYER_WEBRTC_ADD_ICECANDIDATE_ERROR,\r\n  PLAYER_WEBRTC_CREATE_ANSWER_ERROR,\r\n  PLAYER_WEBRTC_INTERNAL_ERROR,\r\n  PLAYER_WEBRTC_NETWORK_SLOW,\r\n  PLAYER_WEBRTC_SET_LOCAL_DESC_ERROR,\r\n  PLAYER_WEBRTC_SET_REMOTE_DESC_ERROR,\r\n  PLAYER_WEBRTC_UNEXPECTED_DISCONNECT,\r\n  PLAYER_WEBRTC_WS_ERROR\r\n} from \"api/constants\";\r\n\r\n\r\nconst WebRTCLoader = function (provider,\r\n    webSocketUrl,\r\n    loadCallback,\r\n    connectedCallback,\r\n    internalErrorCallback,\r\n    errorTrigger,\r\n    playerConfig,\r\n    spec) {\r\n\r\n    let defaultConnectionConfig = {};\r\n\r\n    let that = {};\r\n\r\n    let ws = null;\r\n    let wsConnected = false;\r\n\r\n    let mainStream = null;\r\n\r\n    // used for getting media stream from OME or host peer\r\n    let mainPeerConnectionInfo = null;\r\n\r\n    // used for send media stream to client peer.\r\n    let clientPeerConnections = {};\r\n\r\n    //closed websocket by ome or client.\r\n    let wsClosedByPlayer = false;\r\n\r\n    let recoverPacketLoss = false;\r\n\r\n    let playlistFromOme = null;\r\n    let autoQuality = false;\r\n\r\n    if (playerConfig.getConfig().webrtcConfig &&\r\n        playerConfig.getConfig().webrtcConfig.recoverPacketLoss === true) {\r\n\r\n        recoverPacketLoss = true;\r\n    }\r\n\r\n    let generatePublicCandidate = true;\r\n\r\n    if (playerConfig.getConfig().webrtcConfig &&\r\n        playerConfig.getConfig().webrtcConfig.generatePublicCandidate === false) {\r\n\r\n        generatePublicCandidate = playerConfig.getConfig().webrtcConfig.generatePublicCandidate;\r\n    }\r\n\r\n    let statisticsTimer = null;\r\n\r\n    let currentBrowser = analUserAgent();\r\n\r\n    let existingHandler = null;\r\n\r\n    (function () {\r\n        existingHandler = window.onbeforeunload;\r\n        window.onbeforeunload = function (event) {\r\n            if (existingHandler) {\r\n                existingHandler(event);\r\n            }\r\n            OvenPlayerConsole.log(\"This calls auto when browser closed.\");\r\n            closePeer();\r\n        }\r\n    })();\r\n\r\n\r\n    function getPeerConnectionById(id) {\r\n\r\n        let peerConnection = null;\r\n\r\n        if (mainPeerConnectionInfo && id === mainPeerConnectionInfo.id) {\r\n            peerConnection = mainPeerConnectionInfo.peerConnection;\r\n        } else if (clientPeerConnections[id]) {\r\n            peerConnection = clientPeerConnections[id].peerConnection;\r\n        }\r\n\r\n        return peerConnection;\r\n    }\r\n\r\n    function extractLossPacketsOnNetworkStatus(peerConnectionInfo) {\r\n\r\n        if (peerConnectionInfo.statisticsTimer) {\r\n            clearTimeout(peerConnectionInfo.statisticsTimer);\r\n        }\r\n\r\n        if (!peerConnectionInfo.status) {\r\n            peerConnectionInfo.status = {};\r\n            peerConnectionInfo.status.lostPacketsArr = [];\r\n            peerConnectionInfo.status.slotLength = 8; //8 statistics. every 2 seconds\r\n            peerConnectionInfo.status.prevPacketsLost = 0;\r\n            peerConnectionInfo.status.avg8Losses = 0;\r\n            peerConnectionInfo.status.avgMoreThanThresholdCount = 0;  //If avg8Loss more than threshold.\r\n            peerConnectionInfo.status.threshold = 40;\r\n        }\r\n\r\n        let lostPacketsArr = peerConnectionInfo.status.lostPacketsArr,\r\n            slotLength = peerConnectionInfo.status.slotLength, //8 statistics. every 2 seconds\r\n            prevPacketsLost = peerConnectionInfo.status.prevPacketsLost,\r\n            avg8Losses = peerConnectionInfo.status.avg8Losses,\r\n            // avgMoreThanThresholdCount = peerConnectionInfo.status.avgMoreThanThresholdCount,  //If avg8Loss more than threshold.\r\n            threshold = peerConnectionInfo.status.threshold;\r\n\r\n        peerConnectionInfo.statisticsTimer = setTimeout(function () {\r\n            if (!peerConnectionInfo.peerConnection) {\r\n                return false;\r\n            }\r\n\r\n            peerConnectionInfo.peerConnection.getStats().then(function (stats) {\r\n\r\n                if (!stats) {\r\n                    return;\r\n                }\r\n\r\n                if (playerConfig.getConfig().autoFallback && stats) {\r\n\r\n                    stats.forEach(function (state) {\r\n\r\n                        if (state.type === \"inbound-rtp\" && state.kind === 'video' && !state.isRemote) {\r\n\r\n                            //(state.packetsLost - prevPacketsLost) is real current lost.\r\n\r\n                            let actualPacketLost = parseInt(state.packetsLost) - parseInt(prevPacketsLost);\r\n\r\n                            lostPacketsArr.push(parseInt(state.packetsLost) - parseInt(prevPacketsLost));\r\n\r\n                            if (lostPacketsArr.length > slotLength) {\r\n\r\n                                lostPacketsArr.shift();\r\n                            }\r\n\r\n                            if (lostPacketsArr.length === slotLength) {\r\n\r\n                                avg8Losses = _.reduce(lostPacketsArr, function (memo, num) {\r\n                                    return memo + num;\r\n                                }, 0) / slotLength;\r\n                                OvenPlayerConsole.log(\"Last8 LOST PACKET AVG  : \" + (avg8Losses), \"Current Packet LOST: \" + actualPacketLost, \"Total Packet Lost: \" + state.packetsLost, lostPacketsArr);\r\n\r\n                                if (avg8Losses > threshold) {\r\n                                    peerConnectionInfo.status.avgMoreThanThresholdCount = peerConnectionInfo.status.avgMoreThanThresholdCount + 1;\r\n                                    if (peerConnectionInfo.status.avgMoreThanThresholdCount >= 60) {\r\n                                        OvenPlayerConsole.log(\"NETWORK UNSTABLED!!! \");\r\n                                        let tempError = ERRORS.codes[PLAYER_WEBRTC_NETWORK_SLOW];\r\n                                        closePeer(tempError);\r\n                                    }\r\n                                } else {\r\n                                    peerConnectionInfo.status.avgMoreThanThresholdCount = 0;\r\n                                }\r\n                            }\r\n                            peerConnectionInfo.status.prevPacketsLost = state.packetsLost;\r\n                        }\r\n                    });\r\n\r\n                    extractLossPacketsOnNetworkStatus(peerConnectionInfo);\r\n                }\r\n            });\r\n\r\n        }, 2000);\r\n\r\n    }\r\n\r\n    // return -1 if no opus;\r\n    // return opus format number\r\n    function getOpusFormatNumber(sdp) {\r\n\r\n        const lines = sdp.split('\\r\\n');\r\n        let opusFormatNumber = -1;\r\n\r\n        for (let i = 0; i < lines.length - 1; i++) {\r\n\r\n            lines[i] = lines[i].toLowerCase();\r\n\r\n            if (lines[i].indexOf('a=rtpmap') > -1 && lines[i].indexOf('opus') > -1) {\r\n                // parsing \"a=rtpmap:102 OPUS/48000/2\" line\r\n                opusFormatNumber = lines[i].split(' ')[0].split(':')[1];\r\n                break;\r\n            }\r\n        }\r\n\r\n        return opusFormatNumber;\r\n    }\r\n\r\n    function checkOpusIsStereo(sdp, opusFormatNumber) {\r\n\r\n        const lines = sdp.split('\\r\\n');\r\n\r\n        let stereo = false;\r\n\r\n        for (let i = 0; i < lines.length - 1; i++) {\r\n\r\n            lines[i] = lines[i].toLowerCase();\r\n\r\n            // check stereo=1 from \"a=fmtp:102 sprop-stereo=1;stereo=1;minptime=10;useinbandfec=1\"\r\n            if (lines[i].indexOf('a=fmtp:' + opusFormatNumber) > -1) {\r\n\r\n                if (lines[i].indexOf('stereo=1') > -1) {\r\n                    stereo = true;\r\n                }\r\n                break;\r\n            }\r\n        }\r\n\r\n        return stereo;\r\n    }\r\n\r\n    function mungeSdpForceStereoOpus(sdp, opusFormatNumber) {\r\n\r\n        const lines = sdp.split('\\r\\n');\r\n\r\n        // find this line and modify. \"a=fmtp:102 minptime=10;useinbandfec=1\"\r\n        for (let i = 0; i < lines.length - 1; i++) {\r\n\r\n            // check stereo=1 from \"a=fmtp:102 sprop-stereo=1;stereo=1;minptime=10;useinbandfec=1\"\r\n            if (lines[i].indexOf('a=fmtp:' + opusFormatNumber) > -1) {\r\n\r\n                if (lines[i].indexOf('stereo=1') === -1) {\r\n\r\n                    lines[i] = lines[i] + ';stereo=1';\r\n                }\r\n                break;\r\n            }\r\n        }\r\n\r\n        return lines.join('\\r\\n');\r\n    }\r\n\r\n    function createMainPeerConnection(id, peerId, sdp, candidates, iceServers) {\r\n\r\n        let peerConnectionConfig = {};\r\n\r\n        // first priority using ice servers from player setting.\r\n        if (playerConfig.getConfig().webrtcConfig && playerConfig.getConfig().webrtcConfig.iceServers) {\r\n\r\n            peerConnectionConfig.iceServers = playerConfig.getConfig().webrtcConfig.iceServers;\r\n\r\n            if (playerConfig.getConfig().webrtcConfig.iceTransportPolicy) {\r\n\r\n                peerConnectionConfig.iceTransportPolicy = playerConfig.getConfig().webrtcConfig.iceTransportPolicy;\r\n            }\r\n        } else if (iceServers) {\r\n\r\n            // second priority using ice servers from ome and force using TCP\r\n            peerConnectionConfig.iceServers = [];\r\n\r\n            for (let i = 0; i < iceServers.length; i++) {\r\n\r\n                let iceServer = iceServers[i];\r\n\r\n                let regIceServer = {};\r\n\r\n                regIceServer.urls = iceServer.urls;\r\n\r\n                let hasWebsocketUrl = false;\r\n                let socketUrl = generateDomainFromUrl(webSocketUrl);\r\n\r\n                for (let j = 0; j < regIceServer.urls.length; j++) {\r\n\r\n                    let serverUrl = regIceServer.urls[j];\r\n\r\n                    if (serverUrl.indexOf(socketUrl) > -1) {\r\n                        hasWebsocketUrl = true;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if (!hasWebsocketUrl) {\r\n\r\n                    if (regIceServer.urls.length > 0) {\r\n\r\n                        let cloneIceServer = _.clone(regIceServer.urls[0]);\r\n                        let ip = findIp(cloneIceServer);\r\n\r\n                        if (socketUrl && ip) {\r\n                            regIceServer.urls.push(cloneIceServer.replace(ip, socketUrl));\r\n                        }\r\n                    }\r\n                }\r\n\r\n                regIceServer.username = iceServer.username || iceServer.user_name;\r\n                regIceServer.credential = iceServer.credential;\r\n\r\n                peerConnectionConfig.iceServers.push(regIceServer);\r\n            }\r\n\r\n            peerConnectionConfig.iceTransportPolicy = 'relay';\r\n\r\n        } else {\r\n\r\n            // last priority using default ice servers.\r\n            peerConnectionConfig = defaultConnectionConfig;\r\n        }\r\n\r\n        OvenPlayerConsole.log(\"Main Peer Connection Config : \", peerConnectionConfig);\r\n\r\n        let peerConnection = null;\r\n\r\n        try {\r\n\r\n            peerConnection = new RTCPeerConnection(peerConnectionConfig);\r\n            provider.trigger(PEER_CONNECTION_PREPARED, peerConnection);\r\n\r\n        } catch (error) {\r\n            let tempError = ERRORS.codes[PLAYER_WEBRTC_INTERNAL_ERROR];\r\n            tempError.error = error;\r\n            closePeer(tempError);\r\n            return;\r\n        }\r\n\r\n        mainPeerConnectionInfo = {\r\n            id: id,\r\n            peerId: peerId,\r\n            peerConnection: peerConnection\r\n        };\r\n\r\n        //Set remote description when I received sdp from server.\r\n        peerConnection.setRemoteDescription(new RTCSessionDescription(sdp)).then(function () {\r\n\r\n            peerConnection.createAnswer().then(function (desc) {\r\n\r\n                const opusFormatNumber = getOpusFormatNumber(sdp.sdp);\r\n\r\n                if (opusFormatNumber > -1) {\r\n\r\n                    if (checkOpusIsStereo(sdp.sdp, opusFormatNumber)) {\r\n\r\n                        //If offer has opus and if it is stereo, munge local sdp to force stereo=1\r\n                        //Thanks to community https://github.com/AirenSoft/OvenMediaEngine/issues/203\r\n                        desc.sdp = mungeSdpForceStereoOpus(desc.sdp, opusFormatNumber);\r\n                    }\r\n                }\r\n\r\n                OvenPlayerConsole.log('Local SDP', desc);\r\n\r\n                sendMessage(ws, {\r\n                    id: id,\r\n                    peer_id: peerId,\r\n                    command: 'answer',\r\n                    sdp: desc\r\n                });\r\n\r\n                OvenPlayerConsole.log(\"create Host Answer : success\");\r\n\r\n                peerConnection.setLocalDescription(desc).then(function () {\r\n\r\n                }).catch(function (error) {\r\n\r\n                    let tempError = ERRORS.codes[PLAYER_WEBRTC_SET_LOCAL_DESC_ERROR];\r\n                    tempError.error = error;\r\n                    closePeer(tempError);\r\n                });\r\n            }).catch(function (error) {\r\n\r\n                let tempError = ERRORS.codes[PLAYER_WEBRTC_CREATE_ANSWER_ERROR];\r\n                tempError.error = error;\r\n                closePeer(tempError);\r\n            });\r\n        }).catch(function (error) {\r\n\r\n            let tempError = ERRORS.codes[PLAYER_WEBRTC_SET_REMOTE_DESC_ERROR];\r\n            tempError.error = error;\r\n            closePeer(tempError);\r\n        });\r\n\r\n        if (candidates) {\r\n\r\n            addIceCandidate(peerConnection, candidates);\r\n        }\r\n\r\n        peerConnection.onicecandidate = function (e) {\r\n\r\n            if (e.candidate) {\r\n\r\n                OvenPlayerConsole.log(\"WebRTCLoader send candidate to server : \", e.candidate);\r\n\r\n                // console.log('Main Peer Connection candidate', e.candidate);\r\n                sendMessage(ws, {\r\n                    id: id,\r\n                    peer_id: peerId,\r\n                    command: \"candidate\",\r\n                    candidates: [e.candidate]\r\n                });\r\n            }\r\n        };\r\n\r\n        peerConnection.onconnectionstatechange = function (e) {\r\n            //ConnectionState\r\n            OvenPlayerConsole.log(\"[on connection state change]\", peerConnection.connectionState, e);\r\n\r\n            // firefox and opera do not support onconnectionstatechange (Jan 07, 2021)\r\n            // double check with oniceconnectionstatechange\r\n            if (peerConnection.connectionState === 'connected') {\r\n\r\n                if (connectedCallback) {\r\n                    connectedCallback();\r\n                }\r\n            }\r\n        };\r\n\r\n        peerConnection.onicecandidateerror = function (e) {\r\n\r\n        };\r\n\r\n        peerConnection.onicegatheringstatechange = function (e) {\r\n\r\n        };\r\n\r\n        peerConnection.oniceconnectionstatechange = function (e) {\r\n            OvenPlayerConsole.log(\"[on ice connection state change]\", peerConnection.iceConnectionState, e);\r\n\r\n            if (peerConnection.iceConnectionState === 'connected') {\r\n\r\n                if (connectedCallback) {\r\n                    connectedCallback();\r\n                }\r\n            }\r\n            /*\r\n            * https://developer.mozilla.org/en-US/docs/Web/API/RTCPeerConnection/iceConnectionState\r\n            * Checks to ensure that components are still connected failed for at least one component of the RTCPeerConnection. This is a less stringent test than \"failed\" and may trigger intermittently and resolve just as spontaneously on less reliable networks, or during temporary disconnections. When the problem resolves, the connection may return to the \"connected\" state.\r\n            * */\r\n            //This process is my imagination. I do not know how to reproduce.\r\n            //Situation : OME is dead but ome can't send 'stop' message.\r\n            if (peerConnection.iceConnectionState === 'disconnected' || peerConnection.iceConnectionState === 'closed') {\r\n                if (!wsClosedByPlayer) {\r\n                    if (mainPeerConnectionInfo) {\r\n                        let tempError = ERRORS.codes[PLAYER_WEBRTC_UNEXPECTED_DISCONNECT];\r\n                        closePeer(tempError);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n        peerConnection.ontrack = function (e) {\r\n\r\n            OvenPlayerConsole.log(\"stream received.\");\r\n\r\n            OvenPlayerConsole.log('Recovery On Packet Loss :', recoverPacketLoss);\r\n\r\n            if (recoverPacketLoss) {\r\n                extractLossPacketsOnNetworkStatus(mainPeerConnectionInfo);\r\n            }\r\n\r\n            loadCallback(e);\r\n\r\n            if (playerConfig.getConfig().webrtcConfig && playerConfig.getConfig().webrtcConfig.playoutDelayHint) {\r\n\r\n                let hint = playerConfig.getConfig().webrtcConfig.playoutDelayHint;\r\n\r\n                const receivers = mainPeerConnectionInfo.peerConnection.getReceivers();\r\n\r\n                for (let i = 0; i < receivers.length; i++) {\r\n\r\n                    let receiver = receivers[i];\r\n\r\n                    if (receiver.track.kind === 'audio') {\r\n\r\n                        receiver.playoutDelayHint = hint;\r\n                        receiver.jitterBufferDelayHint = hint;\r\n                    } else {\r\n\r\n                        receiver.playoutDelayHint = hint;\r\n                    }\r\n\r\n                    OvenPlayerConsole.log(\"WebRTC playoutDelayHint\", receiver, hint);\r\n                }\r\n            }\r\n        }; // end of ontrack\r\n    }\r\n\r\n    function createClientPeerConnection(hostId, clientId) {\r\n\r\n        if (!mainStream) {\r\n\r\n            setTimeout(function () {\r\n\r\n                createClientPeerConnection(hostId, clientId);\r\n            }, 100);\r\n\r\n            return;\r\n        }\r\n\r\n        let peerConnection = new RTCPeerConnection(defaultConnectionConfig);\r\n\r\n        clientPeerConnections[clientId] = {\r\n            id: clientId,\r\n            peerId: hostId,\r\n            peerConnection: peerConnection\r\n        };\r\n\r\n        peerConnection.addStream(mainStream);\r\n\r\n        // let offerOption = {\r\n        //     offerToReceiveAudio: 1,\r\n        //     offerToReceiveVideo: 1\r\n        // };\r\n\r\n        peerConnection.createOffer(setLocalAndSendMessage, handleCreateOfferError, {});\r\n\r\n        function setLocalAndSendMessage(sessionDescription) {\r\n            peerConnection.setLocalDescription(sessionDescription);\r\n\r\n            sendMessage(ws, {\r\n                id: hostId,\r\n                peer_id: clientId,\r\n                sdp: sessionDescription,\r\n                command: 'offer_p2p'\r\n            });\r\n        }\r\n\r\n        function handleCreateOfferError(event) {\r\n\r\n        }\r\n\r\n        peerConnection.onicecandidate = function (e) {\r\n            if (e.candidate) {\r\n                OvenPlayerConsole.log(\"WebRTCLoader send candidate to server : \" + e.candidate);\r\n\r\n\r\n                // console.log('Client Peer Connection candidate', e.candidate);\r\n\r\n                sendMessage(ws, {\r\n                    id: hostId,\r\n                    peer_id: clientId,\r\n                    command: \"candidate_p2p\",\r\n                    candidates: [e.candidate]\r\n                });\r\n\r\n            }\r\n        };\r\n    }\r\n\r\n    function generateDomainFromUrl(url) {\r\n        let result = '';\r\n        let match;\r\n        if (match = url.match(/^(?:wss?:\\/\\/)?(?:[^@\\n]+@)?(?:www\\.)?([^:\\/\\n\\?\\=]+)/im)) {\r\n            result = match[1];\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    function findIp(string) {\r\n\r\n        let result = '';\r\n        let match;\r\n\r\n        if (match = string.match(new RegExp(\"\\\\b(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\b\", 'gi'))) {\r\n            result = match[0];\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    function copyCandidate(basicCandidate) {\r\n\r\n        let cloneCandidate = _.clone(basicCandidate);\r\n\r\n        let newDomain = generateDomainFromUrl(webSocketUrl);\r\n        let ip = findIp(cloneCandidate.candidate);\r\n\r\n        return new Promise(function (resolve, reject) {\r\n\r\n            if (ip === '' || ip === newDomain) {\r\n\r\n                resolve(null);\r\n            }\r\n\r\n            // firefox browser throws a candidate parsing exception when a domain name is set at the address property. So we resolve the dns using google dns resolve api.\r\n            if (currentBrowser.browser === 'Firefox' && !findIp(newDomain)) {\r\n\r\n                resolve(null);\r\n\r\n            } else {\r\n\r\n                cloneCandidate.candidate = cloneCandidate.candidate.replace(ip, newDomain);\r\n                resolve(cloneCandidate);\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    function addIceCandidate(peerConnection, candidates) {\r\n\r\n        for (let i = 0; i < candidates.length; i++) {\r\n            if (candidates[i] && candidates[i].candidate) {\r\n\r\n                let basicCandidate = candidates[i];\r\n\r\n                peerConnection.addIceCandidate(new RTCIceCandidate(basicCandidate)).then(function () {\r\n                    OvenPlayerConsole.log(\"addIceCandidate : success\");\r\n                }).catch(function (error) {\r\n                    let tempError = ERRORS.codes[PLAYER_WEBRTC_ADD_ICECANDIDATE_ERROR];\r\n                    tempError.error = error;\r\n                    closePeer(tempError);\r\n                });\r\n\r\n                if (generatePublicCandidate) {\r\n\r\n                    let cloneCandidatePromise = copyCandidate(basicCandidate);\r\n\r\n                    if (cloneCandidatePromise) {\r\n                        cloneCandidatePromise.then(function (cloneCandidate) {\r\n\r\n                            if (cloneCandidate) {\r\n\r\n                                peerConnection.addIceCandidate(new RTCIceCandidate(cloneCandidate)).then(function () {\r\n                                    OvenPlayerConsole.log(\"cloned addIceCandidate : success\");\r\n\r\n                                }).catch(function (error) {\r\n\r\n                                    let tempError = ERRORS.codes[PLAYER_WEBRTC_ADD_ICECANDIDATE_ERROR];\r\n                                    tempError.error = error;\r\n                                    closePeer(tempError);\r\n                                });\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    function initWebSocket() {\r\n\r\n        try {\r\n\r\n            ws = new WebSocket(webSocketUrl);\r\n\r\n            ws.onopen = function () {\r\n\r\n                wsConnected = true;\r\n\r\n                sendMessage(ws, {\r\n                    command: \"request_offer\"\r\n                });\r\n            };\r\n\r\n            ws.onmessage = function (e) {\r\n\r\n                const message = JSON.parse(e.data);\r\n\r\n                if (message.error) {\r\n                    let tempError = ERRORS.codes[PLAYER_WEBRTC_WS_ERROR];\r\n                    tempError.error = message.error;\r\n                    closePeer(tempError);\r\n                    return;\r\n                }\r\n\r\n                if (Object.keys(message).length === 0 && message.constructor === Object) {\r\n\r\n                    OvenPlayerConsole.log('Empty Message');\r\n                    return;\r\n                }\r\n\r\n                if (message.command === 'ping') {\r\n\r\n                    sendMessage(ws, { command: 'pong' });\r\n                    return;\r\n                }\r\n\r\n                if (message.command === 'offer') {\r\n\r\n                    let iceServers = message.iceServers || message.ice_servers;\r\n\r\n                    createMainPeerConnection(message.id, message.peer_id, message.sdp, message.candidates, iceServers);\r\n                    if (message.peer_id === 0) {\r\n                        provider.trigger(OME_P2P_MODE, false);\r\n                    } else {\r\n                        provider.trigger(OME_P2P_MODE, true);\r\n                    }\r\n                }\r\n\r\n                if (message.command === 'request_offer_p2p') {\r\n\r\n                    createClientPeerConnection(message.id, message.peer_id);\r\n                }\r\n\r\n                if (message.command === 'answer_p2p') {\r\n\r\n                    let peerConnection1 = getPeerConnectionById(message.peer_id);\r\n\r\n                    peerConnection1.setRemoteDescription(new RTCSessionDescription(message.sdp))\r\n                        .then(function (desc) {\r\n\r\n                        })\r\n                        .catch(function (error) {\r\n                            let tempError = ERRORS.codes[PLAYER_WEBRTC_SET_REMOTE_DESC_ERROR];\r\n                            tempError.error = error;\r\n                            closePeer(tempError);\r\n                        });\r\n                }\r\n\r\n                if (message.command === 'candidate') {\r\n\r\n                    // Candidates for new client peer\r\n                    let peerConnection2 = getPeerConnectionById(message.id);\r\n\r\n                    addIceCandidate(peerConnection2, message.candidates);\r\n                }\r\n\r\n                if (message.command === 'candidate_p2p') {\r\n\r\n                    // Candidates for new client peer\r\n                    let peerConnection3 = getPeerConnectionById(message.peer_id);\r\n\r\n                    addIceCandidate(peerConnection3, message.candidates);\r\n                }\r\n\r\n                if (message.command === 'notification') {\r\n\r\n                    if (message.type === 'playlist') {\r\n\r\n                        const renditions = message.message.renditions;\r\n                        playlistFromOme = message.message;\r\n\r\n                        for (let i = 0; i < renditions.length; i++) {\r\n\r\n                            let rendition = renditions[i];\r\n\r\n                            spec.qualityLevels.push({\r\n                                bitrate: rendition.video_track.video.bitrate,\r\n                                height: rendition.video_track.video.height,\r\n                                width: rendition.video_track.video.width,\r\n                                index: i,\r\n                                label: rendition.name\r\n                            });\r\n                        }\r\n\r\n                        spec.currentQuality = 0;\r\n                        autoQuality = message.message.auto;\r\n                    }\r\n\r\n                    if (message.type === 'rendition_changed') {\r\n\r\n                        const rendition = message.message;\r\n\r\n                        if (message.auto) {\r\n                            autoQuality = message.auto;\r\n                        }\r\n\r\n                        let qualityIndex = -1;\r\n\r\n                        for (let i = 0; i < playlistFromOme.renditions.length; i++) {\r\n\r\n                            if (rendition.rendition_name === playlistFromOme.renditions[i].name) {\r\n                                qualityIndex = i;\r\n                                spec.currentQuality = i;\r\n                                break;\r\n                            }\r\n                        }\r\n\r\n                        provider.trigger(CONTENT_LEVEL_CHANGED, {\r\n                            isAuto: autoQuality,\r\n                            currentQuality: qualityIndex,\r\n                            type: \"render\"\r\n                        });\r\n                    }\r\n                }\r\n\r\n                if (message.command === 'stop') {\r\n\r\n                    if (mainPeerConnectionInfo.peerId === message.peer_id) {\r\n\r\n                        //My parent was dead. And then I will retry.\r\n\r\n                        // close connection with host and retry\r\n                        // console.log('close connection with host');\r\n\r\n                        mainStream = null;\r\n                        mainPeerConnectionInfo.peerConnection.close();\r\n                        mainPeerConnectionInfo = null;\r\n\r\n                        //resetCallback();\r\n                        provider.pause();\r\n\r\n                        sendMessage(ws, {\r\n                            command: 'request_offer'\r\n                        });\r\n\r\n                    } else {\r\n\r\n                        // close connection with client\r\n                        if (clientPeerConnections[message.peer_id]) {\r\n                            // console.log('close connection with client: ', message.peer_id);\r\n                            clientPeerConnections[message.peer_id].peerConnection.close();\r\n                            delete clientPeerConnections[message.peer_id];\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n            ws.onclose = function (e) {\r\n\r\n                if (!wsClosedByPlayer) {\r\n\r\n                    if (connectedCallback) {\r\n                        if (!wsConnected) {\r\n\r\n                            // If the websocket is closed while there is no connection,\r\n                            // it is judged as a timeout.\r\n                            closePeer();\r\n                            return;\r\n                        }\r\n                    }\r\n\r\n                    let tempError = ERRORS.codes[PLAYER_WEBRTC_WS_ERROR];\r\n\r\n                    if (mainPeerConnectionInfo) {\r\n                        tempError = ERRORS.codes[PLAYER_WEBRTC_UNEXPECTED_DISCONNECT];\r\n                    }\r\n\r\n                    closePeer(tempError);\r\n                }\r\n            };\r\n\r\n            ws.onerror = function (error) {\r\n\r\n            };\r\n\r\n        } catch (error) {\r\n\r\n            closePeer(error);\r\n        }\r\n    }\r\n\r\n    function initialize() {\r\n\r\n        OvenPlayerConsole.log(\"WebRTCLoader connecting...\");\r\n        OvenPlayerConsole.log(\"WebRTCLoader url : \" + webSocketUrl);\r\n\r\n        initWebSocket();\r\n    }\r\n\r\n    function closePeer(error) {\r\n\r\n        OvenPlayerConsole.log('WebRTC Loader closePeer()');\r\n\r\n        if (!error) {\r\n            wsClosedByPlayer = true;\r\n        }\r\n\r\n        if (mainPeerConnectionInfo) {\r\n\r\n            if (mainPeerConnectionInfo.statisticsTimer) {\r\n                clearTimeout(mainPeerConnectionInfo.statisticsTimer);\r\n            }\r\n\r\n            mainStream = null;\r\n\r\n            OvenPlayerConsole.log('Closing main peer connection...');\r\n            if (statisticsTimer) {\r\n                clearTimeout(statisticsTimer);\r\n            }\r\n\r\n            if (mainPeerConnectionInfo.peerConnection) {\r\n\r\n                mainPeerConnectionInfo.peerConnection.close();\r\n            }\r\n\r\n            mainPeerConnectionInfo.peerConnection = null;\r\n            provider.trigger(PEER_CONNECTION_DESTROYED);\r\n            mainPeerConnectionInfo = null;\r\n        }\r\n\r\n        if (Object.keys(clientPeerConnections).length > 0) {\r\n\r\n            for (let clientId in clientPeerConnections) {\r\n\r\n                let clientPeerConnection = clientPeerConnections[clientId].peerConnection;\r\n\r\n                if (clientPeerConnection) {\r\n                    OvenPlayerConsole.log('Closing client peer connection...');\r\n                    clientPeerConnection.close();\r\n                    clientPeerConnection = null;\r\n                }\r\n            }\r\n\r\n            clientPeerConnections = {};\r\n        }\r\n\r\n        if (ws) {\r\n            OvenPlayerConsole.log('Closing websocket connection...');\r\n            OvenPlayerConsole.log(\"Send Signaling : Stop.\");\r\n            /*\r\n            0 (CONNECTING)\r\n            1 (OPEN)\r\n            2 (CLOSING)\r\n            3 (CLOSED)\r\n            */\r\n            if (ws.readyState === 1) {\r\n\r\n                wsClosedByPlayer = true;\r\n\r\n                if (mainPeerConnectionInfo) {\r\n                    sendMessage(ws, {\r\n                        command: 'stop',\r\n                        id: mainPeerConnectionInfo.id\r\n                    });\r\n                }\r\n\r\n                ws.close();\r\n            }\r\n\r\n        } else {\r\n            wsClosedByPlayer = false;\r\n        }\r\n\r\n        ws = null;\r\n\r\n        if (error) {\r\n\r\n            if (internalErrorCallback) {\r\n                internalErrorCallback(error);\r\n            }\r\n\r\n            errorTrigger(error, provider);\r\n        }\r\n    }\r\n\r\n    function sendMessage(ws, message) {\r\n\r\n        if (ws) {\r\n            ws.send(JSON.stringify(message));\r\n        }\r\n\r\n    }\r\n\r\n    provider.setCurrentQuality = (qualityIndex) => {\r\n\r\n        if (!playlistFromOme) {\r\n            return -1;\r\n        }\r\n\r\n        if (!mainPeerConnectionInfo) {\r\n            return -1;\r\n        }\r\n\r\n        let rendition = playlistFromOme.renditions[qualityIndex];\r\n\r\n        if (!rendition) {\r\n            return spec.currentQuality;\r\n        }\r\n\r\n        sendMessage(ws, {\r\n            command: 'change_rendition',\r\n            id: mainPeerConnectionInfo.id,\r\n            rendition_name: rendition.name,\r\n            auto: false\r\n        });\r\n\r\n        autoQuality = false;\r\n\r\n        spec.currentQuality = qualityIndex;\r\n        return spec.currentQuality;\r\n    };\r\n\r\n    provider.isAutoQuality = () => {\r\n\r\n        return autoQuality;\r\n    };\r\n\r\n    provider.setAutoQuality = (auto) => {\r\n\r\n        if (!mainPeerConnectionInfo) {\r\n            return;\r\n        }\r\n\r\n        sendMessage(ws, {\r\n            command: 'change_rendition',\r\n            id: mainPeerConnectionInfo.id,\r\n            auto: auto\r\n        });\r\n        autoQuality = auto;\r\n    };\r\n\r\n    that.connect = () => {\r\n\r\n        initialize();\r\n    };\r\n\r\n    that.destroy = () => {\r\n\r\n        wsClosedByPlayer = true;\r\n        closePeer();\r\n\r\n        window.onbeforeunload = existingHandler;\r\n        existingHandler = null;\r\n    };\r\n\r\n    return that;\r\n};\r\n\r\nexport default WebRTCLoader;\r\n","export default \"/**\\r\\n * Created by rock on 2025. 2\\r\\n */\\r\\n\\r\\nconst OVENMEDIAENGINE_SEI_METADATA_UUID = '464d4c475241494e434f4c4f55524201';\\r\\n\\r\\nfunction removeEmulationPreventionBytes(data) {\\r\\n  const rbsp = [];\\r\\n  for (let i = 0; i < data.length; i++) {\\r\\n\\r\\n    if (i > 2 && data[i - 2] === 0x00 && data[i - 1] === 0x00 && data[i] === 0x03) {\\r\\n      continue; // skip 0x03\\r\\n    }\\r\\n    rbsp.push(data[i]);\\r\\n  }\\r\\n  return new Uint8Array(rbsp);\\r\\n}\\r\\n\\r\\nfunction parseSEIPayload(rbsp) {\\r\\n\\r\\n  const messages = [];\\r\\n\\r\\n  let i = 0;\\r\\n  const rbspLength = rbsp[rbsp.length - 1] === 0x80 ? rbsp.length - 1 : rbsp.length;\\r\\n\\r\\n  while (i < rbspLength) {\\r\\n\\r\\n    let type = 0;\\r\\n    while (rbsp[i] === 0xFF) {\\r\\n      type += 255;\\r\\n      i++;\\r\\n    }\\r\\n    type += rbsp[i++];\\r\\n\\r\\n    let size = 0;\\r\\n    while (rbsp[i] === 0xFF) {\\r\\n      size += 255;\\r\\n      i++;\\r\\n    }\\r\\n    size += rbsp[i++];\\r\\n\\r\\n    const payload = rbsp.slice(i, i + size);\\r\\n    i += size;\\r\\n\\r\\n    messages.push({ type, size, payload });\\r\\n\\r\\n    return { type, size, payload };\\r\\n  }\\r\\n\\r\\n  return messages;\\r\\n}\\r\\n\\r\\nfunction toHexString(byteArray, delimiter = '') {\\r\\n  return Array.from(byteArray, byte => {\\r\\n    return ('0' + (byte & 0xFF).toString(16)).slice(-2);\\r\\n  }).join(delimiter);\\r\\n}\\r\\n\\r\\nfunction toHexArray(byteArray) {\\r\\n  return Array.from(byteArray, byte => {\\r\\n    return ('0' + (byte & 0xFF).toString(16)).slice(-2);\\r\\n  });\\r\\n}\\r\\n\\r\\nfunction toUUID(byteArray) {\\r\\n  const hexString = toHexString(byteArray);\\r\\n  return [\\r\\n    hexString.slice(0, 8),\\r\\n    hexString.slice(8, 12),\\r\\n    hexString.slice(12, 16),\\r\\n    hexString.slice(16, 20),\\r\\n    hexString.slice(20, 24),\\r\\n    hexString.slice(24, 32)\\r\\n  ].join('-');\\r\\n}\\r\\n\\r\\nfunction toTimestamp(byteArray) {\\r\\n  const hexString = toHexString(byteArray);\\r\\n  return parseInt(hexString, 16);\\r\\n}\\r\\n\\r\\nfunction toAsciiString(byteArray) {\\r\\n  return String.fromCharCode.apply(null, byteArray);\\r\\n}\\r\\n\\r\\nfunction findNalStartIndex(frameData, offset) {\\r\\n  while (offset < frameData.byteLength - 4) {\\r\\n    if ((frameData[offset] === 0x00 && frameData[offset + 1] === 0x00)\\r\\n      && (frameData[offset + 2] === 0x01 || (frameData[offset + 2] === 0x00 && frameData[offset + 3] === 0x01))) {\\r\\n      return offset;\\r\\n    } else {\\r\\n      offset += 1;\\r\\n    }\\r\\n  }\\r\\n  return -1;\\r\\n}\\r\\n\\r\\nfunction getNalus(frameData) {\\r\\n\\r\\n  let offset = 0;\\r\\n  const headerSize = 1;\\r\\n  const nalus = [];\\r\\n\\r\\n  while (offset < frameData.byteLength - 4) {\\r\\n\\r\\n    const startCodeIndex = findNalStartIndex(frameData, offset);\\r\\n\\r\\n    if (startCodeIndex >= offset) {\\r\\n\\r\\n      const startCodeLength = frameData[startCodeIndex + 2] === 0x01 ? 3 : 4;\\r\\n      const nextStartCodeIndex = findNalStartIndex(frameData, startCodeIndex + startCodeLength + headerSize);\\r\\n\\r\\n      if (nextStartCodeIndex > startCodeIndex) {\\r\\n\\r\\n        nalus.push(frameData.subarray(startCodeIndex, nextStartCodeIndex));\\r\\n        offset = nextStartCodeIndex;\\r\\n      } else {\\r\\n\\r\\n        nalus.push(frameData.subarray(startCodeIndex));\\r\\n        break;\\r\\n      }\\r\\n    } else {\\r\\n      break;\\r\\n    }\\r\\n  }\\r\\n  return nalus;\\r\\n}\\r\\n\\r\\nfunction createReceiverTransform() {\\r\\n  return new TransformStream({\\r\\n    start() { },\\r\\n    flush() { },\\r\\n    async transform(encodedFrame, controller) {\\r\\n\\r\\n      const nalus = getNalus(new Uint8Array(encodedFrame.data));\\r\\n\\r\\n      nalus.forEach((nalu) => {\\r\\n\\r\\n        const startCodeLength = nalu[2] === 0x01 ? 3 : 4;\\r\\n        const headerCodeLength = 1;\\r\\n        const nalHeader = nalu[startCodeLength];\\r\\n        const nalType = nalHeader & 0x1F;\\r\\n\\r\\n        // NAL Type SEI\\r\\n        if (nalType === 6) {\\r\\n\\r\\n          const rbsp = removeEmulationPreventionBytes(nalu.subarray(startCodeLength + headerCodeLength));\\r\\n\\r\\n          const parsedSei = parseSEIPayload(rbsp);\\r\\n\\r\\n          const eventData = {\\r\\n            nalu: nalu,\\r\\n            sei: parsedSei\\r\\n          };\\r\\n\\r\\n          const uuid = toHexString(parsedSei.payload.subarray(0, 16));\\r\\n\\r\\n          if (uuid === OVENMEDIAENGINE_SEI_METADATA_UUID) {\\r\\n\\r\\n            postMessage({\\r\\n              action: 'sei', data: {\\r\\n                ...eventData,\\r\\n                registered: true,\\r\\n                uuid: toUUID(parsedSei.payload.subarray(0, 16)),\\r\\n                timecode: toTimestamp(parsedSei.payload.subarray(16, 24)),\\r\\n                userdata: parsedSei.payload.subarray(24)\\r\\n              }\\r\\n            });\\r\\n          } else {\\r\\n\\r\\n            postMessage({\\r\\n              action: 'sei', data: {\\r\\n                ...eventData,\\r\\n                registered: false\\r\\n              }\\r\\n            });\\r\\n          }\\r\\n        }\\r\\n      });\\r\\n\\r\\n      controller.enqueue(encodedFrame);\\r\\n    }\\r\\n  })\\r\\n}\\r\\n\\r\\nfunction setupPipe({ readable, writable }, transform) {\\r\\n  readable\\r\\n    .pipeThrough(transform)\\r\\n    .pipeTo(writable)\\r\\n}\\r\\n\\r\\naddEventListener('rtctransform', (event) => {\\r\\n  setupPipe(event.transformer, createReceiverTransform());\\r\\n});\\r\\n\\r\\naddEventListener('message', (event) => {\\r\\n  const { action } = event.data;\\r\\n\\r\\n  switch (action) {\\r\\n    case 'rtctransform':\\r\\n      setupPipe(event.data, createReceiverTransform())\\r\\n      break;\\r\\n    default:\\r\\n      break;\\r\\n  }\\r\\n});\\r\\n\"","/**\r\n * Created by hoho on 2018. 6. 11..\r\n */\r\nimport Provider from \"api/provider/html5/Provider\";\r\nimport WebRTCLoader from \"api/provider/html5/providers/WebRTCLoader\";\r\nimport {isWebRTC} from \"utils/validator\";\r\nimport {errorTrigger} from \"api/provider/utils\";\r\nimport {\r\n  CONTENT_META_DATA,\r\n  CONTENT_META_DATA_TYPE_SEI,\r\n  ERROR,\r\n  PLAYER_STATE,\r\n  PROVIDER_WEBRTC,\r\n  STATE_IDLE\r\n} from \"api/constants\";\r\nimport {ERRORS, PLAYER_WEBRTC_TIMEOUT} from \"../../../constants\";\r\nimport workerScript from '../../../worker/RTCTransform.worker.js?raw';\r\n\r\n/**\r\n * @brief   webrtc provider extended core.\r\n * @param   container player element.\r\n * @param   playerConfig    config.\r\n * */\r\n\r\nconst WebRTC = function (element, playerConfig, adTagUrl) {\r\n    let that = {};\r\n    let webrtcLoader = null;\r\n    let superDestroy_func = null;\r\n    let superPlay_func = null;\r\n    let superStop_func = null;\r\n\r\n    let sourceFile = null;\r\n\r\n    let audioCtx = null;\r\n\r\n    let spec = {\r\n        name: PROVIDER_WEBRTC,\r\n        element: element,\r\n        mse: null,\r\n        listener: null,\r\n        isLoaded: false,\r\n        canSeek: false,\r\n        isLive: false,\r\n        seeking: false,\r\n        state: STATE_IDLE,\r\n        buffer: 0,\r\n        framerate: 0,\r\n        currentQuality: -1,\r\n        currentSource: -1,\r\n        qualityLevels: [],\r\n        sources: [],\r\n        adTagUrl: adTagUrl\r\n    };\r\n\r\n    let connectionTimeout = 10000;\r\n    let timeoutMaxRetry = 0;\r\n    let connectionCheckTimer = null;\r\n    let connected = false;\r\n    let connectionStartTime = null;\r\n    let connectedTime = null;\r\n\r\n    const device = () => {\r\n        return {\r\n            isMobile: /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),\r\n            iOS: /iPhone|iPad|iPod/i.test(navigator.userAgent)\r\n        }\r\n    };\r\n\r\n    const unlockAudio = (audioCtx) => {\r\n        let currentDevice = device();\r\n        let called = false;\r\n        if (currentDevice.isMobile && audioCtx.state === 'suspended') {\r\n\r\n            document.addEventListener('touchend', () => {\r\n                if (!called && audioCtx.state !== 'running') {\r\n                    audioCtx.resume();\r\n                    called = true\r\n                }\r\n            })\r\n        }\r\n    };\r\n\r\n    function loadWebRTCLoader() {\r\n\r\n        if (isWebRTC(sourceFile.file, sourceFile.type)) {\r\n\r\n            clearTimeout(connectionCheckTimer);\r\n\r\n            OvenPlayerConsole.log(\"WEBRTC : onBeforeLoad : \", sourceFile);\r\n\r\n            if (webrtcLoader) {\r\n                webrtcLoader.destroy();\r\n                webrtcLoader = null;\r\n            }\r\n\r\n            const loadCallback = function (e) {\r\n\r\n                if (element.srcObject) {\r\n                    element.srcObject = null;\r\n                }\r\n\r\n                if (audioCtx) {\r\n                    audioCtx.close();\r\n                    audioCtx = null;\r\n                }\r\n\r\n                const stream = e.streams[0];\r\n\r\n                element.srcObject = stream;\r\n\r\n                if (stream.getAudioTracks().length > 0) {\r\n\r\n                    // Add some weird code to avoid the audio delay bug in Safari.\r\n                    // We don't even know why this code solves the audio delay.\r\n                    const AudioContext = window.AudioContext || window.webkitAudioContext;\r\n\r\n                    // This code resolves audio delay in MacOS not IOS.\r\n                    audioCtx = new AudioContext();\r\n                    unlockAudio(audioCtx);\r\n\r\n\r\n                    // This code resolves audio delay in IOS.\r\n                    audioCtx.createMediaStreamSource(stream);\r\n                }\r\n\r\n                if (e.receiver.track.kind === 'video') {\r\n\r\n                    if (playerConfig.getConfig().parseStream.enabled) {\r\n                        const blob = new Blob([workerScript], { type: 'application/javascript' });\r\n                        const url = URL.createObjectURL(blob);\r\n                        const worker = new Worker(url);\r\n\r\n                        if ('RTCRtpScriptTransform' in window) {\r\n\r\n                            e.receiver.transform = new RTCRtpScriptTransform(worker);\r\n\r\n                        } else {\r\n\r\n                            const { readable, writable } = e.receiver.createEncodedStreams();\r\n\r\n                            worker.postMessage({\r\n                                action: 'rtctransform',\r\n                                readable,\r\n                                writable\r\n                            }, [readable, writable]);\r\n                        }\r\n\r\n                        worker.addEventListener('message', (event) => {\r\n\r\n                            if (event.data.action === 'sei') {\r\n                                that.trigger(CONTENT_META_DATA, {\r\n                                    ...event.data.data,\r\n                                    type: CONTENT_META_DATA_TYPE_SEI,\r\n                                });\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            };\r\n\r\n            let internalErrorCallback = null;\r\n            let connectedCallback = null;\r\n\r\n            // add callback to check time out\r\n            if (timeoutMaxRetry > 0) {\r\n\r\n                internalErrorCallback = function () {\r\n\r\n                    clearTimeout(connectionCheckTimer);\r\n                };\r\n\r\n                connectedCallback = function () {\r\n\r\n                    clearTimeout(connectionCheckTimer);\r\n                    connectedTime = performance.now();\r\n                    connected = true;\r\n                };\r\n            }\r\n\r\n            webrtcLoader = WebRTCLoader(\r\n                that,\r\n                sourceFile.file,\r\n                loadCallback,\r\n                connectedCallback,\r\n                internalErrorCallback,\r\n                errorTrigger,\r\n                playerConfig,\r\n                spec\r\n            );\r\n\r\n            connectionStartTime = performance.now();\r\n            webrtcLoader.connect();\r\n\r\n            // add connection time out checker\r\n            if (timeoutMaxRetry > 0) {\r\n\r\n                that.once(PLAYER_STATE, function (e) {\r\n\r\n                    if (!connected) {\r\n                        if (e.newstate === STATE_IDLE) {\r\n\r\n                            clearTimeout(connectionCheckTimer);\r\n                            destroyWebRtcLoader();\r\n                        }\r\n                    }\r\n                });\r\n\r\n                that.once(ERROR, function () {\r\n\r\n                    connected = false;\r\n                });\r\n\r\n                connectionCheckTimer = setTimeout(function () {\r\n\r\n                    if (timeoutMaxRetry > 0) {\r\n                        if (!connected) {\r\n\r\n                            destroyWebRtcLoader();\r\n                            loadWebRTCLoader();\r\n                        }\r\n                    } else {\r\n                        destroyWebRtcLoader();\r\n                        let error = ERRORS.codes[PLAYER_WEBRTC_TIMEOUT];\r\n                        errorTrigger(error, that);\r\n                    }\r\n\r\n                    timeoutMaxRetry--;\r\n\r\n                }, connectionTimeout);\r\n            }\r\n        }\r\n    }\r\n\r\n    function destroyWebRtcLoader() {\r\n\r\n        if (webrtcLoader) {\r\n            webrtcLoader.destroy();\r\n            webrtcLoader = null;\r\n            element.srcObject = null;\r\n        }\r\n    }\r\n\r\n    that = Provider(spec, playerConfig, function (source) {\r\n\r\n        const config = playerConfig.getConfig();\r\n\r\n        if (config.webrtcConfig) {\r\n\r\n            if (typeof config.webrtcConfig.connectionTimeout === 'number'\r\n                && config.webrtcConfig.connectionTimeout > 0) {\r\n\r\n                connectionTimeout = config.webrtcConfig.connectionTimeout;\r\n            }\r\n\r\n            if (typeof config.webrtcConfig.timeoutMaxRetry === 'number'\r\n                && config.webrtcConfig.timeoutMaxRetry > 0) {\r\n\r\n                timeoutMaxRetry = config.webrtcConfig.timeoutMaxRetry;\r\n            }\r\n        }\r\n\r\n        sourceFile = source;\r\n        loadWebRTCLoader();\r\n    });\r\n\r\n    superDestroy_func = that.super('destroy');\r\n    superPlay_func = that.super('play');\r\n    superStop_func = that.super('stop');\r\n\r\n    OvenPlayerConsole.log(\"WEBRTC PROVIDER LOADED.\");\r\n\r\n    that.removeStream = () => {\r\n        element.srcObject = null;\r\n    };\r\n\r\n\r\n    that.destroy = () => {\r\n\r\n        clearTimeout(connectionCheckTimer);\r\n\r\n        destroyWebRtcLoader();\r\n\r\n        OvenPlayerConsole.log(\"WEBRTC :  PROVIDER DESTROYED.\");\r\n\r\n        superDestroy_func();\r\n\r\n    };\r\n\r\n    that.play = () => {\r\n\r\n        if (!webrtcLoader || (timeoutMaxRetry > 0 && !connected)) {\r\n            loadWebRTCLoader();\r\n        }\r\n\r\n        superPlay_func();\r\n    };\r\n\r\n    that.stop = () => {\r\n        clearTimeout(connectionCheckTimer);\r\n        destroyWebRtcLoader();\r\n        superStop_func();\r\n    };\r\n\r\n    return that;\r\n};\r\n\r\n\r\nexport default WebRTC;\r\n","/**\r\n * Created by hoho on 2018. 11. 14..\r\n */\r\n\r\nconst sizeHumanizer = function (bytes, si, postpix) {\r\n    let thresh = si ? 1000 : 1024;\r\n    if(Math.abs(bytes) < thresh) {\r\n        return bytes + ' B';\r\n    }\r\n    let unit = postpix||\"B\";\r\n    let units = ['k'+unit,'M'+unit,'G'+unit,'T'+unit,'P'+unit,'E'+unit,'Z'+unit,'Y'+unit];\r\n       // ? ['kB','MB','GB','TB','PB','EB','ZB','YB']: ['KiB','MiB','GiB','TiB','PiB','EiB','ZiB','YiB'];\r\n    let u = -1;\r\n    do {\r\n        bytes /= thresh;\r\n        ++u;\r\n    } while(Math.abs(bytes) >= thresh && u < units.length - 1);\r\n    return bytes.toFixed(1)+units[u];\r\n}\r\n\r\nexport default sizeHumanizer;","/**\r\n * Created by hoho on 2018. 6. 14..\r\n */\r\nimport Provider from \"api/provider/html5/Provider\";\r\nimport {errorTrigger} from \"api/provider/utils\";\r\nimport sizeHumanizer from \"utils/sizeHumanizer\";\r\nimport {\r\n  CONTENT_LEVEL_CHANGED,\r\n  DASH_DESTROYED,\r\n  DASH_PREPARED,\r\n  ERRORS,\r\n  INIT_DASH_FAIL,\r\n  INIT_DASH_UNSUPPORT,\r\n  PLAYER_UNKNWON_NETWORK_ERROR,\r\n  PROVIDER_DASH,\r\n  STATE_AD_PAUSED,\r\n  STATE_AD_PLAYING,\r\n  STATE_IDLE,\r\n  STATE_PLAYING\r\n} from \"api/constants\";\r\nimport _ from \"underscore\";\r\n\r\n/**\r\n * @brief   dashjs provider extended core.\r\n * @param   container player element.\r\n * @param   playerConfig    config.\r\n * */\r\nconst DASHERROR = {\r\n    DOWNLOAD: \"download\",\r\n    MANIFESTERROR: \"manifestError\"\r\n};\r\nconst Dash = function (element, playerConfig, adTagUrl) {\r\n\r\n    let that = {};\r\n    let dash = null;\r\n    let superPlay_func = null;\r\n    let superDestroy_func = null;\r\n    let seekPosition_sec = 0;\r\n    let prevLLLiveDuration = null;\r\n    let loadRetryer = null;\r\n    let sourceOfFile = \"\";\r\n\r\n    try {\r\n\r\n        if (dashjs.Version < \"3.0.0\") {\r\n            throw ERRORS.codes[INIT_DASH_UNSUPPORT];\r\n        }\r\n\r\n        const coveredSetAutoSwitchQualityFor = function (isAuto) {\r\n\r\n            dash.updateSettings({\r\n                streaming: {\r\n                    abr: {\r\n                        autoSwitchBitrate: {\r\n                            video: isAuto\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        };\r\n\r\n        const coveredGetAutoSwitchQualityFor = function () {\r\n\r\n            return dash.getSettings().streaming.abr.autoSwitchBitrate.video;\r\n        };\r\n\r\n        const liveDelayReducingCallback = function () {\r\n\r\n            if (dash.duration() !== prevLLLiveDuration) {\r\n                prevLLLiveDuration = dash.duration();\r\n\r\n                let dvrInfo = dash.getDashMetrics().getCurrentDVRInfo();\r\n                let liveDelay = playerConfig.getConfig().lowLatencyMpdLiveDelay;\r\n\r\n                if (!liveDelay) {\r\n                    liveDelay = 3;\r\n                }\r\n\r\n                dash.seek(dvrInfo.range.end - dvrInfo.range.start - liveDelay)\r\n            }\r\n\r\n        };\r\n\r\n        dash = dashjs.MediaPlayer().create();\r\n        dash.initialize(element, null, false);\r\n\r\n        window.op_dash = dash;\r\n\r\n        let spec = {\r\n            name: PROVIDER_DASH,\r\n            element: element,\r\n            mse: dash,\r\n            listener: null,\r\n            isLoaded: false,\r\n            canSeek: false,\r\n            isLive: false,\r\n            seeking: false,\r\n            state: STATE_IDLE,\r\n            buffer: 0,\r\n            framerate: 0,\r\n            currentQuality: -1,\r\n            currentSource: -1,\r\n            qualityLevels: [],\r\n            sources: [],\r\n            adTagUrl: adTagUrl\r\n        };\r\n\r\n        that = Provider(spec, playerConfig, function (source, lastPlayPosition) {\r\n\r\n            OvenPlayerConsole.log(\"DASH : Attach File : \", source, \"lastPlayPosition : \" + lastPlayPosition);\r\n\r\n            coveredSetAutoSwitchQualityFor(true);\r\n            sourceOfFile = source.file;\r\n\r\n            // dash.off(dashjs.MediaPlayer.events.PLAYBACK_PLAYING, liveDelayReducingCallback);\r\n\r\n            if (source.lowLatency === true) {\r\n\r\n                prevLLLiveDuration = null;\r\n\r\n                dash.updateSettings({\r\n                    streaming: {\r\n                        lowLatencyEnabled: source.lowLatency\r\n                    }\r\n                });\r\n\r\n                if (playerConfig.getConfig().lowLatencyMpdLiveDelay && typeof(playerConfig.getConfig().lowLatencyMpdLiveDelay) === 'number') {\r\n\r\n                    dash.updateSettings({\r\n                        streaming: {\r\n                            liveDelay: playerConfig.getConfig().lowLatencyMpdLiveDelay\r\n                        }\r\n                    });\r\n                }\r\n\r\n                // dash.on(dashjs.MediaPlayer.events.PLAYBACK_PLAYING, liveDelayReducingCallback);\r\n\r\n            } else {\r\n\r\n                dash.updateSettings({\r\n                    streaming: {\r\n                        lowLatencyEnabled: false,\r\n                        liveDelay: undefined\r\n                    }\r\n                });\r\n\r\n            }\r\n\r\n            dash.updateSettings({\r\n                debug: {\r\n                    logLevel: dashjs.Debug.LOG_LEVEL_NONE\r\n                }\r\n            });\r\n\r\n            let dashConfigFromPlayerConfig = playerConfig.getConfig().dashConfig;\r\n\r\n            if (dashConfigFromPlayerConfig) {\r\n                dash.updateSettings(dashConfigFromPlayerConfig);\r\n            }\r\n\r\n            that.trigger(DASH_PREPARED, dash);\r\n\r\n            dash.attachSource(sourceOfFile);\r\n\r\n            seekPosition_sec = lastPlayPosition;\r\n        });\r\n\r\n        superPlay_func = that.super('play');\r\n        superDestroy_func = that.super('destroy');\r\n        OvenPlayerConsole.log(\"DASH PROVIDER LOADED.\");\r\n\r\n        dash.on(dashjs.MediaPlayer.events.ERROR, function (error) {\r\n\r\n            let tempError = ERRORS.codes[PLAYER_UNKNWON_NETWORK_ERROR];\r\n            tempError.error = error;\r\n            errorTrigger(tempError, that);\r\n        });\r\n\r\n        dash.on(dashjs.MediaPlayer.events.QUALITY_CHANGE_REQUESTED, function (event) {\r\n            if (event && event.mediaType && event.mediaType === \"video\") {\r\n                that.trigger(CONTENT_LEVEL_CHANGED, {\r\n                    isAuto: coveredGetAutoSwitchQualityFor(),\r\n                    currentQuality: spec.currentQuality,\r\n                    type: \"request\"\r\n                });\r\n            }\r\n        });\r\n        dash.on(dashjs.MediaPlayer.events.QUALITY_CHANGE_RENDERED, function (event) {\r\n            if (event && event.mediaType && event.mediaType === \"video\") {\r\n                spec.currentQuality = event.newQuality;\r\n                that.trigger(CONTENT_LEVEL_CHANGED, {\r\n                    isAuto: coveredGetAutoSwitchQualityFor(),\r\n                    currentQuality: event.newQuality,\r\n                    type: \"render\"\r\n                });\r\n            }\r\n        });\r\n\r\n        dash.on(dashjs.MediaPlayer.events.PLAYBACK_METADATA_LOADED, function (event) {\r\n\r\n            OvenPlayerConsole.log(\"DASH : PLAYBACK_METADATA_LOADED  : \", dash.getQualityFor(\"video\"), dash.getBitrateInfoListFor('video'), dash.getBitrateInfoListFor('video')[dash.getQualityFor(\"video\")]);\r\n\r\n            let subQualityList = dash.getBitrateInfoListFor('video');\r\n            spec.currentQuality = dash.getQualityFor(\"video\");\r\n            for (let i = 0; i < subQualityList.length; i++) {\r\n                if (!_.findWhere(spec.qualityLevels, {bitrate: subQualityList[i].bitrate, height: subQualityList[i].height, width: subQualityList[i].width})) {\r\n                    spec.qualityLevels.push({\r\n                        bitrate: subQualityList[i].bitrate,\r\n                        height: subQualityList[i].height,\r\n                        width: subQualityList[i].width,\r\n                        index: subQualityList[i].qualityIndex,\r\n                        label: subQualityList[i].width + \"x\" + subQualityList[i].height + \", \" + sizeHumanizer(subQualityList[i].bitrate, true, \"bps\")\r\n                    });\r\n                }\r\n            }\r\n\r\n            if (dash.isDynamic()) {\r\n                spec.isLive = true;\r\n            }\r\n\r\n            if (seekPosition_sec && !spec.isLive) {\r\n                dash.seek(seekPosition_sec);\r\n            }\r\n\r\n        });\r\n\r\n        that.play = (mutedPlay) => {\r\n\r\n            if (that.getState() === STATE_AD_PLAYING || that.getState() === STATE_AD_PAUSED) {\r\n\r\n            } else {\r\n\r\n                superPlay_func(mutedPlay);\r\n            }\r\n\r\n        };\r\n\r\n        that.setCurrentQuality = (qualityIndex) => {\r\n            if (that.getState() !== STATE_PLAYING) {\r\n                that.play();\r\n            }\r\n            spec.currentQuality = qualityIndex;\r\n            if (coveredGetAutoSwitchQualityFor()) {\r\n                coveredSetAutoSwitchQualityFor(false);\r\n            }\r\n            dash.setQualityFor(\"video\", qualityIndex);\r\n            return spec.currentQuality;\r\n        };\r\n        that.isAutoQuality = () => {\r\n            return coveredGetAutoSwitchQualityFor();\r\n        };\r\n        that.setAutoQuality = (isAuto) => {\r\n            coveredSetAutoSwitchQualityFor(isAuto);\r\n        };\r\n        that.destroy = () => {\r\n\r\n            if (dash.destroy) {\r\n\r\n                dash.destroy();\r\n            } else {\r\n\r\n                dash.reset();\r\n            }\r\n\r\n            dash = null;\r\n            that.trigger(DASH_DESTROYED);\r\n            OvenPlayerConsole.log(\"DASH : PROVIDER DESTROYED.\");\r\n            superDestroy_func();\r\n        };\r\n    } catch (error) {\r\n\r\n        if (error && error.code && error.code === INIT_DASH_UNSUPPORT) {\r\n            throw error;\r\n        } else {\r\n            let tempError = ERRORS.codes[INIT_DASH_FAIL];\r\n            tempError.error = error;\r\n            throw tempError;\r\n        }\r\n    }\r\n\r\n    return that;\r\n};\r\n\r\n\r\nexport default Dash;\r\n","/**\r\n * Created by hoho on 2018. 6. 7..\r\n */\r\nimport Provider from \"api/provider/html5/Provider\";\r\nimport {errorTrigger} from \"api/provider/utils\";\r\nimport {\r\n  AUDIO_TRACK_CHANGED,\r\n  CONTENT_LEVEL_CHANGED,\r\n  ERRORS,\r\n  HLS_DESTROYED,\r\n  HLS_PREPARED,\r\n  INIT_HLSJS_FAIL,\r\n  PLAYER_AUTH_FAILED_ERROR,\r\n  PLAYER_BAD_REQUEST_ERROR,\r\n  PLAYER_NOT_ACCEPTABLE_ERROR,\r\n  PLAYER_STATE,\r\n  PLAYER_UNKNWON_NETWORK_ERROR,\r\n  PROVIDER_HLS,\r\n  STATE_IDLE,\r\n  STATE_LOADING\r\n} from \"api/constants\";\r\n\r\nimport sizeHumanizer from \"utils/sizeHumanizer\";\r\n\r\n/**\r\n * @brief   hlsjs provider extended core.\r\n * @param   container player element.\r\n * @param   playerConfig    config.\r\n * */\r\n\r\n\r\nconst HlsProvider = function (element, playerConfig, adTagUrl) {\r\n    let that = {};\r\n    let hls = null;\r\n    let superStop_func = null;\r\n    let superDestroy_func = null;\r\n    let loadRetryer = null;\r\n    let isManifestLoaded = false;\r\n    let firstLoaded = false;\r\n\r\n    try {\r\n\r\n        let hlsConfig = {\r\n            debug: false\r\n        };\r\n\r\n        let hlsConfigFromPlayerConfig = playerConfig.getConfig().hlsConfig;\r\n\r\n        if (hlsConfigFromPlayerConfig) {\r\n\r\n            for (let key in hlsConfigFromPlayerConfig) {\r\n                hlsConfig[key] = hlsConfigFromPlayerConfig[key];\r\n            }\r\n        }\r\n\r\n        if (playerConfig.getConfig().licenseCustomHeader) {\r\n\r\n            const licenseXhrSetup = function (xhr, url, keyContext, licenseChallenge) {\r\n                xhr.setRequestHeader(playerConfig.getConfig().licenseCustomHeader.key, playerConfig.getConfig().licenseCustomHeader.value);\r\n            };\r\n\r\n            hlsConfig.licenseXhrSetup = licenseXhrSetup;\r\n        }\r\n\r\n        hls = new Hls(hlsConfig);\r\n\r\n        hls.attachMedia(element);\r\n\r\n        let spec = {\r\n            name: PROVIDER_HLS,\r\n            element: element,\r\n            mse: hls,\r\n            listener: null,\r\n            isLoaded: false,\r\n            canSeek: false,\r\n            isLive: false,\r\n            seeking: false,\r\n            state: STATE_IDLE,\r\n            buffer: 0,\r\n            dvrWindow: 0,\r\n            framerate: 0,\r\n            currentQuality: -1,\r\n            qualityLevels: [],\r\n            currentAudioTrack: -1,\r\n            audioTracks: [],\r\n            currentSource: -1,\r\n            sources: [],\r\n            adTagUrl: adTagUrl\r\n        };\r\n\r\n        that = Provider(spec, playerConfig, function (source, lastPlayPosition) {\r\n\r\n            OvenPlayerConsole.log(\"HLS : onExtendedLoad : \", source, \"lastPlayPosition : \" + lastPlayPosition);\r\n\r\n            that.trigger(HLS_PREPARED, hls);\r\n\r\n            hls.loadSource(source.file);\r\n\r\n            hls.once(Hls.Events.MANIFEST_LOADED, function (event, data) {\r\n\r\n                isManifestLoaded = true;\r\n\r\n                for (let i = 0; i < hls.levels.length; i++) {\r\n\r\n                    let qualityLevel = hls.levels[i];\r\n\r\n                    spec.qualityLevels.push({\r\n                        bitrate: qualityLevel.bitrate,\r\n                        height: qualityLevel.height,\r\n                        width: qualityLevel.width,\r\n                        index: i,\r\n                        label: qualityLevel.width + \"x\" + qualityLevel.height + \", \" + sizeHumanizer(qualityLevel.bitrate, true, \"bps\")\r\n                    });\r\n                }\r\n\r\n                spec.currentQuality = hls.firstLevel;\r\n\r\n                for (let i = 0; i < hls.audioTracks.length; i++) {\r\n\r\n                    let audioTrack = hls.audioTracks[i];\r\n\r\n                    spec.audioTracks.push({\r\n                        index: audioTrack.id,\r\n                        label: audioTrack.name\r\n                    });\r\n\r\n                    if (audioTrack.default === true) {\r\n                        spec.currentAudioTrack = audioTrack.id;\r\n                    }\r\n                }\r\n            });\r\n\r\n            hls.once(Hls.Events.LEVEL_LOADED, function (event, data) {\r\n\r\n                firstLoaded = true;\r\n\r\n                if (loadRetryer) {\r\n                    clearTimeout(loadRetryer);\r\n                    loadRetryer = null;\r\n                }\r\n\r\n                if (data.details.live) {\r\n                    spec.isLive = true;\r\n                } else {\r\n\r\n                    if (lastPlayPosition && lastPlayPosition >= 0) {\r\n                        that.seek(lastPlayPosition);\r\n                    }\r\n                }\r\n            });\r\n\r\n            hls.on(Hls.Events.LEVEL_SWITCHED, function (event, data) {\r\n\r\n                spec.currentQuality = data.level;\r\n\r\n                that.trigger(CONTENT_LEVEL_CHANGED, {\r\n                    isAuto: hls.autoLevelEnabled,\r\n                    currentQuality: spec.currentQuality,\r\n                    type: \"render\"\r\n                });\r\n            });\r\n\r\n            hls.on(Hls.Events.AUDIO_TRACK_SWITCHED, function (event, data) {\r\n\r\n                spec.currentAudioTrack = data.id;\r\n                that.trigger(AUDIO_TRACK_CHANGED, {\r\n                    currentAudioTrack: spec.currentAudioTrack\r\n                });\r\n            });\r\n\r\n            hls.on(Hls.Events.LEVEL_UPDATED, function (event, data) {\r\n                if (data && data.details) {\r\n                    spec.dvrWindow = data.details.totalduration;\r\n                }\r\n\r\n            });\r\n\r\n            hls.on(Hls.Events.ERROR, function (event, data) {\r\n\r\n                if (data && data.networkDetails && data.networkDetails.status === 202) {\r\n\r\n                    if (loadRetryer) {\r\n                        clearTimeout(loadRetryer);\r\n                        loadRetryer = null;\r\n                    }\r\n\r\n                    that.setState(STATE_LOADING);\r\n\r\n                    loadRetryer = setTimeout(function () {\r\n\r\n                        if (hls) {\r\n\r\n                            that.stop();\r\n                            hls.stopLoad();\r\n                            hls.loadSource(source.file);\r\n                        }\r\n\r\n                    }, 1000);\r\n\r\n                    return;\r\n                }\r\n\r\n                if (!data.fatal) {\r\n                    // do nothing when non fatal error. hlsjs will recover it automatically.\r\n                    return;\r\n                }\r\n\r\n                let errorType = PLAYER_UNKNWON_NETWORK_ERROR;\r\n\r\n                if (data && data.networkDetails && data.networkDetails.status === 400) {\r\n                    errorType = PLAYER_BAD_REQUEST_ERROR;\r\n                } else if (data && data.networkDetails && data.networkDetails.status === 403) {\r\n                    errorType = PLAYER_AUTH_FAILED_ERROR;\r\n                } else if (data && data.networkDetails && data.networkDetails.status === 406) {\r\n                    errorType = PLAYER_NOT_ACCEPTABLE_ERROR;\r\n                }\r\n\r\n                let tempError = ERRORS.codes[errorType];\r\n                tempError.error = data;\r\n                errorTrigger(tempError, that);\r\n            });\r\n\r\n            that.on(PLAYER_STATE, function (data) {\r\n\r\n                if (!firstLoaded && data.prevstate === STATE_LOADING && data.newstate === STATE_IDLE) {\r\n\r\n                    if (loadRetryer) {\r\n                        clearTimeout(loadRetryer);\r\n                        loadRetryer = null;\r\n                    }\r\n\r\n                    if (hls) {\r\n\r\n                        hls.stopLoad();\r\n                    }\r\n                }\r\n            });\r\n        });\r\n\r\n        that.setCurrentQuality = (qualityIndex) => {\r\n\r\n            hls.currentLevel = qualityIndex;\r\n            spec.currentQuality = qualityIndex;\r\n\r\n            return spec.currentQuality;\r\n        };\r\n\r\n        that.isAutoQuality = () => {\r\n            return hls.autoLevelEnabled;\r\n        };\r\n\r\n        that.setAutoQuality = (isAuto) => {\r\n            if (isAuto) {\r\n                hls.currentLevel = -1;\r\n            } else {\r\n                hls.currentLevel = hls.currentLevel;\r\n            }\r\n        };\r\n\r\n        that.setCurrentAudioTrack = (audioTrackIndex) => {\r\n            hls.audioTrack = audioTrackIndex;\r\n            spec.currentAudioTrack = audioTrackIndex;\r\n\r\n            return spec.currentAudioTrack;\r\n        };\r\n\r\n        that.getDuration = () => {\r\n            return element.duration;\r\n        }\r\n\r\n        superStop_func = that.super('stop');\r\n        that.stop = () => {\r\n\r\n            if (loadRetryer) {\r\n\r\n                clearTimeout(loadRetryer);\r\n                loadRetryer = null;\r\n            }\r\n\r\n            if (hls) {\r\n                hls.stopLoad();\r\n            }\r\n\r\n            superStop_func();\r\n        };\r\n\r\n        superDestroy_func = that.super('destroy');\r\n        that.destroy = () => {\r\n\r\n            if (loadRetryer) {\r\n\r\n                clearTimeout(loadRetryer);\r\n                loadRetryer = null;\r\n            }\r\n\r\n            if (hls) {\r\n\r\n                hls.destroy();\r\n                that.trigger(HLS_DESTROYED);\r\n            }\r\n\r\n            hls = null;\r\n            OvenPlayerConsole.log(\"HLS : PROVIDER DESTROYED.\");\r\n            superDestroy_func();\r\n        };\r\n\r\n        OvenPlayerConsole.log(\"HLS PROVIDER LOADED.\");\r\n    } catch (error) {\r\n        let tempError = ERRORS.codes[INIT_HLSJS_FAIL];\r\n        tempError.error = error;\r\n        throw tempError;\r\n    }\r\n\r\n    return that;\r\n};\r\n\r\n\r\nexport default HlsProvider;\r\n","import SupportChecker from \"api/SupportChecker\";\r\nimport HTML5 from \"api/provider/html5/providers/Html5\";\r\nimport WebRTC from \"api/provider/html5/providers/WebRTC\";\r\nimport Dash from \"api/provider/html5/providers/Dash\";\r\nimport Hls from \"api/provider/html5/providers/Hls\";\r\n\r\nimport {\r\n  ERRORS,\r\n  INIT_UNSUPPORT_ERROR,\r\n  PROVIDER_DASH,\r\n  PROVIDER_HLS,\r\n  PROVIDER_HTML5,\r\n  PROVIDER_WEBRTC\r\n} from \"api/constants\";\r\n\r\n/**\r\n * @brief   This manages provider.\r\n * */\r\nconst Controller = function () {\r\n    let supportChecker = SupportChecker();\r\n    const Providers = {};\r\n\r\n    const that = {};\r\n    OvenPlayerConsole.log(\"ProviderController loaded.\");\r\n\r\n    const registeProvider = (name, provider) => {\r\n        if (Providers[name]) {\r\n            return;\r\n        }\r\n        OvenPlayerConsole.log(\"ProviderController _registerProvider() \", name);\r\n        Providers[name] = provider;\r\n    };\r\n\r\n    const ProviderLoader = {\r\n        html5: function () {\r\n\r\n            const provider = HTML5;\r\n            registeProvider(PROVIDER_HTML5, provider);\r\n            return {name: PROVIDER_HTML5, provider: provider};\r\n        },\r\n        webrtc: function () {\r\n\r\n            const provider = WebRTC;\r\n            registeProvider(PROVIDER_WEBRTC, provider);\r\n            return {name: PROVIDER_WEBRTC, provider: provider};\r\n        },\r\n        dash: function () {\r\n\r\n            const provider = Dash;\r\n            registeProvider(PROVIDER_DASH, provider);\r\n            return {name: PROVIDER_DASH, provider: provider};\r\n        },\r\n        hls: function () {\r\n\r\n            const provider = Hls;\r\n            registeProvider(PROVIDER_HLS, provider);\r\n            return {name: PROVIDER_HLS, provider: provider};\r\n        }\r\n    };\r\n\r\n\r\n    that.loadProviders = (playlistItem) => {\r\n        const supportedProviderNames = supportChecker.findProviderNamesByPlaylist(playlistItem);\r\n        OvenPlayerConsole.log(\"ProviderController loadProviders() \", supportedProviderNames);\r\n        if (!supportedProviderNames) {\r\n            return Promise.reject(ERRORS.codes[INIT_UNSUPPORT_ERROR]);\r\n        } else {\r\n            return Promise.all(\r\n                supportedProviderNames.filter(function (providerName) {\r\n                    return !!ProviderLoader[providerName];\r\n                }).map(function (providerName) {\r\n                    return ProviderLoader[providerName]();\r\n                })\r\n            );\r\n        }\r\n\r\n    };\r\n\r\n    that.findByName = (name) => {\r\n        OvenPlayerConsole.log(\"ProviderController findByName() \", name);\r\n        return Providers[name];\r\n    };\r\n\r\n    that.getProviderBySource = (source) => {\r\n        const supportedProviderName = supportChecker.findProviderNameBySource(source);\r\n        OvenPlayerConsole.log(\"ProviderController getProviderBySource() \", supportedProviderName);\r\n        return that.findByName(supportedProviderName);\r\n    };\r\n\r\n    that.isSameProvider = (currentSource, newSource) => {\r\n        OvenPlayerConsole.log(\"ProviderController isSameProvider() \", supportChecker.findProviderNameBySource(currentSource), supportChecker.findProviderNameBySource(newSource));\r\n        return supportChecker.findProviderNameBySource(currentSource) === supportChecker.findProviderNameBySource(newSource);\r\n    };\r\n\r\n    return that;\r\n};\r\n\r\nexport default Controller;\r\n","/**\r\n * Created by hoho on 2018. 8. 24..\r\n */\r\n\r\nexport const ApiRtmpExpansion = function(currentProvider){\r\n    return {\r\n        externalCallbackCreep : (result) => {\r\n            if(result.name && result.data){\r\n                return currentProvider.triggerEventFromExternal(result.name, result.data);\r\n            }else{\r\n                return null;\r\n            }\r\n        }\r\n    };\r\n};\r\n","import OvenPlayerSDK from \"@/ovenplayer.sdk\"\r\nimport CaptionManager from \"api/caption/Manager\";\r\nimport Configurator from \"api/Configurator\";\r\nimport EventEmitter from \"api/EventEmitter\";\r\nimport MediaManager from \"api/media/Manager\";\r\nimport PlaylistManager from \"api/playlist/Manager\";\r\nimport ProviderController from \"api/provider/Controller\";\r\nimport {\r\n  ALL_PLAYLIST_ENDED,\r\n  CONTENT_COMPLETE,\r\n  CONTENT_META,\r\n  DESTROY,\r\n  ERROR,\r\n  ERRORS,\r\n  INIT_UNKNWON_ERROR,\r\n  INIT_UNSUPPORT_ERROR,\r\n  PROVIDER_RTMP,\r\n  PROVIDER_WEBRTC,\r\n  READY\r\n} from \"api/constants\";\r\n\r\nimport {ApiRtmpExpansion} from 'api/ApiExpansions';\r\nimport {analUserAgent} from \"utils/browser\";\r\nimport {pickCurrentSource} from \"api/provider/utils\";\r\nimport {version} from \"../version\";\r\nimport {CONTENT_SOURCE_CHANGED} from \"./constants\";\r\n\r\n/**\r\n * @brief   This object connects UI to the provider.\r\n * @param   {object}    container  dom element\r\n *\r\n * */\r\n\r\nconst Api = function (container) {\r\n    const that = {};\r\n    EventEmitter(that);\r\n\r\n    OvenPlayerConsole.log(\"API loaded.\");\r\n\r\n    let playlistManager = PlaylistManager(that);\r\n    let providerController = ProviderController();\r\n    let userAgentObject = analUserAgent();\r\n    let mediaManager = MediaManager(container, userAgentObject);\r\n    let currentProvider = \"\";\r\n    let playerConfig = \"\";\r\n    let captionManager = \"\";\r\n\r\n    const runNextPlaylist = function (index) {\r\n        OvenPlayerConsole.log(\"runNextPlaylist\");\r\n        let nextPlaylistIndex = index; // || playlistManager.getCurrentPlaylistIndex() + 1;\r\n        let playlist = playlistManager.getPlaylist();\r\n        let hasNextPlaylist = playlist[nextPlaylistIndex] ? true : false;\r\n        //init source index\r\n        playerConfig.setSourceIndex(0);\r\n\r\n        //set Golbal Volume info\r\n        playerConfig.setVolume(currentProvider.getVolume());\r\n\r\n        if (hasNextPlaylist) {\r\n\r\n            playlistManager.setCurrentPlaylist(nextPlaylistIndex);\r\n            initProvider();\r\n\r\n        } else {\r\n            //All Playlist Ended.\r\n            that.trigger(ALL_PLAYLIST_ENDED, null);\r\n        }\r\n    };\r\n    const initProvider = function (lastPlayPosition) {\r\n\r\n        return providerController.loadProviders(playlistManager.getCurrentPlayList()).then(Providers => {\r\n\r\n            if (Providers.length < 1) {\r\n                throw ERRORS.codes[INIT_UNSUPPORT_ERROR];\r\n            }\r\n\r\n            if (currentProvider) {\r\n                currentProvider.destroy();\r\n                currentProvider = null;\r\n            }\r\n\r\n            if (captionManager) {\r\n                captionManager.destroy();\r\n                captionManager = null;\r\n            }\r\n\r\n            captionManager = CaptionManager(that, playlistManager.getCurrentPlaylistIndex());\r\n\r\n            OvenPlayerConsole.log(\"API : init() captions\");\r\n\r\n            let currentSourceIndex = pickCurrentSource(playlistManager.getCurrentSources(), playerConfig);\r\n            let providerName = Providers[currentSourceIndex][\"name\"];\r\n            OvenPlayerConsole.log(\"API : init() provider\", providerName);\r\n            //Init Provider.\r\n            currentProvider = Providers[currentSourceIndex].provider(\r\n                mediaManager.createMedia(providerName, playerConfig),\r\n                playerConfig,\r\n                playlistManager.getCurrentAdTag()\r\n            );\r\n\r\n            if (providerName === PROVIDER_RTMP) {\r\n                //If provider type is RTMP, we accepts RtmpExpansion.\r\n                Object.assign(that, ApiRtmpExpansion(currentProvider));\r\n            }\r\n\r\n            //This passes the event created by the Provider to API.\r\n            currentProvider.on(\"all\", function (name, data) {\r\n\r\n                if (name === ERROR) {\r\n\r\n                    // Chrome >=80 on Android misses h246 in SDP when first time after web page loaded.\r\n                    // So wait until browser get h264 capabilities and create answer SDP.\r\n                    // if (userAgentObject.os === 'Android' && userAgentObject.browser === 'Chrome') {\r\n                    //\r\n                    //     if (data && data.code && data.code === PLAYER_WEBRTC_SET_LOCAL_DESC_ERROR) {\r\n                    //\r\n                    //         setTimeout(function () {\r\n                    //\r\n                    //             that.setCurrentSource(that.getCurrentSource());\r\n                    //         }, webrtcRetryInterval);\r\n                    //\r\n                    //         return;\r\n                    //     }\r\n                    // }\r\n\r\n                    if (providerName === PROVIDER_WEBRTC) {\r\n                        currentProvider.removeStream();\r\n                    }\r\n\r\n                    if (playerConfig.getConfig().autoFallback && that.getCurrentSource() + 1 < that.getSources().length) {\r\n\r\n                        that.pause();\r\n                        that.setCurrentSource(that.getCurrentSource() + 1);\r\n\r\n                        return;\r\n                    }\r\n                }\r\n\r\n                if (name === CONTENT_COMPLETE) {\r\n                    runNextPlaylist(playlistManager.getCurrentPlaylistIndex() + 1);\r\n                }\r\n\r\n                if (name === CONTENT_META) {\r\n                    if (playerConfig.isAutoStart()) {\r\n                        that.play();\r\n                    }\r\n                }\r\n\r\n                that.trigger(name, data);\r\n            });\r\n\r\n        }).then(() => {\r\n\r\n            //provider's preload() have to made Promise. Cuz it overcomes 'flash loading timing problem'.\r\n            currentProvider.preload(playlistManager.getCurrentSources(), lastPlayPosition).then(function () {\r\n\r\n\r\n            }).catch((error) => {\r\n\r\n                if (error && error.code && ERRORS.codes[error.code]) {\r\n                    that.trigger(ERROR, ERRORS.codes[error.code]);\r\n                } else {\r\n                    let tempError = ERRORS.codes[INIT_UNKNWON_ERROR];\r\n                    tempError.error = error;\r\n                    that.trigger(ERROR, tempError);\r\n                }\r\n            });\r\n        }).catch((error) => {\r\n            //INIT ERROR\r\n            if (error && error.code && ERRORS.codes[error.code]) {\r\n                that.trigger(ERROR, ERRORS.codes[error.code]);\r\n            } else {\r\n                let tempError = ERRORS.codes[INIT_UNKNWON_ERROR];\r\n                tempError.error = error;\r\n                that.trigger(ERROR, tempError);\r\n            }\r\n        });\r\n    };\r\n\r\n\r\n    /**\r\n     * init\r\n     * @param      {object} options player initial option value.\r\n     * @returns\r\n     **/\r\n    that.init = (options) => {\r\n\r\n        if (!options) {\r\n            options = {};\r\n        }\r\n\r\n        options.mediaContainer = container;\r\n        options.browser = userAgentObject;\r\n        playerConfig = Configurator(options, that);\r\n        OvenPlayerConsole.log(\"API : init()\");\r\n        OvenPlayerConsole.log(\"API : init() config : \", playerConfig);\r\n\r\n        //Not working : SyntaxError: \"ERRORS.codes\" is read-only\r\n        ERRORS.codes = playerConfig.getSystemText().api.error;\r\n        //Cool\r\n        //ERRORS.codes.push(playerConfig.getSystemText());\r\n\r\n        playlistManager.initPlaylist(playerConfig.getPlaylist(), playerConfig);\r\n        OvenPlayerConsole.log(\"API : init() sources : \", playlistManager.getCurrentSources());\r\n\r\n        initProvider();\r\n\r\n        setTimeout(function () {\r\n            that.trigger(READY);\r\n        });\r\n    };\r\n    that.getProviderName = () => {\r\n        if (currentProvider) {\r\n            return currentProvider.getName();\r\n        } else {\r\n            return null;\r\n        }\r\n\r\n    };\r\n    that.getProvider = () => {\r\n        return currentProvider;\r\n    };\r\n    that.getMseInstance = () => {\r\n        if (currentProvider) {\r\n            return currentProvider.getMse();\r\n        } else {\r\n            return null;\r\n        }\r\n\r\n    };\r\n    that.getConfig = () => {\r\n        OvenPlayerConsole.log(\"API : getConfig()\", playerConfig.getConfig());\r\n        return playerConfig.getConfig();\r\n    };\r\n    that.getBrowser = () => {\r\n\r\n        return playerConfig.getBrowser();\r\n    };\r\n    that.setTimecodeMode = (isShow) => {\r\n        OvenPlayerConsole.log(\"API : setTimecodeMode()\", isShow);\r\n        playerConfig.setTimecodeMode(isShow);\r\n    };\r\n    that.isTimecodeMode = () => {\r\n        OvenPlayerConsole.log(\"API : isTimecodeMode()\");\r\n        return playerConfig.isTimecodeMode();\r\n    };\r\n    that.getFramerate = () => {\r\n        OvenPlayerConsole.log(\"API : getFramerate()\");\r\n\r\n        if (currentProvider) {\r\n            return currentProvider.getFramerate();\r\n        }\r\n\r\n    };\r\n    that.seekFrame = (frameCount) => {\r\n        if (!currentProvider) {\r\n            return null;\r\n        }\r\n        OvenPlayerConsole.log(\"API : seekFrame()\", frameCount);\r\n        return currentProvider.seekFrame(frameCount);\r\n    };\r\n    that.getDuration = () => {\r\n        if (!currentProvider) {\r\n            return null;\r\n        }\r\n        OvenPlayerConsole.log(\"API : getDuration()\", currentProvider.getDuration());\r\n        return currentProvider.getDuration();\r\n    };\r\n    that.getDvrWindow = () => {\r\n        if (!currentProvider) {\r\n            return null;\r\n        }\r\n        OvenPlayerConsole.log(\"API : getDvrWindow()\", currentProvider.getDvrWindow());\r\n        return currentProvider.getDvrWindow();\r\n    };\r\n    that.getPosition = () => {\r\n        if (!currentProvider) {\r\n            return null;\r\n        }\r\n\r\n        OvenPlayerConsole.log(\"API : getPosition()\", currentProvider.getPosition());\r\n        return currentProvider.getPosition();\r\n    };\r\n    that.getVolume = () => {\r\n        if (!currentProvider) {\r\n            return null;\r\n        }\r\n\r\n        OvenPlayerConsole.log(\"API : getVolume()\", currentProvider.getVolume());\r\n        return currentProvider.getVolume();\r\n    };\r\n    that.setVolume = (volume) => {\r\n        if (!currentProvider) {\r\n            return null;\r\n        }\r\n\r\n        OvenPlayerConsole.log(\"API : setVolume() \" + volume);\r\n        currentProvider.setVolume(volume);\r\n    };\r\n    that.setMute = (state) => {\r\n        if (!currentProvider) {\r\n            return null;\r\n        }\r\n\r\n        OvenPlayerConsole.log(\"API : setMute() \" + state);\r\n        return currentProvider.setMute(state);\r\n    };\r\n    that.getMute = () => {\r\n        if (!currentProvider) {\r\n            return null;\r\n        }\r\n\r\n        OvenPlayerConsole.log(\"API : getMute() \" + currentProvider.getMute());\r\n        return currentProvider.getMute();\r\n    };\r\n    that.load = (playlist) => {\r\n        OvenPlayerConsole.log(\"API : load() \", playlist);\r\n\r\n        if (playlist) {\r\n\r\n            playerConfig.setSourceIndex(0);\r\n\r\n            if (currentProvider) {\r\n\r\n                if (currentProvider.getQualityLevels().length > 0) {\r\n                    currentProvider.setCurrentQuality(0);\r\n                }\r\n            }\r\n\r\n            if ('sources' in playlist) {\r\n                playerConfig.setPlaylist(playlist);\r\n            } else {\r\n                playerConfig.setPlaylist({\r\n                    sources: playlist\r\n                });\r\n            }\r\n\r\n            playlistManager.initPlaylist(playerConfig.getPlaylist(), playerConfig);\r\n        }\r\n        return initProvider();\r\n\r\n    };\r\n    that.play = () => {\r\n        if (!currentProvider) {\r\n            return null;\r\n        }\r\n        OvenPlayerConsole.log(\"API : play() \");\r\n\r\n        if (!currentProvider.metaLoaded() && !playerConfig.isAutoStart()) {\r\n            that.once(CONTENT_META, function () {\r\n                currentProvider.play();\r\n            });\r\n        } else {\r\n            currentProvider.play();\r\n        }\r\n    };\r\n    that.pause = () => {\r\n        if (!currentProvider) {\r\n            return null;\r\n        }\r\n\r\n        OvenPlayerConsole.log(\"API : pause() \");\r\n        currentProvider.pause();\r\n    };\r\n    that.seek = (position) => {\r\n        if (!currentProvider) {\r\n            return null;\r\n        }\r\n\r\n        OvenPlayerConsole.log(\"API : seek() \" + position);\r\n        currentProvider.seek(position);\r\n    };\r\n    that.setPlaybackRate = (playbackRate) => {\r\n        if (!currentProvider) {\r\n            return null;\r\n        }\r\n\r\n        OvenPlayerConsole.log(\"API : setPlaybackRate() \", playbackRate);\r\n        return currentProvider.setPlaybackRate(playerConfig.setPlaybackRate(playbackRate));\r\n    };\r\n    that.getPlaybackRate = () => {\r\n        if (!currentProvider) {\r\n            return null;\r\n        }\r\n\r\n        OvenPlayerConsole.log(\"API : getPlaybackRate() \", currentProvider.getPlaybackRate());\r\n        return currentProvider.getPlaybackRate();\r\n    };\r\n    that.setZoomFactor = (zoomFactor) => {\r\n        if (!currentProvider) {\r\n            return null;\r\n        }\r\n\r\n        OvenPlayerConsole.log(\"API : setZoomFactor() \", zoomFactor);\r\n        return currentProvider.setZoomFactor(playerConfig.setZoomFactor(zoomFactor));\r\n    };\r\n    that.getZoomFactor = () => {\r\n        if (!currentProvider) {\r\n            return null;\r\n        }\r\n\r\n        OvenPlayerConsole.log(\"API : getZoomFactor() \", currentProvider.getZoomFactor());\r\n        return currentProvider.getZoomFactor();\r\n    };\r\n    that.getPlaylist = () => {\r\n        OvenPlayerConsole.log(\"API : getPlaylist() \", playlistManager.getPlaylist());\r\n        return playlistManager.getPlaylist();\r\n    };\r\n    that.getCurrentPlaylist = () => {\r\n        OvenPlayerConsole.log(\"API : getCurrentPlaylist() \", playlistManager.getCurrentPlaylistIndex());\r\n        return playlistManager.getCurrentPlaylistIndex();\r\n    };\r\n    that.setCurrentPlaylist = (index) => {\r\n        OvenPlayerConsole.log(\"API : setCurrentPlaylist() \", index);\r\n        runNextPlaylist(index);\r\n    };\r\n\r\n    that.getSources = () => {\r\n        if (!currentProvider) {\r\n            return null;\r\n        }\r\n\r\n        OvenPlayerConsole.log(\"API : getSources() \", currentProvider.getSources());\r\n        return currentProvider.getSources();\r\n    };\r\n    that.getCurrentSource = () => {\r\n        if (!currentProvider) {\r\n            return null;\r\n        }\r\n\r\n        OvenPlayerConsole.log(\"API : getCurrentSource() \", currentProvider.getCurrentSource());\r\n        return currentProvider.getCurrentSource();\r\n    };\r\n    that.setCurrentSource = (index) => {\r\n\r\n        if (!currentProvider) {\r\n            return null;\r\n        }\r\n\r\n        OvenPlayerConsole.log(\"API : setCurrentSource() \", index);\r\n\r\n        let lastPlayPosition = currentProvider.getPosition();\r\n        playerConfig.setSourceIndex(index);\r\n\r\n        initProvider(lastPlayPosition).then(function () {\r\n\r\n            that.trigger(CONTENT_SOURCE_CHANGED, {\r\n                currentSource: index\r\n            });\r\n        });\r\n\r\n        return index;\r\n    };\r\n\r\n\r\n    that.getQualityLevels = () => {\r\n        if (!currentProvider) {\r\n            return null;\r\n        }\r\n\r\n        OvenPlayerConsole.log(\"API : getQualityLevels() \", currentProvider.getQualityLevels());\r\n        return currentProvider.getQualityLevels();\r\n    };\r\n    that.getCurrentQuality = () => {\r\n        if (!currentProvider) {\r\n            return null;\r\n        }\r\n\r\n        OvenPlayerConsole.log(\"API : getCurrentQuality() \", currentProvider.getCurrentQuality());\r\n        return currentProvider.getCurrentQuality();\r\n    };\r\n    that.setCurrentQuality = (qualityIndex) => {\r\n        if (!currentProvider) {\r\n            return null;\r\n        }\r\n\r\n        OvenPlayerConsole.log(\"API : setCurrentQuality() \", qualityIndex);\r\n\r\n        return currentProvider.setCurrentQuality(qualityIndex);\r\n    };\r\n\r\n    that.getAudioTracks = () => {\r\n        if (!currentProvider) {\r\n            return null;\r\n        }\r\n\r\n        OvenPlayerConsole.log(\"API : getAudioTracks() \", currentProvider.getAudioTracks());\r\n        return currentProvider.getAudioTracks();\r\n    };\r\n\r\n    that.getCurrentAudioTrack = () => {\r\n        if (!currentProvider) {\r\n            return null;\r\n        }\r\n\r\n        OvenPlayerConsole.log(\"API : getCurrentAudioTrack() \", currentProvider.getCurrentAudioTrack());\r\n        return currentProvider.getCurrentAudioTrack();\r\n    };\r\n\r\n    that.setCurrentAudioTrack = (audioTrackIndex) => {\r\n        if (!currentProvider) {\r\n            return null;\r\n        }\r\n\r\n        OvenPlayerConsole.log(\"API : setCurrentAudioTrack() \", audioTrackIndex);\r\n        return currentProvider.setCurrentAudioTrack(audioTrackIndex);\r\n    };\r\n\r\n    that.isAutoQuality = () => {\r\n        if (!currentProvider) {\r\n            return null;\r\n        }\r\n\r\n        OvenPlayerConsole.log(\"API : isAutoQuality()\");\r\n        return currentProvider.isAutoQuality();\r\n    };\r\n    that.setAutoQuality = (isAuto) => {\r\n        if (!currentProvider) {\r\n            return null;\r\n        }\r\n\r\n        OvenPlayerConsole.log(\"API : setAutoQuality() \", isAuto);\r\n        return currentProvider.setAutoQuality(isAuto);\r\n    };\r\n\r\n    that.getCaptionList = () => {\r\n        if (!captionManager) {\r\n            return null;\r\n        }\r\n        OvenPlayerConsole.log(\"API : getCaptionList() \", captionManager.getCaptionList());\r\n        return captionManager.getCaptionList();\r\n    };\r\n    that.getCurrentCaption = () => {\r\n        if (!captionManager) {\r\n            return null;\r\n        }\r\n        OvenPlayerConsole.log(\"API : getCurrentCaption() \", captionManager.getCurrentCaption());\r\n        return captionManager.getCurrentCaption();\r\n    };\r\n    that.setCurrentCaption = (index) => {\r\n        if (!captionManager) {\r\n            return null;\r\n        }\r\n        OvenPlayerConsole.log(\"API : setCurrentCaption() \", index);\r\n        captionManager.setCurrentCaption(index);\r\n    };\r\n    that.addCaption = (track) => {\r\n        if (!captionManager) {\r\n            return null;\r\n        }\r\n        OvenPlayerConsole.log(\"API : addCaption() \")\r\n        return captionManager.addCaption(track);\r\n    };\r\n    that.removeCaption = (index) => {\r\n        if (!captionManager) {\r\n            return null;\r\n        }\r\n        OvenPlayerConsole.log(\"API : removeCaption() \", index)\r\n        return captionManager.removeCaption(index);\r\n    };\r\n\r\n    that.getBuffer = () => {\r\n        if (!currentProvider) {\r\n            return null;\r\n        }\r\n        OvenPlayerConsole.log(\"API : getBuffer() \", currentProvider.getBuffer());\r\n        currentProvider.getBuffer();\r\n    };\r\n    that.getState = () => {\r\n        if (!currentProvider) {\r\n            return null;\r\n        }\r\n        OvenPlayerConsole.log(\"API : getState() \", currentProvider.getState());\r\n        return currentProvider.getState();\r\n    };\r\n    that.stop = () => {\r\n        if (!currentProvider) {\r\n            return null;\r\n        }\r\n\r\n        OvenPlayerConsole.log(\"API : stop() \");\r\n        currentProvider.stop();\r\n    };\r\n    that.remove = () => {\r\n\r\n        OvenPlayerConsole.log(\"API : remove() \");\r\n\r\n        if (captionManager) {\r\n            captionManager.destroy();\r\n            captionManager = null;\r\n        }\r\n\r\n        if (currentProvider) {\r\n            currentProvider.destroy();\r\n            currentProvider = null;\r\n        }\r\n\r\n        if (mediaManager) {\r\n            mediaManager.destroy();\r\n            mediaManager = null;\r\n        }\r\n\r\n        that.trigger(DESTROY);\r\n        that.off();\r\n\r\n        providerController = null;\r\n        playlistManager = null;\r\n        playerConfig = null;\r\n\r\n        OvenPlayerConsole.log(\"API : remove() - currentProvider, providerController, playlistManager, playerConfig, api event destroed. \");\r\n        OvenPlayerSDK.removePlayer(that);\r\n\r\n    };\r\n\r\n    that.getMediaElement = () => {\r\n\r\n        return currentProvider.getMediaElement();\r\n    };\r\n\r\n    that.getVersion = () => {\r\n        return version;\r\n    };\r\n\r\n    return that;\r\n};\r\n\r\n\r\nexport default Api;\r\n\r\n\r\n","import API from 'api/Api';\r\nimport {checkAndGetContainerElement, isWebRTC} from 'utils/validator';\r\nimport _ from \"underscore\";\r\n\r\n/**\r\n * Main OvenPlayerSDK object\r\n */\r\nfunction ovenPlayerFactory() {\r\n\r\n    const OvenPlayerSDK = {};\r\n\r\n    const playerList = OvenPlayerSDK.playerList = [];\r\n\r\n    /**\r\n     * Create player instance and return it.\r\n     *\r\n     * @param      {string | dom element} container  Id of container element or container element\r\n     * @param      {object} options  The options\r\n     */\r\n    OvenPlayerSDK.create = function (container, options) {\r\n\r\n        if (!window.OvenPlayerConsole || Object.keys(window.OvenPlayerConsole).length === 0) {\r\n            window.OvenPlayerConsole = {};\r\n            OvenPlayerConsole['log'] = function () {\r\n            };\r\n        }\r\n\r\n        let containerElement = checkAndGetContainerElement(container);\r\n\r\n        const playerInstance = API(containerElement);\r\n        playerInstance.init(options);\r\n\r\n        playerList.push(playerInstance);\r\n\r\n        return playerInstance;\r\n    };\r\n\r\n    /**\r\n     * Gets the player instance list.\r\n     *\r\n     * @return     {array}  The player list.\r\n     */\r\n    OvenPlayerSDK.getPlayerList = function () {\r\n\r\n        return playerList;\r\n    };\r\n\r\n    /**\r\n     * Gets the player instance by container id.\r\n     *\r\n     * @param      {string}  containerId  The container identifier\r\n     * @return     {obeject | null}  The player instance.\r\n     */\r\n    OvenPlayerSDK.getPlayerByContainerId = function (containerId) {\r\n\r\n        for (let i = 0; i < playerList.length; i++) {\r\n\r\n            if (playerList[i].getContainerId() === containerId) {\r\n\r\n                return playerList[i];\r\n            }\r\n        }\r\n\r\n        return null;\r\n    };\r\n\r\n    /**\r\n     * Gets the player instance by index.\r\n     *\r\n     * @param      {number}  index   The index\r\n     * @return     {object | null}  The player instance.\r\n     */\r\n    OvenPlayerSDK.getPlayerByIndex = function (index) {\r\n\r\n        const playerInstance = playerList[index];\r\n\r\n        if (playerInstance) {\r\n\r\n            return playerInstance;\r\n        } else {\r\n\r\n            return null;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Remove the player instance by playerInstance.\r\n     *\r\n     * @param      {playerInstance}  playerInstance\r\n     * @return     {null}\r\n     */\r\n    OvenPlayerSDK.removePlayer = function (playerInstance) {\r\n\r\n        for (let i = 0; i < playerList.length; i++) {\r\n\r\n            if (playerList[i] === playerInstance) {\r\n                playerList.splice(i, 1);\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Generate webrtc source for player source type.\r\n     *\r\n     * @param      {Object | Array}  source   webrtc source\r\n     * @return     {Array}  Player source Object.\r\n     */\r\n    OvenPlayerSDK.generateWebrtcUrls = function (sources) {\r\n        return (_.isArray(sources) ? sources : [sources]).map(function (source, index) {\r\n            if (source.host && isWebRTC(source.host) && source.application && source.stream) {\r\n                return {\r\n                    file: source.host + \"/\" + source.application + \"/\" + source.stream,\r\n                    type: \"webrtc\",\r\n                    label: source.label ? source.label : \"webrtc-\" + (index + 1)\r\n                };\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Whether show the player core log or not.\r\n     *\r\n     * @param      {boolean}  boolean   run debug mode or not.\r\n     * @return     {boolean}  run debug mode or not.\r\n     */\r\n    OvenPlayerSDK.debug = function (isDebugMode) {\r\n\r\n        if (isDebugMode) {\r\n            window.OvenPlayerConsole = {log: window['console']['log']};\r\n        } else {\r\n            window.OvenPlayerConsole = {\r\n                log: function () {\r\n                }\r\n            };\r\n        }\r\n        return isDebugMode;\r\n    };\r\n\r\n    return OvenPlayerSDK;\r\n}\r\n\r\n\r\nexport default ovenPlayerFactory();\r\n","/**\r\n * Created by hoho on 2018. 7. 19..\r\n */\r\n\r\nconst TextViewTemplate = function(text){\r\n    return `<div class=\"textView\" style=\"padding : 5px; background: red; position : absolute; top: 0;\">` +\r\n                `<h3>${text}</h3>` +\r\n                `<button type=\"button\" class=\"btn\">button</button>` +\r\n            `</div>`;\r\n};\r\n\r\nexport default TextViewTemplate;","/**\r\n * Created by hoho on 2018. 7. 20..\r\n */\r\n\r\nconst ViewTemplate = function (uiText, id) {\r\n    return `<div class=\"ovenplayer op-wrapper\" tabindex=\"-1\" ${id ? `id = \"${id}\"` : ``}>` +\r\n            `<div class=\"op-ratio\"></div>` +\r\n            `<div class=\"op-player op-clear\">` +\r\n                `<div class=\"op-core-ui-wrapper op-clear\">` +\r\n                `<div class=\"op-media-element-container op-clear\"></div>` +\r\n                `<div class=\"op-ui op-clear\"></div>` +\r\n            `</div>` +\r\n            `</div>` +\r\n        `</div>`\r\n};\r\nexport default ViewTemplate;\r\n","/**\r\n * Created by hoho on 2018. 7. 19..\r\n */\r\n\r\nconst HelpersTemplate = function(uiText, text){\r\n    return `<div class=\"op-helpers-container\"></div>`;\r\n};\r\n\r\nexport default HelpersTemplate;\r\n","import {STATE_COMPLETE, STATE_IDLE, STATE_PAUSED, STATE_PLAYING} from \"api/constants\";\r\n\r\n\r\nexport default (uiText, playerState) => {\r\n    return (`<div class=\"op-bigbutton-container \">` +\r\n            `${playerState === STATE_PLAYING ?`<i class=\"op-con op-pause-big\"></i>` :`` }`+\r\n            `${playerState === STATE_PAUSED ?`<i class=\"op-bigbutton op-con op-play-big\"></i>` :`` }`+\r\n            `${playerState === STATE_IDLE ?`<i class=\"op-bigbutton op-con op-play-big\"></i>` :`` }`+\r\n            `${playerState === STATE_COMPLETE ?`<i class=\"op-bigbutton op-con op-replay-big\"></i>` :`` }`+\r\n        `</div>`);\r\n};\r\n","export default (uiText, data) => {\r\n    return (`<div class=\"op-thumbnail-container\"><div class=\"op-thumbnail-wrapper\">`+\r\n        `${data.title ? `<div class=\"op-thumbnail-header\">${data.title}</div>`:``}` +\r\n    `</div></div>`);\r\n};","export default (uiText, data) => {\r\n    return (`<div class=\"op-watermark-container\">` +\r\n                `<div class=\"op-watermark\">`+\r\n                    `${data.waterMark.image ? `<img src=\"${data.waterMark.image}\">`:``}` +\r\n                    `${data.waterMark.text ? `<span class=\"op-watermark-text\">${data.waterMark.text}</span>`:``}` +\r\n                `</div>` +\r\n            `</div>`);\r\n};","export default (uiText, data) => {\r\n    return (\r\n        `<div class=\"op-message-box op-clear ${data.dontClose === true ? \"op-message-box-default-cursor\" : \"\"}\">` +\r\n            `<div class=\"op-message-container \">` +\r\n                `<div class=\"op-message-text\">${data.message}` +\r\n                 `${data.description ? `<div class=\"op-message-description\">${data.description}</div>` : `` }`+\r\n                `</div>` +\r\n                `${data.iconClass ? `<div class=\"op-message-icon\"><i class=\"op-con ${data.iconClass}\"></i></div>` : `` }`+\r\n            `</div>` +\r\n        `</div>`\r\n    );\r\n};","export default (uiText) => {\r\n    return `<div class=\"op-spinner-container\"><div class=\"op-spinner\"></div></div>`;\r\n};\r\n","import {version} from \"@/version\";\r\n\r\nexport default (uiText) => {\r\n    return (\r\n        `<div class=\"op-context-panel animated fadeIn\">` +\r\n            `<div class=\"op-context-item\" tabindex=\"1\">` +\r\n                `<span class=\"op-context-item-text\">${uiText.context} ${version}</span>` +\r\n            `</div>`+\r\n        `</div>`\r\n    );\r\n};\r\n","/**\r\n * Created by hoho on 22/11/2018.\r\n */\r\nexport default (uiText) => {\r\n    return (\r\n        `<div class=\"op-caption-viewer\">` +\r\n        `    <div class=\"op-caption-text-container\">` +\r\n        `        <pre class=\"op-caption-text\"></pre>` +\r\n        `      </div>` +\r\n        `</div>`\r\n    );\r\n};","\r\nconst Controls = function(uiText, hasPlaylist){\r\n    return (\r\n        `<div class=\"op-controls-container op-clear\">`+\r\n            `<div class=\"op-bottom-panel op-clear\">` +\r\n                `<div class=\"op-gradient-bottom op-clear\"></div>` +\r\n                `<div class=\"op-controls op-clear\">` +\r\n                    `<div class=\"op-left-controls op-clear\"></div>` +\r\n                    `<div class=\"op-right-controls op-clear\">`+\r\n                        `<div class=\"playlist-holder op-navigators op-clear\">${hasPlaylist?`<button class=\"op-button op-playlist-button\"><i class=\"op-con op-playlist-icon\"></i></button>`:``}</div>`+\r\n                        `<div class=\"setting-holder op-navigators op-clear\"></div>`+\r\n                        `<div class=\"fullscreen-holder op-navigators op-clear\"></div>`+\r\n                    `</div>` +\r\n                `</div>` +\r\n                `<div class=\"op-progressbar-container op-clear\"></div>` +\r\n            `</div>` +\r\n        `</div>`);\r\n\r\n};\r\n\r\n\r\nexport default Controls;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","/**\r\n * Created by hoho on 2018. 7. 20..\r\n */\r\nexport default (uiText) => {\r\n    return (\r\n        `<div class=\"op-navigators op-volume-controller\">`+\r\n            `<button class=\"op-button op-volume-button\">` +\r\n                `<i class=\"op-con op-volume-max\"></i>` +\r\n                `<i class=\"op-con op-volume-small\"></i>` +\r\n                `<i class=\"op-con op-volume-mute\"></i>` +\r\n            `</button>` +\r\n            `<div class=\"op-volume-slider-container\">` +\r\n                `<div class=\"op-volume-silder\">` +\r\n                    `<div class=\"op-volume-slider-bg\"></div>` +\r\n                    `<div class=\"op-volume-slider-value\"></div>` +\r\n                    `<div class=\"op-volume-slider-handle\"></div>` +\r\n                `</div>`+\r\n            `</div>` +\r\n        `</div>`\r\n    );\r\n};\r\n","export default (uiText) => {\r\n    return (\r\n        `<div class=\"op-progressbar\" tabindex=\"0\">` +\r\n            `<div class=\"op-progressbar-padding\"></div>` +\r\n            `<div class=\"op-progress-list\">` +\r\n                `<div class=\"op-load-progress\"></div>` +\r\n                `<div class=\"op-play-progress op-play-background-color\"></div>` +\r\n                `<div class=\"op-hover-progress\"></div>` +\r\n            `</div>` +\r\n            `<div class=\"op-progressbar-knob-container\">` +\r\n                `<div class=\"op-progressbar-knob op-play-background-color\"></div>` +\r\n            `</div>` +\r\n            `<span class=\"op-progressbar-preview\"></span>` +\r\n            `<span class=\"op-progressbar-time\">00:00</span>` +\r\n        `</div>`\r\n    );\r\n};\r\n","export default (uiText) => {\r\n    return (\r\n        `<div class=\"op-navigators op-play-controller\">` +\r\n            `<button class=\"op-button op-play-button\" type=\"button\">` +\r\n                `<i class=\"op-con op-play\"></i>` +\r\n                `<i class=\"op-con op-pause\" style=\"display: none;\"></i>` +\r\n                `<i class=\"op-con op-replay\" style=\"display: none;\"></i>` +\r\n            `</button>` +\r\n            `<button class=\"op-button op-seek-button op-seek-button-back\" type=\"button\">` +\r\n                `<i class=\"op-con op-seek-back\"></i>` +\r\n                `<span class=\"op-seek-back-text\">10</span>` +\r\n            `</button>` +\r\n            `<button class=\"op-button op-seek-button op-seek-button-forward\" type=\"button\">` +\r\n                `<i class=\"op-con op-seek-forward\"></i>` +\r\n                `<span class=\"op-seek-forward-text\">10</span>` +\r\n            `</button>` +\r\n        `</div>`\r\n    );\r\n};\r\n","export default (uiText) => {\r\n    return (`<button class=\"op-button op-setting-button\"><i class=\"op-con op-setting\"></i></button>`);\r\n};","export default (uiText) => {\r\n    return (\r\n        '<div class=\"op-frame-buttons\">'+\r\n            '<button class=\"op-button op-frame-button\" op-data-value=\"-5\"><div class=\"frame-icon\"><span class=\"btn-text\">-5f</span></div></button>'+\r\n            '<button class=\"op-button op-frame-button\" op-data-value=\"-1\"><div class=\"frame-icon\"><span class=\"btn-text\">-1f</span></div></button>'+\r\n            '<button class=\"op-button op-frame-button\" op-data-value=\"+1\"><div class=\"frame-icon reverse\"><span class=\"btn-text\">+1f</span></div></button>'+\r\n            '<button class=\"op-button op-frame-button\" op-data-value=\"+5\"><div class=\"frame-icon reverse\"><span class=\"btn-text\">+5f</span></div></button>'+\r\n        '</div>'\r\n    );\r\n};","export default (uiText, data) => {\r\n    return`<div class=\"op-navigators op-time-display\">`+\r\n            (data.duration === Infinity\r\n                ?\r\n                (\r\n                    `<span class=\"op-live-badge\" disabled=\"disabled\">` +\r\n                        (data.type ===\"webrtc\"\r\n                        ?\r\n                            (data.isP2P ?\r\n                                    `<span class=\"op-live-badge-lowlatency\">${uiText.controls.low_latency_p2p}</span>` : `<span class=\"op-live-badge-lowlatency\">${uiText.controls.low_latency_live}</span>`\r\n                            )\r\n                        :\r\n                        `<span class=\"op-live-text\" title=\"Skip ahead to live.\">${uiText.controls.live}</span>`) +\r\n                    `</span>`\r\n                )\r\n                :(`<span class=\"op-time-current\">00:00</span><span class=\"op-time-separator\"> / </span><span class=\"op-time-duration\">00:00</span>`)\r\n            ) +\r\n        `</div>`;\r\n};\r\n","export default (uiText) => {\r\n    return (\r\n        `<button class=\"op-button op-fullscreen-button\">`+\r\n        `<i class=\"op-con op-fullscreen-expand\"></i>` +\r\n        `<i class=\"op-con op-fullscreen-compress\"></i>` +\r\n        `</button>`\r\n    );\r\n};\r\n","import _ from \"underscore\";\r\n\r\nexport default (uiText, data) => {\r\n    let elements = '<div id=\"'+data.id+'\" class=\"op-setting-panel '+(data.isRoot ? 'animated fadeIn': '')+'\" style=\"max-height: '+data.height+'px\">' +\r\n                        '<div class=\"op-setting-title-container\">' +\r\n                            '<div class=\"op-setting-title\" tabindex=\"0\">' +\r\n                                (data.isRoot ? '' : '<span class=\"op-setting-title-previcon\">&lt;</span>') +\r\n                                '<span class=\"op-setting-title-title\">'+data.title+'</span>' +\r\n                            '</div>'+\r\n                        '</div>' +\r\n                        '<div class=\"op-setting-item-container\">';\r\n                            _.forEach(data.body, function(body){\r\n                                elements += settingItemTemplate(body, data.useCheck);\r\n                            });\r\n    elements+=          '</div>' +\r\n                    '</div>';\r\n    return elements;\r\n};\r\n\r\n\r\nexport const settingItemTemplate = (data, useCheck) => {\r\n    return (\r\n        '<div class=\"op-setting-item\" op-panel-type=\"'+data.panelType+'\" op-data-value=\"'+data.value+'\">' +\r\n        (useCheck?'<span class=\"op-setting-item-checked '+(data.isCheck?'op-show':'')+'\">&#x2713;</span>':'' )+\r\n        '<span class=\"op-setting-item-title\">'+data.title+'</span>' +\r\n        (data.hasNext?'<span class=\"op-setting-item-nexticon\">&gt;</span><span class=\"op-setting-item-value\">'+data.description+'</span>' : '' )+\r\n        '</div>'\r\n    );\r\n};\r\n","import {naturalHms} from \"utils/strings\"\r\n\r\nexport default (uiText, playlist) => {\r\n    return (`<div class=\"op-playlist\" tabindex=\"0\">` +\r\n                `<div class=\"op-playlist-header\">${uiText.playlist} <i class=\"op-con op-close-icon btn-close\"></i></div>` +\r\n                `<div class=\"op-playlist-body\">` +\r\n                    `<div class=\"op-playlist-body-container\">` +\r\n                        `<div class=\"op-playlist-body-center\"><div class=\"op-playlist-body-row\"></div></div>`+\r\n                    `</div>`+\r\n                    `<div class=\"op-playlist-body-arrows\">` +\r\n                        `<i class=\"op-con op-arrow-left btn-left\"></i><i class=\"op-con op-arrow-right btn-right\"></i>` +\r\n                    `</div>`+\r\n                `</div>`+\r\n            `</div>`);\r\n};\r\n\r\nexport const playlistItemTemplate = (data, isActive) => {\r\n    return (\r\n        `<div class=\"op-playlist-card ${isActive? `active`:``}\" data-index=\"${data.index}\">` +\r\n            `<div class=\"op-playlist-card-thumbnail ${data.image ? ``:`empty`}\">${data.image ? `<img src=${data.image}>`:`<i class=\"op-con op-empty-video\"></i>`} ${data.duration ? `<span class=\"op-badge\">${naturalHms(data.duration)}</span>`: ``} </div>`+\r\n            `<div class=\"op-playlist-card-title\">${data.title}</div>`+\r\n        `</div>`\r\n    );\r\n};","/**\r\n * Created by hoho on 2018. 7. 20..\r\n */\r\nimport TextViewTemplate from 'view/example/textviewTemplate';\r\nimport ViewTemplate from 'view/viewTemplate';\r\nimport HelpersTemplate from 'view/components/helpers/mainTemplate';\r\nimport BigButtonTemplate from 'view/components/helpers/bigButtonTemplate';\r\nimport ThumbnailTemplate from 'view/components/helpers/thumbnailTemplate';\r\nimport WaterMarkTemplate from 'view/components/helpers/waterMarkTemplate';\r\nimport MessageBoxTemplate from 'view/components/helpers/messageBoxTemplate';\r\nimport SpinnerTemplate from 'view/components/helpers/spinnerTemplate';\r\nimport ContextPanelTemplate from 'view/components/helpers/contextPanelTemplate';\r\nimport CaptionViewerTemplate from 'view/components/helpers/captionViewerTemplate';\r\n\r\n\r\nimport ControlsTemplate from 'view/components/controls/mainTemplate';\r\nimport VolumeButtonTemplate from 'view/components/controls/volumeButtonTemplate';\r\nimport ProgressBarTemplate from 'view/components/controls/progressBarTemplate';\r\nimport PlayButtonTemplate from 'view/components/controls/playButtonTemplate';\r\nimport SettingButtonTemplate from 'view/components/controls/settingButtonTemplate';\r\nimport FrameButtonsTemplate from 'view/components/controls/frameButtonsTemplate';\r\nimport TimeDisplayTemplate from 'view/components/controls/timeDisplayTemplate';\r\nimport FullScreenButtonTemplate from 'view/components/controls/fullScreenButtonTemplate';\r\nimport PanelsTemplate from 'view/components/controls/settingPanel/mainTemplate';\r\nimport SpeedPanelTemplate from 'view/components/controls/settingPanel/mainTemplate';\r\nimport ZoomPanelTemplate from 'view/components/controls/settingPanel/mainTemplate';\r\nimport SourcePanelTemplate from 'view/components/controls/settingPanel/mainTemplate';\r\nimport QualityPanelTemplate from 'view/components/controls/settingPanel/mainTemplate';\r\nimport AudioTrackPanelTemplate from 'view/components/controls/settingPanel/mainTemplate';\r\nimport CaptionPanelTemplate from 'view/components/controls/settingPanel/mainTemplate';\r\nimport TimeDisplayPanelTemplate from 'view/components/controls/settingPanel/mainTemplate';\r\nimport PlaylistPanelTemplate from 'view/components/controls/playlistPanelTemplate';\r\n\r\nconst Templates = {\r\n    TextViewTemplate,\r\n    ViewTemplate,\r\n    HelpersTemplate,\r\n    BigButtonTemplate,\r\n    ThumbnailTemplate,\r\n    WaterMarkTemplate,\r\n    MessageBoxTemplate,\r\n    SpinnerTemplate,\r\n    ContextPanelTemplate,\r\n    CaptionViewerTemplate,\r\n\r\n    ControlsTemplate,\r\n    VolumeButtonTemplate,\r\n    ProgressBarTemplate,\r\n    PlayButtonTemplate,\r\n    SettingButtonTemplate,\r\n    FrameButtonsTemplate,\r\n    TimeDisplayTemplate,\r\n    FullScreenButtonTemplate,\r\n    PanelsTemplate,\r\n    SpeedPanelTemplate,\r\n    ZoomPanelTemplate,\r\n    SourcePanelTemplate,\r\n    QualityPanelTemplate,\r\n    AudioTrackPanelTemplate,\r\n    CaptionPanelTemplate,\r\n    TimeDisplayPanelTemplate,\r\n    PlaylistPanelTemplate\r\n};\r\n\r\nexport default Templates;","/**\r\n * Created by hoho on 2018. 7. 19..\r\n */\r\n\r\nimport Templates from \"view/engine/Templates\";\r\nimport LA$ from 'utils/likeA$';\r\nimport _ from \"underscore\";\r\n\r\n/**\r\n * @brief   This is simple ui renderer. This returns onRendered callback, onDestroyed callback on Template. And this bind events for Templates.\r\n * @param   container  dom element or LA$ object\r\n * @param   templateName    templateName\r\n * @param   data    preload data\r\n * @param   events    Template's events.\r\n * @param   onRendered    This callback occurs after append template.\r\n * @param   onDestroyed    This callback occurs after destroyed template.\r\n * @param   isRoot\r\n *\r\n * */\r\nconst OvenTemplate = function (container, templateName, playerConfig, data, events, onRendered, onDestroyed, isRoot) {\r\n\r\n    let $container = _.isElement(container) ? LA$(container) : container;\r\n    let $template;\r\n    let viewEvents = {};\r\n    let uiText = null;\r\n    let that = {};\r\n    that.data = data;\r\n    let createAndSelectElement = function (html) {\r\n        const newElement = document.createElement('div');\r\n        newElement.innerHTML = html;\r\n\r\n        $template = LA$(newElement.firstChild);\r\n\r\n        return newElement.firstChild;\r\n    }\r\n    if(playerConfig && playerConfig.systemText){\r\n        uiText = playerConfig.systemText.ui;\r\n    }\r\n    if (isRoot) {\r\n        $container.replace(createAndSelectElement(Templates[templateName + \"Template\"](uiText, data)));\r\n    } else {\r\n        $container.append(createAndSelectElement(Templates[templateName + \"Template\"](uiText, data)));\r\n    }\r\n\r\n    if (onRendered) {\r\n        onRendered($template, that);\r\n    }\r\n\r\n    Object.keys(events).forEach(eventString => {\r\n        let explodedText = eventString.split(\" \");\r\n        let eventName = explodedText[0].replace(/ /gi, \"\");\r\n        let target = explodedText[1].replace(/ /gi, \"\");\r\n\r\n        let $target = \"\";\r\n\r\n        if(target === \"document\" || target === \"window\" || target === \"body\"){\r\n            $target = LA$(target);\r\n        }else{\r\n            $target = $template.find(target) || ($template.hasClass(target.replace(\".\",\"\")) ? $template : null);\r\n        }\r\n\r\n\r\n        if (eventName && target && $target) {\r\n            let id = Object.keys(viewEvents).length++;\r\n\r\n            //because It retuns another data.\r\n            let wrappedFunc = function (event) {\r\n                return events[eventString](event, $template, that);\r\n            };\r\n            viewEvents[id] = {name: eventName, target: target, callback: wrappedFunc};\r\n\r\n            /*$template.get().addEventListener(eventName,function(evt){\r\n                var gtarget = evt.target;\r\n                while (gtarget!= null){\r\n                    if (gtarget.isEqualNode($target.get())){\r\n                        console.log(\"isEqual\", gtarget, $target.get());\r\n                        wrappedFunc(evt);\r\n                        return;\r\n                    }\r\n                    gtarget = gtarget.parentElement;\r\n                }\r\n            }, true);*/\r\n\r\n            let eventOption = null;\r\n\r\n            if (eventName.indexOf('touch') > -1) {\r\n                eventOption = { passive: true };\r\n            }\r\n\r\n            //sometimes target is NodeList\r\n            let nodeLength = $target.get().length;\r\n\r\n            if(nodeLength > 1){\r\n                let nodeList = $target.get();\r\n                for(let i = 0; i < nodeLength; i ++){\r\n                    nodeList[i].addEventListener(eventName, wrappedFunc, eventOption);\r\n                }\r\n                //IE NodeList doesn't have forEach. It's wack.\r\n                //$target.get().forEach(function($item){\r\n                //    $item.addEventListener(eventName, wrappedFunc);\r\n                //});\r\n            }else{\r\n                $target.get().addEventListener(eventName, wrappedFunc, eventOption);\r\n            }\r\n\r\n\r\n        } else {\r\n            return false;\r\n        }\r\n    });\r\n\r\n    that.destroy = function () {\r\n        Object.keys(viewEvents).forEach(id => {\r\n            let event = viewEvents[id];\r\n            let $target = \"\";\r\n\r\n            if(event.target === \"document\" || event.target === \"window\" ||  event.target === \"body\"){\r\n                $target = LA$(event.target);\r\n            }else{\r\n                $target = $template.find(event.target) || ($template.hasClass(event.target.replace(\".\",\"\")) ? $template : null);\r\n            }\r\n\r\n            //sometimes target is NodeList\r\n            let nodeLength = $target.get().length;\r\n            if(nodeLength > 1){\r\n                let nodeList = $target.get();\r\n                for(let i = 0; i < nodeLength; i ++){\r\n                    nodeList[i].removeEventListener(event.name, event.callback);\r\n                }\r\n                /*$target.get().forEach(function($item){\r\n                    $item.removeEventListener(event.name, event.callback);\r\n                });*/\r\n            }else{\r\n                $target.get().removeEventListener(event.name, event.callback);\r\n            }\r\n\r\n            delete viewEvents[id];\r\n        });\r\n\r\n        if($template){\r\n            if(isRoot){\r\n                $template.removeChild();\r\n                $template.removeAttribute(\"class\");\r\n            }else{\r\n                $template.remove();\r\n            }\r\n        }\r\n\r\n        if (onDestroyed) {\r\n            onDestroyed(that);\r\n        }\r\n    };\r\n    return that;\r\n\r\n};\r\n\r\n\r\nexport default OvenTemplate;\r\n","/**\r\n * Created by hoho on 2018. 7. 24..\r\n */\r\nimport OvenTemplate from 'view/engine/OvenTemplate';\r\nimport {STATE_COMPLETE, STATE_ERROR, STATE_IDLE, STATE_PAUSED} from \"api/constants\";\r\n\r\nconst BigButton = function($container, api, playerState){\r\n\r\n    const onRendered = function($container, $current, template){\r\n        //Do nothing!\r\n    };\r\n    const onDestroyed = function(){\r\n        //Do nothing!\r\n    };\r\n    const events = {\r\n        \"click .op-bigbutton-container\" : function(event){\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n\r\n            const currentState = api.getState();\r\n            let playlist = api.getPlaylist();\r\n            let currentPlaylistIndex = api.getCurrentPlaylist();\r\n\r\n            if (currentState === STATE_IDLE || currentState === STATE_PAUSED) {\r\n                api.play();\r\n            } else if (currentState === STATE_ERROR) {\r\n                api.setCurrentSource(api.getCurrentSource());\r\n            } else if(currentState === STATE_COMPLETE){\r\n                if(playlist.length === (currentPlaylistIndex+1)){\r\n                    api.seek(0);\r\n                    api.play();\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    return OvenTemplate($container, \"BigButton\", api.getConfig(), playerState, events, onRendered, onDestroyed );\r\n};\r\n\r\nexport default BigButton;\r\n","/**\r\n * Created by hoho on 2018. 7. 24..\r\n */\r\nimport OvenTemplate from 'view/engine/OvenTemplate';\r\n\r\nconst MessageBox = function($container, api, message, description, withTimer, iconClass, clickCallback, dontClose){\r\n\r\n    let autoDestroyTimer = \"\";\r\n    let data = {\r\n        message : message,\r\n        description : description,\r\n        iconClass : iconClass,\r\n        dontClose: dontClose\r\n    };\r\n\r\n\r\n    const onRendered = function($current, template){\r\n        if(withTimer){\r\n            autoDestroyTimer = setTimeout(function(){\r\n                template.destroy();\r\n            }, withTimer||5000);\r\n        }\r\n    };\r\n    const onDestroyed = function(){\r\n    };\r\n    const events = {\r\n        \"click .op-message-text\" : function(event, $current, template){\r\n            //event.preventDefault();\r\n            event.stopPropagation();\r\n\r\n            if (dontClose) {\r\n                return;\r\n            }\r\n            if(autoDestroyTimer){\r\n                clearTimeout(autoDestroyTimer);\r\n            }\r\n            if(clickCallback){\r\n                clickCallback();\r\n            }\r\n            template.destroy();\r\n        },\r\n        \"click .op-con\" : function(event, $current, template){\r\n            event.preventDefault();\r\n\r\n            if (dontClose) {\r\n                return;\r\n            }\r\n\r\n            if(autoDestroyTimer){\r\n                clearTimeout(autoDestroyTimer);\r\n            }\r\n\r\n            if(clickCallback){\r\n                clickCallback();\r\n            }\r\n            template.destroy();\r\n        }\r\n    };\r\n\r\n    return OvenTemplate($container, \"MessageBox\", api.getConfig(), data, events, onRendered, onDestroyed );\r\n};\r\n\r\n\r\nexport default MessageBox;\r\n","/**\r\n * Created by hoho on 2018. 7. 24..\r\n */\r\nimport OvenTemplate from 'view/engine/OvenTemplate';\r\nimport {CONTENT_CAPTION_CHANGED, CONTENT_CAPTION_CUE_CHANGED} from \"api/constants\";\r\nimport LA$ from 'utils/likeA$';\r\n\r\n\r\nconst CaptionViewer = function($container, api, playerState){\r\n    const $root = LA$(api.getContainerElement());\r\n\r\n    const onRendered = function($container, $current, template){\r\n        let isDisable = false;\r\n        let deleteTimer = 0;\r\n\r\n        api.on(CONTENT_CAPTION_CHANGED, function(index) {\r\n            if(index > -1){\r\n                isDisable = false;\r\n            }else{\r\n                isDisable  = true;\r\n                $container.find(\".op-caption-text\").text(\"\");\r\n            }\r\n        }, template);\r\n\r\n        api.on(CONTENT_CAPTION_CUE_CHANGED, function(data) {\r\n            if(!isDisable && data && data.text){\r\n                let hideGap = data.endTime - data.startTime;\r\n\r\n                if(deleteTimer){\r\n                    clearTimeout(deleteTimer);\r\n                }\r\n\r\n                $container.find(\".op-caption-text\").html(data.text);\r\n\r\n                if(hideGap){\r\n                    deleteTimer = setTimeout(function(){\r\n                        $container.find(\".op-caption-text\").text(\"\");\r\n                    },hideGap * 1000);\r\n                }\r\n\r\n            }\r\n\r\n        }, template);\r\n\r\n\r\n    };\r\n    const onDestroyed = function(template){\r\n        $container.find(\".op-caption-text\").text(\"\");\r\n        api.off(CONTENT_CAPTION_CHANGED, null, template);\r\n        api.off(CONTENT_CAPTION_CUE_CHANGED, null, template);\r\n    };\r\n    const events = {\r\n    };\r\n\r\n    return OvenTemplate($container, \"CaptionViewer\", api.getConfig(), playerState, events, onRendered, onDestroyed );\r\n};\r\n\r\nexport default CaptionViewer;\r\n","/**\r\n * Created by hoho on 2018. 7. 24..\r\n */\r\nimport OvenTemplate from 'view/engine/OvenTemplate';\r\n\r\nconst Thumbnail = function ($container, api, playerState) {\r\n\r\n    const onRendered = function ($current, template) {\r\n\r\n    };\r\n    const onDestroyed = function () {\r\n        //Do nothing!\r\n    };\r\n    const events = {};\r\n\r\n    return OvenTemplate($container, \"Thumbnail\", api.getConfig(), playerState, events, onRendered, onDestroyed);\r\n};\r\n\r\nexport default Thumbnail;\r\n","/**\r\n * Created by Sangwon Oh on 2020. 11. 10..\r\n */\r\nimport OvenTemplate from 'view/engine/OvenTemplate';\r\nimport _ from 'underscore';\r\n\r\nconst WaterMark = function($container, api, playerState){\r\n\r\n    let waterMark = null;\r\n    let textElem = null;\r\n    const defaultPosition = 'top-right';\r\n    const defaultX = '2.8125%';\r\n    const defaultY = '5%';\r\n    const defaultWidth = 'auto';\r\n    const defaultHeight = 'auto';\r\n    const defaultOpacity = 0.7;\r\n\r\n    const onRendered = function($current, template){\r\n\r\n        waterMark = $current.find('.op-watermark');\r\n        textElem = $current.find('.op-watermark-text');\r\n\r\n        let waterMarkOption = api.getConfig().waterMark;\r\n\r\n        let position = waterMarkOption.position || defaultPosition;\r\n\r\n        let y = waterMarkOption.y || defaultY;\r\n        let x = waterMarkOption.x || defaultX;\r\n\r\n        waterMark.css(position.split('-')[0], y);\r\n        waterMark.css(position.split('-')[1], x);\r\n\r\n        let width = waterMarkOption.width || defaultWidth;\r\n        let height = waterMarkOption.height || defaultHeight;\r\n\r\n        waterMark.css('width', width);\r\n        waterMark.css('height', height);\r\n\r\n        let opacity = waterMarkOption.opacity || defaultOpacity;\r\n        waterMark.css('opacity', opacity);\r\n\r\n        if (waterMarkOption.text) {\r\n\r\n            if (waterMarkOption.font) {\r\n\r\n                _.each(waterMarkOption.font, function (value, key) {\r\n                    textElem.css(key, value);\r\n                })\r\n            }\r\n        }\r\n\r\n    };\r\n    const onDestroyed = function(){\r\n        //Do nothing!\r\n    };\r\n    const events = {\r\n\r\n    };\r\n\r\n    return OvenTemplate($container, \"WaterMark\", api.getConfig(), playerState, events, onRendered, onDestroyed );\r\n};\r\n\r\nexport default WaterMark;\r\n","/**\r\n * Created by hoho on 2018. 7. 25..\r\n */\r\nimport OvenTemplate from 'view/engine/OvenTemplate';\r\n\r\nconst Spinner = function($container, api){\r\n    let $spinner = \"\";\r\n\r\n    const onRendered = function($current, template){\r\n        $spinner = $current;\r\n    };\r\n    const onDestroyed = function(){\r\n        //Do nothing.\r\n    };\r\n    const events = {};\r\n\r\n    return Object.assign(OvenTemplate($container, \"Spinner\", api.getConfig(), null, events, onRendered, onDestroyed ), {\r\n        show: function (isShow) {\r\n            if(isShow){\r\n                $spinner.show();\r\n            }else{\r\n                $spinner.hide();\r\n            }\r\n        }\r\n    });\r\n};\r\n\r\n\r\nexport default Spinner;","/**\r\n * Created by hoho on 2018. 7. 24..\r\n */\r\nimport OvenTemplate from \"view/engine/OvenTemplate\";\r\nimport BigButton from \"view/components/helpers/bigButton\";\r\nimport MessageBox from \"view/components/helpers/messageBox\";\r\nimport CaptionViewer from \"view/components/helpers/captionViewer\";\r\nimport Thumbnail from \"view/components/helpers/thumbnail\";\r\nimport WaterMark from \"view/components/helpers/waterMark\";\r\nimport Spinner from \"view/components/helpers/spinner\";\r\nimport {\r\n  ALL_PLAYLIST_ENDED,\r\n  CONTENT_LEVEL_CHANGED,\r\n  CONTENT_MUTE,\r\n  CONTENT_SOURCE_CHANGED,\r\n  ERROR,\r\n  NETWORK_UNSTABLED,\r\n  PLAYER_STATE,\r\n  PLAYER_WARNING,\r\n  PLAYLIST_CHANGED,\r\n  READY,\r\n  STATE_AD_LOADING,\r\n  STATE_AD_PLAYING,\r\n  STATE_COMPLETE,\r\n  STATE_IDLE,\r\n  STATE_LOADING,\r\n  STATE_PAUSED,\r\n  STATE_PLAYING,\r\n  UI_ICONS\r\n} from \"api/constants\";\r\n\r\nconst Helpers = function ($container, api) {\r\n  let firstRun = false;\r\n  let bigButton = \"\", messageBox = \"\", captionViewer = \"\", spinner = \"\", thumbnail, waterMark;\r\n  let mutedMessage = null;\r\n  let hasThumbnail = api.getConfig().image || api.getConfig().title;\r\n  let hasWaterMark = api.getConfig().waterMark && api.getConfig().waterMark.image ||\r\n    api.getConfig().waterMark && api.getConfig().waterMark.text;\r\n  let dont_show_message = false;\r\n\r\n  const onRendered = function ($current, template) {\r\n    let qualityLevelChanging = false, newQualityLevel = -1;\r\n    function createBigButton(state) {\r\n\r\n      if (!api.getConfig().showBigPlayButton) {\r\n        return;\r\n      }\r\n\r\n      if (api.getState() === STATE_IDLE || api.getState() === STATE_COMPLETE) {\r\n\r\n        if (messageBox) {\r\n          messageBox.destroy();\r\n        }\r\n\r\n        if (bigButton) {\r\n          bigButton.destroy();\r\n        }\r\n\r\n        bigButton = BigButton($current, api, state);\r\n      }\r\n    }\r\n    function createMessage(message, description, withTimer, iconClass, clickCallback, dontClose) {\r\n\r\n      if (bigButton) {\r\n        bigButton.destroy();\r\n      }\r\n\r\n      if (messageBox) {\r\n        messageBox.destroy();\r\n      }\r\n\r\n      messageBox = MessageBox($current, api, message, description, withTimer, iconClass, clickCallback, dontClose);\r\n    }\r\n    function createThumbnail() {\r\n\r\n      const mediaElement = api.getMediaElement();\r\n\r\n      if (mediaElement) {\r\n        mediaElement.poster = ''\r\n      }\r\n\r\n      if (api.getConfig().image) {\r\n        mediaElement.poster = api.getConfig().image;\r\n      }\r\n\r\n\r\n      if (thumbnail) {\r\n        thumbnail.destroy();\r\n      }\r\n\r\n      thumbnail = Thumbnail($current, api, api.getConfig());\r\n    }\r\n    function createWaterMark() {\r\n\r\n      if (waterMark) {\r\n        waterMark.destroy();\r\n      }\r\n\r\n      waterMark = WaterMark($current, api, api.getConfig());\r\n    }\r\n\r\n    spinner = Spinner($current, api);\r\n\r\n    /*if(api.getCaptionList() && api.getCaptionList().length > 0){\r\n        captionViewer = CaptionViewer($current, api);\r\n    }*/\r\n\r\n    captionViewer = CaptionViewer($current, api);\r\n\r\n    api.on(READY, function () {\r\n      if (hasThumbnail) {\r\n        createThumbnail();  //shows when playlist changed.\r\n      }\r\n      if (hasWaterMark) {\r\n        createWaterMark();\r\n      }\r\n\r\n      if (!firstRun) {\r\n\r\n        createBigButton(STATE_PAUSED);\r\n        firstRun = true;\r\n      }\r\n\r\n    }, template);\r\n\r\n    //So far warning muted play is all!!\r\n    api.on(PLAYER_WARNING, function (data) {\r\n      if (data.message) {\r\n\r\n        if (bigButton) {\r\n          bigButton.destroy();\r\n        }\r\n\r\n        if (messageBox) {\r\n          messageBox.destroy();\r\n        }\r\n        mutedMessage = MessageBox($current, api, data.message, null, data.timer, data.iconClass, data.onClickCallback, false);\r\n\r\n        //When the volume is turned on by an external something.\r\n        api.once(CONTENT_MUTE, function (data) {\r\n          if (!data.mute && mutedMessage) {\r\n            mutedMessage.destroy();\r\n          }\r\n        }, template);\r\n      }\r\n    }, template);\r\n\r\n    api.on(PLAYER_STATE, function (data) {\r\n      if (data && data.newstate) {\r\n\r\n        if (data.newstate === STATE_IDLE) {\r\n          if (messageBox) {\r\n            messageBox.destroy();\r\n          }\r\n        }\r\n\r\n        if (data.newstate === STATE_PLAYING || data.newstate === STATE_AD_PLAYING) {\r\n\r\n          dont_show_message = false;\r\n\r\n          if (messageBox) {\r\n            messageBox.destroy();\r\n          }\r\n          if (bigButton) {\r\n            bigButton.destroy();\r\n          }\r\n          if (thumbnail) {\r\n            thumbnail.destroy();\r\n          }\r\n\r\n          if (!qualityLevelChanging) {\r\n            spinner.show(false);\r\n          }\r\n        } else if (data.newstate === STATE_COMPLETE) {\r\n\r\n          spinner.show(false);\r\n          createBigButton(data.newstate);\r\n        } else {\r\n\r\n          if (data.newstate === STATE_LOADING || data.newstate === STATE_AD_LOADING) {\r\n\r\n            dont_show_message = false;\r\n            if (messageBox) {\r\n              messageBox.destroy();\r\n            }\r\n            if (bigButton) {\r\n              bigButton.destroy();\r\n            }\r\n            spinner.show(true);\r\n          } else {\r\n            if (!qualityLevelChanging) {\r\n              spinner.show(false);\r\n            }\r\n          }\r\n        }\r\n\r\n      }\r\n    }, template);\r\n\r\n    api.on(CONTENT_SOURCE_CHANGED, function () {\r\n\r\n      if (hasThumbnail) {\r\n        createThumbnail();  //shows when playlist changed.\r\n      }\r\n    });\r\n\r\n    //show spinner cuz dashjs spends long time for level change.\r\n    api.on(CONTENT_LEVEL_CHANGED, function (data) {\r\n      if (data.currentQuality < 0) {\r\n        return false;\r\n      }\r\n      if (data.isAuto) {\r\n        qualityLevelChanging = false;\r\n        spinner.show(false);\r\n      } else {\r\n        if (data.type === \"request\") {\r\n          newQualityLevel = data.currentQuality;\r\n          qualityLevelChanging = true;\r\n          spinner.show(true);\r\n        } else if (data.type === \"render\" && newQualityLevel === data.currentQuality) {\r\n          qualityLevelChanging = false;\r\n          spinner.show(false);\r\n          //createMessage(\"quality changed.\", 3000);\r\n        }\r\n      }\r\n\r\n    }, template);\r\n    api.on(ERROR, function (error) {\r\n\r\n      if (error.code === 510) {\r\n        dont_show_message = true;\r\n      }\r\n\r\n      if (error.code === 101 && api.getPlaylist().length === 0) {\r\n        dont_show_message = true;\r\n      }\r\n\r\n      if (dont_show_message) {\r\n        return;\r\n      }\r\n\r\n      let message = \"\", description = \"\";\r\n\r\n      if (bigButton) {\r\n        bigButton.destroy();\r\n      }\r\n\r\n      if (error && error.code && error.code >= 100 && error.code < 1000) {\r\n        message = error.message;\r\n        if (error.code === 100) {\r\n          description = error.error.toString();\r\n        }\r\n      } else {\r\n        message = \"Can not play due to unknown reasons.\";\r\n      }\r\n      OvenPlayerConsole.log(\"error occured : \", error);\r\n\r\n      createMessage(message, description, null, UI_ICONS.op_warning + \" code-\" + error.code, null, true);\r\n    }, template);\r\n\r\n\r\n    api.on(NETWORK_UNSTABLED, function (event) {\r\n      let message = \"Because the network connection is unstable, the following media source will be played.\";\r\n\r\n      if (api.getCurrentSource() + 1 === api.getQualityLevels().length) {\r\n        message = \"Network connection is unstable. Check the network connection.\";\r\n      }\r\n\r\n      OvenPlayerConsole.log(message);\r\n      //createMessage(message, null,5000);\r\n    }, template);\r\n\r\n    api.on(ALL_PLAYLIST_ENDED, function () {\r\n      if (hasThumbnail) {\r\n        createThumbnail();\r\n      }\r\n    }, template);\r\n  };\r\n  const onDestroyed = function (template) {\r\n    api.off(READY, null, template);\r\n    api.off(PLAYER_STATE, null, template);\r\n    api.off(PLAYER_WARNING, null, template);\r\n    api.off(ERROR, null, template);\r\n    api.off(NETWORK_UNSTABLED, null, template);\r\n    api.off(ALL_PLAYLIST_ENDED, null, template);\r\n    api.off(PLAYLIST_CHANGED, null, template);\r\n  };\r\n  const events = {\r\n\r\n  };\r\n\r\n  return OvenTemplate($container, \"Helpers\", api.getConfig(), null, events, onRendered, onDestroyed);\r\n};\r\n\r\nexport default Helpers;\r\n","/**\r\n * Created by hoho on 2018. 7. 24..\r\n */\r\nimport OvenTemplate from \"view/engine/OvenTemplate\";\r\nimport {\r\n  PLAYER_STATE,\r\n  STATE_AD_PAUSED,\r\n  STATE_AD_PLAYING,\r\n  STATE_COMPLETE,\r\n  STATE_ERROR,\r\n  STATE_IDLE,\r\n  STATE_LOADING,\r\n  STATE_PAUSED,\r\n  STATE_PLAYING,\r\n  STATE_STALLED,\r\n} from \"api/constants\";\r\n\r\nconst PlayButton = function ($container, api) {\r\n    let $iconPlay = \"\",\r\n        $iconPause = \"\",\r\n        $iconReplay = \"\",\r\n        $buttonBack = \"\",\r\n        $buttonForward = \"\",\r\n        $textBack = \"\",\r\n        $textForward = \"\";\r\n\r\n\r\n\r\n    function setButtonState(state){\r\n        $iconPlay.hide();\r\n        $iconPause.hide();\r\n        $iconReplay.hide();\r\n        if(state === STATE_PLAYING || state === STATE_AD_PLAYING || state === STATE_LOADING || state === STATE_STALLED){\r\n            $iconPause.show();\r\n        }else if(state === STATE_PAUSED || state === STATE_AD_PAUSED){\r\n            $iconPlay.show();\r\n        }else if(state === STATE_COMPLETE){\r\n            $iconReplay.show();\r\n        }else{\r\n            $iconPlay.show();\r\n        }\r\n    };\r\n\r\n\r\n\r\n    const onRendered = function($current, template){\r\n        $iconPlay = $current.find(\".op-play-button .op-play\");\r\n        $iconPause = $current.find(\".op-play-button .op-pause\");\r\n        $iconReplay = $current.find(\".op-play-button .op-replay\");\r\n        $buttonBack = $current.find('.op-seek-button-back');\r\n        $buttonForward = $current.find('.op-seek-button-forward');\r\n        $textBack = $current.find('.op-seek-back-text');\r\n        $textForward = $current.find('.op-seek-forward-text');\r\n\r\n        api.on(PLAYER_STATE, function(data){\r\n            if(data && data.newstate){\r\n                setButtonState(data.newstate);\r\n            }\r\n        }, template);\r\n\r\n        if (!api.getConfig().showSeekControl) {\r\n            $buttonBack.hide();\r\n            $buttonForward.hide();\r\n        }\r\n\r\n        let seekInterval = api.getConfig().seekControlInterval;\r\n\r\n        if (seekInterval) {\r\n\r\n            $textBack.text(seekInterval);\r\n            $textForward.text(seekInterval);\r\n        } else {\r\n\r\n            $textBack.text(10);\r\n            $textForward.text(10);\r\n        }\r\n    };\r\n    const onDestroyed = function(template){\r\n        api.off(PLAYER_STATE, null, template);\r\n    };\r\n    const events = {\r\n        \"click .op-play-button\" : function(event, $current, template){\r\n            event.preventDefault();\r\n            let currentState = api.getState();\r\n            let playlist = api.getPlaylist();\r\n            let currentPlaylistIndex = api.getCurrentPlaylist();\r\n\r\n            if (currentState === STATE_IDLE) {\r\n                api.play();\r\n            } else if (currentState === STATE_PLAYING || currentState === STATE_AD_PLAYING) {\r\n                api.pause();\r\n            } else if (currentState === STATE_LOADING || currentState === STATE_STALLED) {\r\n                api.stop();\r\n            } else if (currentState === STATE_PAUSED || currentState === STATE_AD_PAUSED) {\r\n                api.play();\r\n            } else if (currentState === STATE_ERROR) {\r\n                api.setCurrentSource(api.getCurrentSource());\r\n            } else if (currentState === STATE_COMPLETE) {\r\n                if(playlist.length === (currentPlaylistIndex+1)){\r\n                    api.seek(0);\r\n                    api.play();\r\n                }\r\n            }\r\n        },\r\n        \"click .op-seek-button-back\" : function(event, $current, template) {\r\n\r\n            let seekInterval = api.getConfig().seekControlInterval;\r\n\r\n            if (!seekInterval) {\r\n                seekInterval = 10;\r\n            }\r\n\r\n            let time = api.getPosition() - seekInterval;\r\n\r\n            if (time < 0) {\r\n                time = 0;\r\n            }\r\n\r\n            api.seek(time);\r\n        },\r\n        \"click .op-seek-button-forward\" : function(event, $current, template) {\r\n\r\n            let seekInterval = api.getConfig().seekControlInterval;\r\n\r\n            if (!seekInterval) {\r\n                seekInterval = 10;\r\n            }\r\n\r\n            let time = api.getPosition() + seekInterval;\r\n\r\n            if (time > api.getDuration()) {\r\n                time = api.getDuration();\r\n            }\r\n\r\n            api.seek(time);\r\n        }\r\n    };\r\n\r\n    return OvenTemplate($container, \"PlayButton\", api.getConfig(), null, events, onRendered, onDestroyed );\r\n};\r\n\r\nexport default PlayButton;\r\n","/**\r\n * Created by hoho on 2018. 7. 26..\r\n */\r\nimport _ from \"underscore\";\r\n\r\nlet settingPanelList = [];\r\n\r\nconst PanelManager = function(){\r\n    const that = {};\r\n\r\n    let refreshFront = function(){\r\n        for(let i = 0 ; i < settingPanelList.length; i ++){\r\n            settingPanelList[i].data.setFront(false);\r\n        }\r\n        if(settingPanelList.length ){\r\n            settingPanelList[settingPanelList.length - 1].data.setFront(true);\r\n        }\r\n    };\r\n    that.clear = () => {\r\n        //clear all SettingPanelTemplate\r\n\r\n        _.each(settingPanelList, function(settingPanel){\r\n            settingPanel.destroy();\r\n        });\r\n        settingPanelList = [];\r\n        refreshFront();\r\n    };\r\n\r\n    that.removeLastItem = () =>{\r\n        let last = settingPanelList.pop();\r\n        last.destroy();\r\n        refreshFront();\r\n    };\r\n\r\n    that.add = (settingPanelObject) => {\r\n        settingPanelList.push(settingPanelObject);\r\n        refreshFront();\r\n    };\r\n\r\n    that.size = () => {\r\n        return settingPanelList.length;\r\n    };\r\n\r\n    return that;\r\n};\r\n\r\nexport default PanelManager;\r\n","/**\r\n * Created by hoho on 2018. 7. 26..\r\n */\r\nimport OvenTemplate from 'view/engine/OvenTemplate';\r\nimport PanelManager from \"view/global/PanelManager\";\r\nimport LA$ from 'utils/likeA$';\r\n\r\n\r\nconst SpeedPanel = function($container, api, data){\r\n    const $root = LA$(api.getContainerElement());\r\n    let panelManager = PanelManager();\r\n\r\n    data.setFront = function(isFront){\r\n        if(isFront){\r\n            $root.find(\"#\"+data.id).removeClass(\"background\");\r\n        }else{\r\n            $root.find(\"#\"+data.id).addClass(\"background\");\r\n        }\r\n    };\r\n    const onRendered = function($current, template){\r\n        //Do nothing\r\n    };\r\n    const onDestroyed = function(template){\r\n        //Do nothing\r\n    };\r\n    const events = {\r\n        \"click .op-setting-item\": function (event, $current, template) {\r\n            event.preventDefault();\r\n            let value = LA$(event.currentTarget).attr(\"op-data-value\");\r\n            api.setPlaybackRate(parseFloat(value));\r\n            panelManager.clear();\r\n        },\r\n        \"click .op-setting-title\" : function(event, $current, template){\r\n            event.preventDefault();\r\n            panelManager.removeLastItem();\r\n        }\r\n    };\r\n\r\n    return OvenTemplate($container, \"SpeedPanel\", api.getConfig(), data, events, onRendered, onDestroyed );\r\n\r\n};\r\n\r\nexport default SpeedPanel;","import OvenTemplate from 'view/engine/OvenTemplate';\r\nimport PanelManager from \"view/global/PanelManager\";\r\nimport LA$ from 'utils/likeA$';\r\n\r\n\r\nconst ZoomPanel = function($container, api, data){\r\n    const $root = LA$(api.getContainerElement());\r\n    const media = $root.find(\".op-media-element-container\");\r\n\r\n    let panelManager = PanelManager();\r\n    let zoomProperty = \"--mediaZoom\";\r\n\r\n    data.setFront = function(isFront){\r\n        if(isFront){\r\n            $root.find(\"#\"+data.id).removeClass(\"background\");\r\n        }else{\r\n            $root.find(\"#\"+data.id).addClass(\"background\");\r\n        }\r\n    };\r\n    const onRendered = function($current, template){\r\n        //Do nothing\r\n    };\r\n    const onDestroyed = function(template){\r\n        //Do nothing\r\n    };\r\n    const events = {\r\n        \"click .op-setting-item\": function (event, $current, template) {\r\n            event.preventDefault();\r\n            let offset = LA$(event.currentTarget).attr(\"op-data-value\");\r\n            let zoomFactor = api.getZoomFactor();\r\n\r\n            if (offset == 0) {\r\n                zoomFactor = 1.0;\r\n            } else {\r\n                zoomFactor = parseFloat(zoomFactor) + parseFloat(offset);\r\n            } \r\n\r\n            if (zoomFactor <= 0 ) {\r\n                zoomFactor = 0\r\n            }\r\n\r\n            media.get().style.setProperty(zoomProperty, api.setZoomFactor(parseFloat(zoomFactor).toFixed(2)));\r\n        },\r\n        \"click .op-setting-title\" : function(event, $current, template){\r\n            event.preventDefault();\r\n            panelManager.removeLastItem();\r\n        }\r\n    };\r\n\r\n    return OvenTemplate($container, \"ZoomPanel\", api.getConfig(), data, events, onRendered, onDestroyed );\r\n\r\n};\r\n\r\nexport default ZoomPanel;","/**\r\n * Created by hoho on 2018. 7. 26..\r\n */\r\nimport OvenTemplate from 'view/engine/OvenTemplate';\r\nimport PanelManager from \"view/global/PanelManager\";\r\nimport LA$ from 'utils/likeA$';\r\n\r\n\r\nconst SourcePanel = function($container, api, data){\r\n    const $root = LA$(api.getContainerElement());\r\n    let panelManager = PanelManager();\r\n\r\n    data.setFront = function(isFront){\r\n        if(isFront){\r\n            $root.find(\"#\"+data.id).removeClass(\"background\");\r\n        }else{\r\n            $root.find(\"#\"+data.id).addClass(\"background\");\r\n        }\r\n    };\r\n    const onRendered = function($current, template){\r\n        //Do nothing\r\n    };\r\n    const onDestroyed = function(template){\r\n        //Do nothing\r\n    };\r\n    const events = {\r\n        \"click .op-setting-item\": function (event, $current, template) {\r\n            event.preventDefault();\r\n            let value = LA$(event.currentTarget).attr(\"op-data-value\");\r\n            api.setCurrentSource(parseInt(value));\r\n            panelManager.clear();\r\n        },\r\n        \"click .op-setting-title\" : function(event, $current, template){\r\n            event.preventDefault();\r\n            panelManager.removeLastItem();\r\n        }\r\n    };\r\n\r\n    return OvenTemplate($container, \"SourcePanel\", api.getConfig(), data, events, onRendered, onDestroyed );\r\n\r\n};\r\n\r\nexport default SourcePanel;","/**\r\n * Created by hoho on 2018. 7. 26..\r\n */\r\nimport OvenTemplate from 'view/engine/OvenTemplate';\r\nimport PanelManager from \"view/global/PanelManager\";\r\nimport LA$ from 'utils/likeA$';\r\nimport _ from \"underscore\";\r\nimport {CONTENT_LEVEL_CHANGED} from \"api/constants\";\r\n\r\nconst QualityPanel = function($container, api, data){\r\n    const $root = LA$(api.getContainerElement());\r\n    let panelManager = PanelManager();\r\n\r\n    data.setFront = function(isFront){\r\n        if(isFront){\r\n            $root.find(\"#\"+data.id).removeClass(\"background\");\r\n        }else{\r\n            $root.find(\"#\"+data.id).addClass(\"background\");\r\n        }\r\n    };\r\n    const onRendered = function($current, template){\r\n\r\n        //This assistants UI when quality level changes. When you open setting panels.\r\n        api.on(CONTENT_LEVEL_CHANGED, function(data){\r\n            let newQuality = data.currentQuality;\r\n            if(data.type === \"render\"){\r\n                _.forEach( $root.find(\"#\"+template.data.id).find(\".op-setting-item\").get(), function(panel){\r\n                    let $panel = LA$(panel);\r\n                    if( $panel.find(\".op-setting-item-checked\").hasClass(\"op-show\")){\r\n                        $panel.find(\".op-setting-item-checked\").removeClass(\"op-show\");\r\n                    }\r\n                    if(!data.isAuto && newQuality === parseInt($panel.attr(\"op-data-value\"))){\r\n                        $panel.find(\".op-setting-item-checked\").addClass(\"op-show\");\r\n                    }\r\n                    if(data.isAuto && $panel.attr(\"op-data-value\") === \"AUTO\"){\r\n                        $panel.find(\".op-setting-item-checked\").addClass(\"op-show\");\r\n                    }\r\n                });\r\n            }\r\n        }, template);\r\n    };\r\n    const onDestroyed = function(template){\r\n        api.off(CONTENT_LEVEL_CHANGED, null, template);\r\n    };\r\n    const events = {\r\n        \"click .op-setting-item\": function (event, $current, template) {\r\n            event.preventDefault();\r\n            let value = LA$(event.currentTarget).attr(\"op-data-value\");\r\n            if(value === \"AUTO\"){\r\n                api.setAutoQuality(!api.isAutoQuality());\r\n            }else{\r\n                api.setCurrentQuality(parseInt(value));\r\n            }\r\n            panelManager.clear();\r\n        },\r\n        \"click .op-setting-title\" : function(event, $current, template){\r\n            event.preventDefault();\r\n            panelManager.removeLastItem();\r\n        }\r\n    };\r\n\r\n    return OvenTemplate($container, \"QualityPanel\", api.getConfig(), data, events, onRendered, onDestroyed );\r\n\r\n};\r\n\r\nexport default QualityPanel;\r\n","/**\r\n * Created by hoho on 2018. 7. 26..\r\n */\r\nimport OvenTemplate from 'view/engine/OvenTemplate';\r\nimport PanelManager from \"view/global/PanelManager\";\r\nimport LA$ from 'utils/likeA$';\r\nimport {AUDIO_TRACK_CHANGED} from \"api/constants\";\r\nimport _ from \"underscore\";\r\n\r\nconst AudioTrackPanel = function ($container, api, data) {\r\n    const $root = LA$(api.getContainerElement());\r\n    let panelManager = PanelManager();\r\n\r\n    data.setFront = function (isFront) {\r\n        if (isFront) {\r\n            $root.find(\"#\" + data.id).removeClass(\"background\");\r\n        } else {\r\n            $root.find(\"#\" + data.id).addClass(\"background\");\r\n        }\r\n    };\r\n    const onRendered = function ($current, template) {\r\n        api.on(AUDIO_TRACK_CHANGED, function (data) {\r\n            _.forEach($root.find(\"#\" + template.data.id).find(\".op-setting-item\").get(), function (panel) {\r\n                let $panel = LA$(panel);\r\n\r\n                if ($panel.find(\".op-setting-item-checked\").hasClass(\"op-show\")) {\r\n                    $panel.find(\".op-setting-item-checked\").removeClass(\"op-show\");\r\n                }\r\n                if (data.currentAudioTrack === parseInt($panel.attr(\"op-data-value\"))) {\r\n                    $panel.find(\".op-setting-item-checked\").addClass(\"op-show\");\r\n                }\r\n            });\r\n        }, template);\r\n    };\r\n    const onDestroyed = function (template) {\r\n        api.off(AUDIO_TRACK_CHANGED, null, template);\r\n    };\r\n    const events = {\r\n        \"click .op-setting-item\": function (event, $current, template) {\r\n            event.preventDefault();\r\n            let value = LA$(event.currentTarget).attr(\"op-data-value\");\r\n            api.setCurrentAudioTrack(parseInt(value));\r\n            panelManager.clear();\r\n        },\r\n        \"click .op-setting-title\": function (event, $current, template) {\r\n            event.preventDefault();\r\n            panelManager.removeLastItem();\r\n        }\r\n    };\r\n\r\n    return OvenTemplate($container, \"AudioTrackPanel\", api.getConfig(), data, events, onRendered, onDestroyed);\r\n\r\n};\r\n\r\nexport default AudioTrackPanel;\r\n","/**\r\n * Created by hoho on 2018. 7. 26..\r\n */\r\nimport OvenTemplate from 'view/engine/OvenTemplate';\r\nimport PanelManager from \"view/global/PanelManager\";\r\nimport LA$ from 'utils/likeA$';\r\n\r\n\r\nconst CaptionPanel = function($container, api, data){\r\n    const $root = LA$(api.getContainerElement());\r\n    let panelManager = PanelManager();\r\n\r\n    data.setFront = function(isFront){\r\n        if(isFront){\r\n            $root.find(\"#\"+data.id).removeClass(\"background\");\r\n        }else{\r\n            $root.find(\"#\"+data.id).addClass(\"background\");\r\n        }\r\n    };\r\n    const onRendered = function($current, template){\r\n        //Do nothing\r\n    };\r\n    const onDestroyed = function(template){\r\n        //Do nothing\r\n    };\r\n    const events = {\r\n        \"click .op-setting-item\": function (event, $current, template) {\r\n            event.preventDefault();\r\n            let value = LA$(event.currentTarget).attr(\"op-data-value\");\r\n            api.setCurrentCaption(parseFloat(value));\r\n            panelManager.clear();\r\n        },\r\n        \"click .op-setting-title\" : function(event, $current, template){\r\n            event.preventDefault();\r\n            panelManager.removeLastItem();\r\n        }\r\n    };\r\n\r\n    return OvenTemplate($container, \"CaptionPanel\", api.getConfig(),  data, events, onRendered, onDestroyed );\r\n\r\n};\r\n\r\nexport default CaptionPanel;","/**\r\n * Created by hoho on 2018. 7. 26..\r\n */\r\nimport OvenTemplate from 'view/engine/OvenTemplate';\r\nimport PanelManager from \"view/global/PanelManager\";\r\nimport LA$ from 'utils/likeA$';\r\n\r\n\r\nconst TimeDisplayPanel = function($container, api, data){\r\n    const $root = LA$(api.getContainerElement());\r\n    let panelManager = PanelManager();\r\n\r\n    data.setFront = function(isFront){\r\n        if(isFront){\r\n            $root.find(\"#\"+data.id).removeClass(\"background\");\r\n        }else{\r\n            $root.find(\"#\"+data.id).addClass(\"background\");\r\n        }\r\n    };\r\n    const onRendered = function($current, template){\r\n        //Do nothing\r\n    };\r\n    const onDestroyed = function(template){\r\n        //Do nothing\r\n    };\r\n    const events = {\r\n        \"click .op-setting-item\": function (event, $current, template) {\r\n            event.preventDefault();\r\n            let value = LA$(event.currentTarget).attr(\"op-data-value\");\r\n            api.setTimecodeMode(value === \"Play time\");\r\n            panelManager.clear();\r\n        },\r\n        \"click .op-setting-title\" : function(event, $current, template){\r\n            event.preventDefault();\r\n            panelManager.removeLastItem();\r\n        }\r\n    };\r\n\r\n    return OvenTemplate($container, \"TimeDisplayPanel\", api.getConfig(), data, events, onRendered, onDestroyed );\r\n\r\n};\r\n\r\nexport default TimeDisplayPanel;","/**\r\n * Created by hoho on 2018. 7. 26..\r\n */\r\nimport OvenTemplate from 'view/engine/OvenTemplate';\r\nimport PanelManager from \"view/global/PanelManager\";\r\nimport LA$ from 'utils/likeA$';\r\nimport _ from \"underscore\";\r\nimport sizeHumanizer from \"utils/sizeHumanizer\";\r\nimport SpeedPanel from \"view/components/controls/settingPanel/speedPanel\";\r\nimport ZoomPanel from \"view/components/controls/settingPanel/zoomPanel\";\r\nimport SourcePanel from \"view/components/controls/settingPanel/sourcePanel\";\r\nimport QualityPanel from \"view/components/controls/settingPanel/qualityPanel\";\r\nimport AudioTrackPanel from \"view/components/controls/settingPanel/audioTrackPanel\";\r\nimport CaptionPanel from \"view/components/controls/settingPanel/captionPanel\";\r\nimport TimeDisplayPanel from \"view/components/controls/settingPanel/timeDisplayPanel\";\r\nimport {AUDIO_TRACK_CHANGED, CONTENT_LEVEL_CHANGED, PLAYER_ZOOM_CAHNGED} from \"api/constants\";\r\n\r\nlet PANEL_TITLE = {\r\n    \"speed\": \"Speed\",\r\n    \"zoom\": \"Zoom\",\r\n    \"speedUnit\": \"x\",\r\n    \"source\": \"Source\",\r\n    \"quality\": \"Quality\",\r\n    \"audioTrack\": \"Audio\",\r\n    \"caption\": \"Caption\",\r\n    \"display\": \"Display\"\r\n};\r\n\r\nconst Panels = function ($container, api, data) {\r\n\r\n    const $root = LA$(api.getContainerElement());\r\n    let panelManager = PanelManager();\r\n\r\n    let playerConfig = api.getConfig();\r\n\r\n    if (playerConfig && playerConfig.systemText) {\r\n        Object.keys(PANEL_TITLE).forEach(title => {\r\n            PANEL_TITLE[title] = playerConfig.systemText.ui.setting[title];\r\n        });\r\n    }\r\n\r\n    function extractSubPanelData(api, panelType) {\r\n        let panel = {\r\n            id: \"panel-\" + new Date().getTime(),\r\n            title: \"\",\r\n            body: [],\r\n            useCheck: true,\r\n            panelType: panelType,\r\n            height: $root.height() - $root.find(\".op-bottom-panel\").height()\r\n        };\r\n        panel.title = PANEL_TITLE[panelType];\r\n        if (panelType === \"speed\") {\r\n            let playBackRates = api.getConfig().playbackRates;\r\n            let currentPlaybackRate = api.getPlaybackRate();\r\n            for (let i = 0; i < playBackRates.length; i++) {\r\n                let body = {\r\n                    title: playBackRates[i] + PANEL_TITLE.speedUnit, //(playBackRates[i] === 1? \"Normal\" : playBackRates[i]),\r\n                    isCheck: currentPlaybackRate === playBackRates[i],\r\n                    value: playBackRates[i],\r\n                    description: playBackRates[i],\r\n                    panelType: panelType\r\n                };\r\n                panel.body.push(body);\r\n            }\r\n\r\n        } else if (panelType === \"zoom\") {\r\n            let bodyIn = {\r\n                title: \"+5%\",\r\n                isCheck: false,\r\n                value: 0.05,\r\n                description: 0.05,\r\n                panelType: panelType\r\n            };\r\n            let body = {\r\n                title: \"100%\",\r\n                isCheck: false,\r\n                value: 0,\r\n                description: 1.0,\r\n                panelType: panelType\r\n            };\r\n            let bodyOut = {\r\n                title: \"-5%\",\r\n                isCheck: false,\r\n                value: -0.05,\r\n                description: -0.05,\r\n                panelType: panelType\r\n            };\r\n            panel.body.push(bodyIn);\r\n            panel.body.push(body);\r\n            panel.body.push(bodyOut);\r\n\r\n        } else if (panelType === \"source\") {\r\n            let sources = api.getSources();\r\n            for (let i = 0; i < sources.length; i++) {\r\n                let body = {\r\n                    title: sources[i].label,\r\n                    isCheck: api.getCurrentSource() === i,\r\n                    value: i,\r\n                    panelType: panelType\r\n                };\r\n                panel.body.push(body);\r\n            }\r\n\r\n        } else if (panelType === \"quality\") {\r\n            let qualityLevels = api.getQualityLevels();\r\n            let isQualityCheck = api.isAutoQuality();\r\n            panel.body.push({\r\n                title: playerConfig.systemText.ui.quality.auto,\r\n                isCheck: isQualityCheck,\r\n                value: \"AUTO\",\r\n                panelType: panelType\r\n            });\r\n            for (let i = 0; i < qualityLevels.length; i++) {\r\n                let body = {\r\n                    title: qualityLevels[i].label,\r\n                    isCheck: !isQualityCheck && api.getCurrentQuality() === i,\r\n                    value: i,\r\n                    panelType: panelType\r\n                };\r\n                panel.body.push(body);\r\n            }\r\n\r\n        } else if (panelType === \"audioTrack\") {\r\n            let audioTracks = api.getAudioTracks();\r\n\r\n            for (let i = 0; i < audioTracks.length; i++) {\r\n                let body = {\r\n                    title: audioTracks[i].label,\r\n                    isCheck: audioTracks[i].index === api.getCurrentAudioTrack(),\r\n                    value: audioTracks[i].index,\r\n                    panelType: panelType\r\n                };\r\n                panel.body.push(body);\r\n            }\r\n\r\n        } else if (panelType === \"caption\") {\r\n            let captions = api.getCaptionList();\r\n            panel.body.push({\r\n                title: \"OFF\",\r\n                isCheck: api.getCurrentCaption() === -1,\r\n                value: -1,\r\n                panelType: panelType\r\n            });\r\n            for (let i = 0; i < captions.length; i++) {\r\n                let body = {\r\n                    title: captions[i].label,\r\n                    isCheck: api.getCurrentCaption() === i,\r\n                    value: i,\r\n                    panelType: panelType\r\n                };\r\n                panel.body.push(body);\r\n            }\r\n\r\n        } else if (panelType === \"display\") {\r\n            let displayModes = [\r\n                \"Play time\",\r\n                \"Framecode\"\r\n            ];\r\n            for (let i = 0; i < displayModes.length; i++) {\r\n                let body = {\r\n                    title: displayModes[i],\r\n                    isCheck: api.isTimecodeMode() ? (displayModes[i] === \"Play time\") : (displayModes[i] === \"Framecode\"),\r\n                    value: displayModes[i],\r\n                    panelType: panelType\r\n                };\r\n                panel.body.push(body);\r\n            }\r\n\r\n        }\r\n        return panel;\r\n    };\r\n\r\n    data.setFront = function (isFront) {\r\n        if (isFront) {\r\n            $root.find(\"#\" + data.id).removeClass(\"background\");\r\n        } else {\r\n            $root.find(\"#\" + data.id).addClass(\"background\");\r\n        }\r\n    };\r\n\r\n    function setPanelMaxHeight() {\r\n        if ($root.find(\".op-setting-panel\")) {\r\n            $root.find(\".op-setting-panel\").css(\"max-height\", $root.height() - $root.find(\".op-bottom-panel\").height() + \"px\");\r\n        }\r\n    };\r\n    const onRendered = function ($current, template) {\r\n        setPanelMaxHeight();\r\n\r\n        api.on(CONTENT_LEVEL_CHANGED, function (data) {\r\n            let newQuality = data.currentQuality;\r\n            if (data.type === \"render\" && $root.find(\"#\" + template.data.id).find(\".op-setting-item\")) {\r\n                _.forEach($root.find(\"#\" + template.data.id).find(\".op-setting-item\").get() || [], function (panel) {\r\n                    let $panel = LA$(panel);\r\n\r\n                    if ($panel.attr(\"op-panel-type\") === \"quality\") {\r\n                        let qualityList = api.getQualityLevels();\r\n                        let newQualityObject = qualityList[newQuality];\r\n                        $panel.find(\".op-setting-item-value\").text(newQualityObject.width + \"x\" + newQualityObject.height + \", \" + sizeHumanizer(newQualityObject.bitrate, true, \"bps\"));\r\n                    }\r\n\r\n                });\r\n            }\r\n\r\n        }, template);\r\n\r\n        api.on(AUDIO_TRACK_CHANGED, function (data) {\r\n            _.forEach($root.find(\"#\" + template.data.id).find(\".op-setting-item\").get() || [], function (panel) {\r\n\r\n                let $panel = LA$(panel);\r\n\r\n                if ($panel.attr(\"op-panel-type\") === \"audioTrack\") {\r\n                    $panel.find(\".op-setting-item-value\").text(api.getAudioTracks()[data.currentAudioTrack].label);\r\n                }\r\n            });\r\n        }, template);\r\n\r\n\r\n        api.on(PLAYER_ZOOM_CAHNGED, function (data) {\r\n            _.forEach($root.find(\"#\" + template.data.id).find(\".op-setting-item\").get() || [], function (panel) {\r\n\r\n                let $panel = LA$(panel);\r\n\r\n                if ($panel.attr(\"op-panel-type\") === \"zoom\") {\r\n                    $panel.find(\".op-setting-item-value\").text(Math.round(data.zoomFactor * 100) + \"%\");\r\n                }\r\n            });\r\n        }, template);\r\n    };\r\n    const onDestroyed = function (template) {\r\n        api.off(CONTENT_LEVEL_CHANGED, null, template);\r\n        api.off(AUDIO_TRACK_CHANGED, null, template);\r\n        api.off(PLAYER_ZOOM_CAHNGED, null, template);\r\n    };\r\n    const events = {\r\n        \"click .op-setting-item\": function (event, $current, template) {\r\n            event.preventDefault();\r\n            //if this panel is background it disabled click.\r\n            if ($root.find(\"#\" + data.id).hasClass(\"background\")) {\r\n                return false;\r\n            }\r\n            let panelType = LA$(event.currentTarget).attr(\"op-panel-type\");\r\n            let panel = null;\r\n            if (panelType === \"speed\") {\r\n                panel = SpeedPanel($container, api, extractSubPanelData(api, panelType));\r\n            } else if (panelType === \"zoom\") {\r\n                panel = ZoomPanel($container, api, extractSubPanelData(api, panelType));\r\n            } else if (panelType === \"source\") {\r\n                panel = SourcePanel($container, api, extractSubPanelData(api, panelType));\r\n            } else if (panelType === \"quality\") {\r\n                panel = QualityPanel($container, api, extractSubPanelData(api, panelType));\r\n            } else if (panelType === \"audioTrack\") {\r\n                panel = AudioTrackPanel($container, api, extractSubPanelData(api, panelType));\r\n            } else if (panelType === \"caption\") {\r\n                panel = CaptionPanel($container, api, extractSubPanelData(api, panelType));\r\n            } else if (panelType === \"display\") {\r\n                panel = TimeDisplayPanel($container, api, extractSubPanelData(api, panelType));\r\n            }\r\n\r\n            panelManager.add(panel);\r\n        },\r\n        \"click .op-setting-title\": function (event, $current, template) {\r\n            event.preventDefault();\r\n            if ($root.find(\"#\" + data.id).hasClass(\"background\")) {\r\n                return false;\r\n            }\r\n            panelManager.removeLastItem();\r\n        }\r\n    };\r\n    return OvenTemplate($container, \"Panels\", api.getConfig(), data, events, onRendered, onDestroyed);\r\n\r\n};\r\n\r\nexport default Panels;\r\n\r\n","/**\r\n * Created by hoho on 2019. 5. 17..\r\n */\r\nimport OvenTemplate from \"view/engine/OvenTemplate\";\r\nimport Panels from \"view/components/controls/settingPanel/main\";\r\nimport PanelManager from \"view/global/PanelManager\";\r\n\r\nlet PANEL_TITLE = {\r\n    \"speed\": \"Speed\",\r\n    \"speedUnit\": \"x\",\r\n    \"source\": \"Source\",\r\n    \"quality\": \"Quality\",\r\n    \"audioTrack\": \"Audio\",\r\n    \"caption\": \"Caption\",\r\n    \"display\": \"Display\",\r\n    \"zoom\": \"Zoom\"\r\n};\r\nconst SettingButton = function ($container, api) {\r\n    let panelManager = PanelManager();\r\n\r\n    function generateMainData(api) {\r\n        let panel = {\r\n            id: \"panel-\" + new Date().getTime(),\r\n            title: \"Settings\",\r\n            body: [],\r\n            isRoot: true,\r\n            panelType: \"\"\r\n        };\r\n\r\n        let playerConfig = api.getConfig();\r\n\r\n        if (playerConfig && playerConfig.systemText) {\r\n            Object.keys(PANEL_TITLE).forEach(title => {\r\n                PANEL_TITLE[title] = playerConfig.systemText.ui.setting[title];\r\n            });\r\n            panel.title = playerConfig.systemText.ui.setting.title;\r\n        }\r\n        let sources = api.getSources();\r\n        let currentSource = sources && sources.length > 0 ? sources[api.getCurrentSource()] : null;\r\n\r\n        let qualityLevels = api.getQualityLevels();\r\n        let currentQuality = qualityLevels && qualityLevels.length > 0 ? qualityLevels[api.getCurrentQuality()] : null;\r\n\r\n        let audioTracks = api.getAudioTracks();\r\n        let currentAudioTrack = audioTracks && audioTracks.length > 0 ? audioTracks[api.getCurrentAudioTrack()] : null;\r\n\r\n        let captions = api.getCaptionList();\r\n        let currentCaption = api.getCurrentCaption();\r\n\r\n        let framerate = api.getFramerate();\r\n\r\n        let allowZoom = playerConfig.showZoomSettings;\r\n\r\n        if (currentSource) {\r\n            let body = {\r\n                title: PANEL_TITLE.speed,\r\n                value: api.getPlaybackRate() + PANEL_TITLE.speedUnit,\r\n                description: api.getPlaybackRate() + PANEL_TITLE.speedUnit,\r\n                panelType: \"speed\",\r\n                hasNext: true\r\n            };\r\n            panel.body.push(body);\r\n        }\r\n\r\n        if (sources && sources.length > 1) {\r\n\r\n            let body = {\r\n                title: PANEL_TITLE.source,\r\n                value: currentSource ? currentSource.label : \"Default\",\r\n                description: currentSource ? currentSource.label : \"Default\",\r\n                panelType: \"source\",\r\n                hasNext: true\r\n            };\r\n\r\n            panel.body.push(body);\r\n        }\r\n        if (qualityLevels && qualityLevels.length > 0) {\r\n\r\n            let body = {\r\n                title: PANEL_TITLE.quality,\r\n                value: currentQuality ? currentQuality.label : \"Default\",\r\n                description: currentQuality ? currentQuality.label : \"Default\",\r\n                panelType: \"quality\",\r\n                hasNext: true\r\n            };\r\n\r\n            panel.body.push(body);\r\n        }\r\n\r\n        if (audioTracks && audioTracks.length > 0) {\r\n\r\n            let body = {\r\n                title: PANEL_TITLE.audioTrack,\r\n                value: currentAudioTrack ? currentAudioTrack.label : \"Default\",\r\n                description: currentAudioTrack ? currentAudioTrack.label : \"Default\",\r\n                panelType: \"audioTrack\",\r\n                hasNext: true\r\n            };\r\n\r\n            panel.body.push(body);\r\n        }\r\n\r\n        if (captions && captions.length > 0) {\r\n\r\n            let body = {\r\n                title: PANEL_TITLE.caption,\r\n                value: captions[currentCaption] ? captions[currentCaption].label : \"OFF\",\r\n                description: captions[currentCaption] ? captions[currentCaption].label : \"OFF\",\r\n                panelType: \"caption\",\r\n                hasNext: true\r\n            };\r\n\r\n            panel.body.push(body);\r\n        }\r\n        if (framerate > 0) {\r\n            let body = {\r\n                title: PANEL_TITLE.display,\r\n                value: api.isTimecodeMode() ? \"Play time\" : \"Framecode\",\r\n                description: api.isTimecodeMode() ? \"Play time\" : \"Framecode\",\r\n                panelType: \"display\",\r\n                hasNext: true\r\n            };\r\n\r\n            panel.body.push(body);\r\n        }\r\n\r\n        if (allowZoom) {\r\n            let body = {\r\n                title: PANEL_TITLE.zoom,\r\n                value: Math.round(api.getZoomFactor() * 100) + \"%\",\r\n                description: Math.round(api.getZoomFactor() * 100) + \"%\",\r\n                panelType: \"zoom\",\r\n                hasNext: true\r\n            };\r\n            panel.body.push(body);\r\n        }\r\n\r\n        return panel;\r\n    };\r\n\r\n    const onRendered = function ($current, template) {\r\n    };\r\n    const onDestroyed = function (template) {\r\n    };\r\n    const events = {\r\n        \"click .op-setting-button\": function (event, $current, template) {\r\n            event.preventDefault();\r\n            let $parent = $current.closest(\".op-controls-container\");\r\n            if (panelManager.size() > 0) {\r\n                panelManager.clear();\r\n            } else {\r\n                let panelData = generateMainData(api);\r\n                panelManager.add(Panels($parent, api, panelData));\r\n            }\r\n        },\r\n    };\r\n\r\n    return OvenTemplate($container, \"SettingButton\", api.getConfig(), null, events, onRendered, onDestroyed);\r\n};\r\n\r\n\r\nexport default SettingButton;\r\n","/**\r\n * Created by hoho on 2018. 7. 20..\r\n */\r\nimport OvenTemplate from \"view/engine/OvenTemplate\";\r\nimport {CONTENT_MUTE, CONTENT_VOLUME, READY} from \"api/constants\";\r\n\r\nconst VolumeButton = function($container, api){\r\n\r\n    let $sliderContainer = \"\",\r\n        $slider = \"\",\r\n        $sliderHandle = \"\",\r\n        $sliderValue = \"\",\r\n        $volumeIconBig = \"\",\r\n        $volumeIconSmall = \"\",\r\n        $volumeIconMute = \"\";\r\n    let mouseDown = false;\r\n    let sliderWidth = 70,  handleWidth = 12, minRange = 0, maxRange = 0;\r\n\r\n    let isMobile = api.getBrowser().os === \"iOS\" || api.getBrowser().os === \"Android\";\r\n\r\n\r\n    function setVolumeIcon(percentage) {\r\n        $volumeIconBig.hide();\r\n        $volumeIconSmall.hide();\r\n        $volumeIconMute.hide();\r\n\r\n        if (percentage >= 70) {\r\n            $volumeIconBig.show();\r\n        } else if (percentage < 70 && percentage > 0) {\r\n            $volumeIconSmall.show();\r\n        } else if (percentage == 0) {\r\n            $volumeIconMute.show();\r\n        }else{\r\n            $volumeIconBig.show();\r\n        }\r\n    }\r\n\r\n    function setVolumeUI(percentage) {\r\n        if (api.getMute()) {\r\n            percentage = 0;\r\n        }\r\n\r\n        setVolumeIcon(percentage);\r\n\r\n        const handlePosition = maxRange * percentage / 100;\r\n\r\n\r\n        $sliderHandle.css(\"left\", handlePosition+ \"px\");\r\n        $sliderValue.css(\"width\", handlePosition+ \"px\");\r\n    }\r\n\r\n    function calculatePercentage(event) {\r\n        const relativeX = (event.pageX || event.touches[0].clientX) - $slider.offset().left;\r\n        let percentage = relativeX / sliderWidth * 100;\r\n\r\n        if (percentage < 0) {\r\n            percentage = 0;\r\n        }\r\n\r\n        if (percentage > 100) {\r\n            percentage = 100;\r\n        }\r\n        return percentage;\r\n    }\r\n\r\n\r\n    const onRendered = function($current, template){\r\n\r\n        $sliderContainer = $current.find(\".op-volume-slider-container\");\r\n\r\n        if (api.getBrowser().mobile) {\r\n            $sliderContainer.hide();\r\n        }\r\n\r\n        $slider = $current.find(\".op-volume-silder\");\r\n        $sliderHandle = $current.find(\".op-volume-slider-handle\");\r\n        $sliderValue = $current.find(\".op-volume-slider-value\");\r\n\r\n        $volumeIconBig = $current.find( \".op-volume-max\");\r\n        $volumeIconSmall = $current.find(\".op-volume-small\");\r\n        $volumeIconMute = $current.find(\".op-volume-mute\");\r\n\r\n        //ToDo : Can't read width.\r\n        //sliderWidth = $sliderContainer.width();\r\n        //handleWidth = $sliderHandle.width();\r\n\r\n        maxRange = sliderWidth - (handleWidth/2);\r\n\r\n        $sliderHandle.css(\"left\", maxRange+ \"px\");\r\n\r\n        setVolumeUI(api.getVolume());\r\n\r\n        api.on(READY, function() {\r\n            setVolumeUI(api.getVolume());\r\n        }, template);\r\n        api.on(CONTENT_VOLUME, function(data) {\r\n\r\n            setVolumeUI(data.volume);\r\n\r\n        }, template);\r\n        api.on(CONTENT_MUTE, function(data) {\r\n            if (data.mute) {\r\n                setVolumeUI(0);\r\n            } else {\r\n                setVolumeUI(api.getVolume());\r\n            }\r\n        }, template);\r\n\r\n    };\r\n    const onDestroyed = function(template){\r\n        api.off(READY, null, template);\r\n        api.off(CONTENT_VOLUME, null, template);\r\n        api.off(CONTENT_MUTE, null, template);\r\n    };\r\n    const events = {\r\n        \"click .op-volume-button\" : function(event, $current, template){\r\n            event.preventDefault();\r\n            if(isMobile){\r\n\r\n            }else{\r\n                if (api.getVolume() === 0) {\r\n                    api.setMute(false);\r\n                    api.setVolume(100);\r\n                } else {\r\n                    api.setMute();\r\n                }\r\n            }\r\n\r\n        },\r\n        \"mouseenter .op-volume-button\" : function(event, $current, template){\r\n            event.preventDefault();\r\n\r\n            if(!isMobile){\r\n                $sliderContainer.addClass(\"active\");\r\n            }\r\n        },\r\n        \"mouseleave .op-volume-silder\" : function(event, $current, template){\r\n            event.preventDefault();\r\n\r\n            mouseDown = false;\r\n        },\r\n        \"mousedown .op-volume-silder\" : function(event, $current, template){\r\n            event.preventDefault();\r\n            mouseDown = true;\r\n            api.setMute(false);\r\n            api.setVolume(calculatePercentage(event));\r\n        },\r\n        \"mouseup .op-volume-silder\" : function(event, $current, template){\r\n            event.preventDefault();\r\n            mouseDown = false;\r\n        },\r\n        \"mousemove .op-volume-silder\" : function(event, $current, template){\r\n            event.preventDefault();\r\n            if (!mouseDown) {\r\n                return false;\r\n            }\r\n\r\n            api.setVolume(calculatePercentage(event));\r\n        },\r\n        // \"touchstart .op-volume-slider-handle\" : function(event){\r\n        //     mouseDown = true;\r\n        //\r\n        // },\r\n        // \"touchmove .op-volume-slider-handle\" : function(event){\r\n        //     if(mouseDown){\r\n        //\r\n        //         api.setMute(false);\r\n        //         api.setVolume(calculatePercentage(event));\r\n        //     }\r\n        // },\r\n        // \"touchend .op-volume-slider-handle\" : function(event){\r\n        //\r\n        //     if(mouseDown){\r\n        //         mouseDown = false;\r\n        //     }\r\n        // },\r\n        \"touchstart .op-volume-button\" : function(event){\r\n            if(isMobile){\r\n                if (api.getMute()) {\r\n                    api.setMute(false);\r\n                } else {\r\n                    api.setMute(true);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    let that = OvenTemplate($container, \"VolumeButton\", api.getConfig(), null, events, onRendered, onDestroyed);\r\n    that.setMouseDown = (state) => {\r\n        mouseDown = state;\r\n    };\r\n    return that;\r\n\r\n    /*or\r\n\r\n    return Object.assign(OvenTemplate($container, \"VolumeButton\", api.getConfig(), null, events, onRendered, onDestroyed), {\r\n        setMouseDown: function (state) {\r\n            mouseDown = state;\r\n        }\r\n    });*/\r\n};\r\n\r\nexport default VolumeButton;\r\n","/**\r\n * Created by hoho on 2018. 7. 24..\r\n */\r\nimport OvenTemplate from \"view/engine/OvenTemplate\";\r\nimport PanelManager from \"view/global/PanelManager\";\r\nimport {naturalHms} from \"utils/strings\"\r\nimport {getSeekableStartEnd} from \"api/provider/utils\";\r\nimport LA$ from \"utils/likeA$\";\r\nimport {AD_TIME, CONTENT_BUFFER, CONTENT_TIME, PROVIDER_HLS, PROVIDER_HTML5} from \"api/constants\";\r\n\r\nconst ProgressBar = function ($container, api, isAd, metadata) {\r\n    const $root = LA$(api.getContainerElement());\r\n\r\n    if (api.getConfig().disableSeekUI) {\r\n        $container.addClass('op-progressbar-container-disabled');\r\n    }\r\n\r\n    let currentPlayingPosition = 0;\r\n    let currentPlayingPercentage = 0;\r\n    let currentLoadedPercentage = 0;\r\n\r\n    let mouseInside = false;\r\n    let mouseDown = false;\r\n    let panelManager = PanelManager();\r\n    let adDuration = 0;\r\n    let lastGridThumbnail = \"\";\r\n    let durationForCalc = 0;\r\n    let lastEventForTime = null;\r\n\r\n    let $progressBar = \"\",\r\n        $progressLoad = \"\",\r\n        $progressPlay = \"\",\r\n        $progressHover = \"\",\r\n        $knobContainer = \"\",\r\n        $knob = \"\",\r\n        knobWidth = 0,\r\n        $time = \"\",\r\n        $preview = \"\";\r\n\r\n    let isMobile = api.getBrowser().mobile;\r\n\r\n    const mediaElement = api.getMediaElement();\r\n\r\n    let hlsLive = false;\r\n    let nativeHlsLive = false;\r\n\r\n    if (metadata && metadata.type === PROVIDER_HLS && metadata.duration === Infinity) {\r\n        hlsLive = true;\r\n\r\n        if (api.getProviderName() === PROVIDER_HTML5) {\r\n            nativeHlsLive = true;\r\n        }\r\n    }\r\n\r\n    function positionElements(percentage) {\r\n\r\n        if (percentage < 0) {\r\n            percentage = 0;\r\n        }\r\n\r\n        if (percentage > 1) {\r\n            percentage = 1;\r\n        }\r\n\r\n        let progressBarWidth = $progressBar.width();\r\n        let position = progressBarWidth * percentage;\r\n\r\n        $progressPlay.css(\"width\", position + \"px\");\r\n        $progressHover.css(\"left\", position + \"px\");\r\n\r\n        let knobPosition = (progressBarWidth - knobWidth) * percentage;\r\n        $knobContainer.css(\"left\", knobPosition + \"px\");\r\n\r\n        currentPlayingPosition = position;\r\n        currentPlayingPercentage = percentage;\r\n    }\r\n\r\n    function drawHoverProgress(percentage) {\r\n\r\n        let progressBarWidth = $progressBar.width();\r\n        let hoverPosition = progressBarWidth * percentage;\r\n        $progressHover.css(\"width\", (percentage === 0 ? percentage : (hoverPosition - currentPlayingPosition)) + \"px\");\r\n\r\n    }\r\n\r\n    function drawLoadProgress(percentage) {\r\n\r\n        let progressBarWidth = $progressBar.width();\r\n        let loadPosition = progressBarWidth * percentage;\r\n\r\n        $progressLoad.css(\"width\", loadPosition + \"px\");\r\n        currentLoadedPercentage = percentage;\r\n    }\r\n\r\n    function calculatePercentage(event) {\r\n\r\n        let progressBarWidth = $progressBar.width();\r\n        let progressBarOffsetX = $progressBar.offset().left;\r\n\r\n        let pointerOffsetX = event.pageX;\r\n\r\n        if (event.touches) {\r\n\r\n            pointerOffsetX = (event.pageX || event.touches[0].clientX);\r\n        }\r\n\r\n        let percentage = (pointerOffsetX - progressBarOffsetX) / progressBarWidth;\r\n\r\n        if (percentage < 0) {\r\n            return 0;\r\n        }\r\n\r\n        if (percentage > 1) {\r\n            return 1;\r\n        }\r\n\r\n        return percentage;\r\n    }\r\n\r\n    function drawTimeIndicator(percentage, event) {\r\n\r\n        if (panelManager.size() > 0 || percentage < 0) {\r\n            $time.hide();\r\n            $preview.hide();\r\n            return;\r\n        } else {\r\n            $time.show();\r\n            $preview.show();\r\n        }\r\n\r\n        let duration = 0;\r\n        let second = 0;\r\n\r\n        const result = setTimeText(percentage);\r\n\r\n        duration = result.duration;\r\n        second = result.second;\r\n\r\n        let timeElemWidth = $time.width();\r\n        let progressBarWidth = $progressBar.width();\r\n        let position = progressBarWidth * percentage;\r\n\r\n        let positionOfPixel = event.pageX - $progressBar.offset().left;\r\n\r\n        if (event.touches) {\r\n            positionOfPixel = (event.pageX || event.touches[0].clientX) - $progressBar.offset().left;\r\n        }\r\n\r\n        const calculateMagnetic = function (elementWidth) {\r\n            if (positionOfPixel < elementWidth / 2) {\r\n                return 0;\r\n            } else if (progressBarWidth - positionOfPixel < elementWidth / 2) {\r\n                return progressBarWidth - elementWidth;\r\n            } else {\r\n                return position - elementWidth / 2;\r\n            }\r\n        };\r\n\r\n        let magneticPosition = calculateMagnetic(timeElemWidth);\r\n        $time.css(\"left\", magneticPosition + \"px\");\r\n\r\n        if (api.getSources()[api.getCurrentSource()].gridThumbnail) {\r\n\r\n            let interval = api.getConfig().gridThumbnail.thumbnailInterval;\r\n            let width = api.getConfig().gridThumbnail.originalThumbnailWidth;\r\n            let height = api.getConfig().gridThumbnail.originalThumbnailHeight;\r\n            let columnCount = api.getConfig().gridThumbnail.columnCount;\r\n            let rowCount = api.getConfig().gridThumbnail.rowCount;\r\n            let scale = api.getConfig().gridThumbnail.resizeScale;\r\n\r\n            $preview.css('width', width * scale + 'px');\r\n            $preview.css('height', height * scale + 'px');\r\n            $preview.css('background-size', width * scale * columnCount + 'px ' + height * scale * rowCount + 'px');\r\n\r\n            let thumbnailNumber = Math.floor(second / interval);\r\n\r\n            let imageNumber = Math.floor(thumbnailNumber / (columnCount * rowCount));\r\n\r\n            let rowNumber = Math.floor((thumbnailNumber % (columnCount * rowCount)) / columnCount);\r\n            let columnNumber = (thumbnailNumber % (columnCount * rowCount)) % columnCount;\r\n\r\n            let left = -1 * columnNumber * width * scale;\r\n            let top = -1 * rowNumber * height * scale;\r\n\r\n            OvenPlayerConsole.log('Grid Thumbnail:', thumbnailNumber + ': ' + imageNumber + '(' + rowNumber + ', ' + columnNumber + ')');\r\n\r\n            let thumbnails = api.getSources()[api.getCurrentSource()].gridThumbnail;\r\n            let thumbnail = thumbnails[imageNumber];\r\n\r\n            if (lastGridThumbnail !== thumbnail) {\r\n\r\n                $preview.css('background-image', 'url(' + thumbnail + ')');\r\n                lastGridThumbnail = thumbnail;\r\n            }\r\n\r\n            $preview.css('background-position', 'left ' + left + 'px top ' + top + 'px');\r\n\r\n            let previewMagneticPosition = calculateMagnetic(width * scale);\r\n            $preview.css(\"left\", previewMagneticPosition + \"px\");\r\n        } else {\r\n\r\n            $preview.hide();\r\n        }\r\n    }\r\n\r\n    function seek(percentage) {\r\n\r\n        let time = (durationForCalc || 0) * percentage;\r\n\r\n        if (hlsLive) {\r\n            if (!nativeHlsLive) {\r\n\r\n                const dvrWindow = api.getDvrWindow();\r\n                time = (durationForCalc - dvrWindow) + dvrWindow * percentage;\r\n            } else {\r\n\r\n                const seekable = getSeekableStartEnd(mediaElement);\r\n                const seekableRange = seekable.end - seekable.start;\r\n                time = seekable.start + seekableRange * percentage;\r\n            }\r\n        }\r\n\r\n        let sectionStart = api.getSources()[api.getCurrentSource()].sectionStart;\r\n\r\n        if (sectionStart && sectionStart > 0) {\r\n            time = time + sectionStart;\r\n        }\r\n\r\n        api.seek(time);\r\n    }\r\n\r\n    function setTimeText(percentage) {\r\n\r\n        let duration = 0;\r\n        let second = 0;\r\n\r\n        if (hlsLive && !nativeHlsLive) {\r\n\r\n            duration = api.getDvrWindow();\r\n            second = duration * (1 - percentage);\r\n\r\n            if (api.isTimecodeMode()) {\r\n                $time.text('- ' + naturalHms(second));\r\n            } else {\r\n                $time.text('- ' + Math.round(second * api.getFramerate()));\r\n            }\r\n        } else if (hlsLive && nativeHlsLive) {\r\n\r\n            const seekable = getSeekableStartEnd(mediaElement);\r\n\r\n            duration = seekable.end - seekable.start;\r\n            second = duration * (1 - percentage);\r\n\r\n            if (api.isTimecodeMode()) {\r\n                $time.text('- ' + naturalHms(second));\r\n            } else {\r\n                $time.text('- ' + Math.round(second * api.getFramerate()));\r\n            }\r\n        } else {\r\n\r\n            duration = api.getDuration();\r\n            second = duration * percentage;\r\n\r\n            if (api.isTimecodeMode()) {\r\n                $time.text(naturalHms(second));\r\n            } else {\r\n                $time.text(Math.round(second * api.getFramerate()));\r\n            }\r\n        }\r\n\r\n        return {\r\n            duration: duration,\r\n            second: second\r\n        };\r\n    }\r\n\r\n    const onRendered = function ($current, template) {\r\n\r\n        $progressBar = $current;\r\n        $progressLoad = $current.find(\".op-load-progress\");\r\n        $progressPlay = $current.find(\".op-play-progress\");\r\n        $progressHover = $current.find(\".op-hover-progress\");\r\n        $knobContainer = $current.find(\".op-progressbar-knob-container\");\r\n        $knob = $current.find(\".op-progressbar-knob\");\r\n        knobWidth = $knob.width();\r\n        $time = $current.find(\".op-progressbar-time\");\r\n        $preview = $current.find(\".op-progressbar-preview\");\r\n\r\n        $knob.hide();\r\n\r\n        if (isAd) {\r\n            api.on(AD_TIME, function (data) {\r\n                if (data && data.duration && typeof data.position === \"number\") {\r\n                    positionElements(data.position / data.duration);\r\n                    adDuration = data.duration;\r\n                }\r\n            }, template);\r\n        } else {\r\n            api.on(CONTENT_TIME, function (data) {\r\n\r\n                if (data && data.duration && typeof data.position === \"number\") {\r\n\r\n                    $knob.show();\r\n\r\n                    durationForCalc = data.duration;\r\n                    let percentage = data.position / data.duration;\r\n\r\n                    if (hlsLive) {\r\n\r\n                        if (!nativeHlsLive) {\r\n\r\n                            if (mouseInside && lastEventForTime) {\r\n                                setTimeText(calculatePercentage(lastEventForTime));\r\n                            }\r\n\r\n                            percentage = (api.getDvrWindow() - (data.duration - data.position)) / api.getDvrWindow();\r\n\r\n                        } else {\r\n                            const seekable = getSeekableStartEnd(mediaElement);\r\n                            const relativePosition = data.position - seekable.start;\r\n                            percentage = relativePosition / (seekable.end - seekable.start);\r\n                        }\r\n                    }\r\n\r\n                    positionElements(percentage);\r\n                }\r\n            }, template);\r\n\r\n            api.on(CONTENT_BUFFER, function (data) {\r\n                if (data && data.bufferPercent) {\r\n                    drawLoadProgress(data.bufferPercent / 100);\r\n                }\r\n            }, template);\r\n        }\r\n    };\r\n    const onDestroyed = function (template) {\r\n        if (isAd) {\r\n            api.off(AD_TIME, null, template);\r\n        } else {\r\n            api.off(CONTENT_TIME, null, template);\r\n            api.off(CONTENT_BUFFER, null, template);\r\n        }\r\n    };\r\n    let events = {\r\n        \"touchstart .op-progressbar\": function (event) {\r\n\r\n            if (isAd) {\r\n                return false;\r\n            }\r\n            mouseDown = true;\r\n            const percentage = calculatePercentage(event);\r\n\r\n            if (percentage < 0) {\r\n                return false;\r\n            }\r\n\r\n            positionElements(percentage);\r\n            drawHoverProgress(0);\r\n            seek(percentage);\r\n        },\r\n        \"touchmove .op-progressbar\": function (event) {\r\n\r\n            if (mouseDown) {\r\n                const percentage = calculatePercentage(event);\r\n\r\n                if (percentage < 0) {\r\n                    return false;\r\n                }\r\n\r\n                positionElements(percentage);\r\n                drawHoverProgress(0);\r\n                seek(percentage);\r\n                lastEventForTime = event;\r\n                drawTimeIndicator(percentage, event);\r\n            }\r\n        },\r\n        \"touchend .op-progressbar\": function (event) {\r\n\r\n            if (mouseDown) {\r\n                mouseDown = false;\r\n            }\r\n\r\n            $root.removeClass(\"op-progressbar-hover\");\r\n            $time.hide();\r\n            $preview.hide();\r\n\r\n        },\r\n        \"mouseenter .op-progressbar\": function (event, $current, template) {\r\n\r\n            event.preventDefault();\r\n\r\n            if (!isMobile) {\r\n                if (!isAd) {\r\n                    mouseInside = true;\r\n                    $time.show();\r\n                }\r\n                $root.addClass(\"op-progressbar-hover\");\r\n            }\r\n        },\r\n        \"mouseleave .op-progressbar\": function (event, $current, template) {\r\n\r\n            event.preventDefault();\r\n\r\n            mouseInside = false;\r\n            mouseDown = false;\r\n\r\n            if (!mouseInside) {\r\n                $root.removeClass(\"op-progressbar-hover\");\r\n                $time.hide();\r\n                $preview.hide();\r\n            }\r\n            drawHoverProgress(0);\r\n        },\r\n        \"mousedown .op-progressbar\": function (event, $current, template) {\r\n\r\n            event.preventDefault();\r\n\r\n            if (isAd || isMobile) {\r\n                return false;\r\n            }\r\n\r\n            mouseDown = true;\r\n            const percentage = calculatePercentage(event);\r\n\r\n            if (percentage < 0 || percentage > 1) {\r\n                return false;\r\n            }\r\n\r\n            positionElements(percentage);\r\n            drawHoverProgress(0);\r\n            seek(percentage);\r\n        },\r\n        \"mousemove .op-progressbar\": function (event, $current, template) {\r\n\r\n            event.preventDefault();\r\n\r\n            if (!mouseDown && !isAd && !isMobile) {\r\n                const percentage = calculatePercentage(event);\r\n                drawHoverProgress(percentage);\r\n                lastEventForTime = event;\r\n                drawTimeIndicator(percentage, event);\r\n            }\r\n\r\n            if (mouseDown && !isMobile) {\r\n                const percentage = calculatePercentage(event);\r\n\r\n                if (percentage < 0) {\r\n                    return false;\r\n                }\r\n                positionElements(percentage);\r\n                drawHoverProgress(0);\r\n                seek(percentage);\r\n                lastEventForTime = event;\r\n                drawTimeIndicator(percentage, event);\r\n            }\r\n        },\r\n        \"mouseup .op-progressbar\": function (event, $current, template) {\r\n\r\n            event.preventDefault();\r\n\r\n            if (mouseDown && !isMobile) {\r\n                mouseDown = false;\r\n                $root.removeClass(\"op-progressbar-hover\");\r\n            }\r\n\r\n        }\r\n    };\r\n\r\n    if (api.getConfig().disableSeekUI) {\r\n        events = {}\r\n    }\r\n\r\n    return OvenTemplate($container, \"ProgressBar\", api.getConfig(), null, events, onRendered, onDestroyed);\r\n};\r\n\r\nexport default ProgressBar;\r\n","/**\r\n * Created by hoho on 06/03/2019.\r\n */\r\nimport OvenTemplate from \"view/engine/OvenTemplate\";\r\nimport {playlistItemTemplate} from \"view/components/controls/playlistPanelTemplate\";\r\nimport LA$ from \"utils/likeA$\";\r\nimport {PLAYER_RESIZED, PLAYLIST_CHANGED} from \"api/constants\";\r\n\r\nconst PlaylistPanel = function($container, api){\r\n    const $root = LA$(api.getContainerElement());\r\n\r\n    let $playlistPanel = \"\";\r\n    let playlist = api.getPlaylist();\r\n    let totalCount = playlist.length;\r\n\r\n    let pageSize = 6;\r\n    let page = 0;\r\n    let pagedList = [];\r\n\r\n    if($root.width() > 576){\r\n        pageSize = 6;\r\n    }else if($root.width() <= 576) {\r\n        pageSize = 1;\r\n    }\r\n\r\n    function pagenate(page){\r\n        let totalPageCount = Math.ceil(totalCount / pageSize);\r\n        let currentPlaylistIndex = api.getCurrentPlaylist();\r\n\r\n        pagedList = playlist.slice(page*pageSize, (page*pageSize)+pageSize);\r\n\r\n        $playlistPanel.find(\".op-playlist-body-row\").removeChild();\r\n        $playlistPanel.find(\".op-arrow-left\").removeClass(\"disable\");\r\n        $playlistPanel.find(\".op-arrow-right\").removeClass(\"disable\");\r\n\r\n        for(let i = 0; i < pagedList.length; i ++){\r\n            let originalItemIndex = (page * pageSize) + i;\r\n            pagedList[i].index = originalItemIndex;\r\n            $playlistPanel.find(\".op-playlist-body-row\").get().append(\r\n                createAndSelectElement(playlistItemTemplate(pagedList[i], currentPlaylistIndex === originalItemIndex))\r\n            );\r\n        }\r\n\r\n        if(page === 0){\r\n            $playlistPanel.find(\".op-arrow-left\").addClass(\"disable\");\r\n        }\r\n        if(page+1 === totalPageCount){\r\n            $playlistPanel.find(\".op-arrow-right\").addClass(\"disable\");\r\n        }\r\n    };\r\n    function findCurrentPage(){\r\n        let currentPlaylistIndex = api.getCurrentPlaylist();\r\n        return Math.ceil((currentPlaylistIndex+1)/ pageSize) -1\r\n    };\r\n    function createAndSelectElement(html) {\r\n        const newElement = document.createElement('div');\r\n        newElement.innerHTML = html;\r\n        return newElement.firstChild;\r\n    }\r\n    const onRendered = function($current, template){\r\n        $playlistPanel = $current;\r\n\r\n        page = findCurrentPage();\r\n        pagenate(page);\r\n\r\n        api.on(PLAYER_RESIZED, function(size){\r\n            if( (size === \"xsmall\") && pageSize === 6 ){\r\n                pageSize = 1;\r\n                page = findCurrentPage();\r\n                pagenate(page);\r\n            }else if((size === \"small\" || size === \"medium\" || size === \"large\") && pageSize === 1){\r\n                pageSize = 6;\r\n                page = findCurrentPage();\r\n                pagenate(page);\r\n            }\r\n        },template);\r\n\r\n        api.on(PLAYLIST_CHANGED, function(size){\r\n            page = findCurrentPage();\r\n            pagenate(page);\r\n        },template);\r\n\r\n\r\n        //돔에서 엘리먼트가 제거되면 이벤트도 같이 제거 되어 버리기 때문에 일단 이렇게 해당 템플릿내에서만 live 되도록 처리. 추후 TemplateEngine에 개선\r\n        $current.get().addEventListener(\"click\",function(evt){\r\n            var gtarget = evt.target;\r\n            while (gtarget){\r\n                if (LA$(gtarget).hasClass(\"op-playlist-card\")){\r\n                    api.setCurrentPlaylist(parseInt(LA$(gtarget).attr(\"data-index\")));\r\n                    return;\r\n                }\r\n                gtarget = gtarget.parentElement;\r\n            }\r\n        }, true);\r\n\r\n    };\r\n    const onDestroyed = function(template){\r\n        api.off(PLAYER_RESIZED, null, template);\r\n        api.off(PLAYLIST_CHANGED, null, template);\r\n    };\r\n    const events = {\r\n        \"click .btn-close\" : function(event, $current, template){\r\n            event.preventDefault();\r\n            template.destroy();\r\n\r\n        },\r\n        \"click .op-arrow-left\" : function(event, $current, template){\r\n            event.preventDefault();\r\n            if( !LA$(event.target).hasClass(\"disable\") ){\r\n                page--;\r\n                pagenate(page);\r\n            }\r\n        },\r\n        \"click .op-arrow-right\" : function(event, $current, template){\r\n            event.preventDefault();\r\n            if( !LA$(event.target).hasClass(\"disable\") ){\r\n                page++;\r\n                pagenate(page);\r\n            }\r\n        }/*,\r\n        \"click .op-playlist-card\" : function(event, $current, template){\r\n            event.preventDefault();\r\n        }*/\r\n    };\r\n\r\n    return OvenTemplate($container, \"PlaylistPanel\", api.getConfig(), playlist, events, onRendered, onDestroyed );\r\n};\r\n\r\nexport default PlaylistPanel;\r\n","/**\r\n * Created by hoho on 2018. 7. 25..\r\n */\r\nimport OvenTemplate from \"view/engine/OvenTemplate\";\r\nimport {naturalHms} from \"utils/strings\";\r\nimport {getSeekableStartEnd} from \"api/provider/utils\";\r\nimport {CONTENT_TIME, CONTENT_TIME_MODE_CHANGED, PROVIDER_HLS, PROVIDER_HTML5} from \"api/constants\";\r\n\r\nconst TimeDisplay = function ($container, api, data) {\r\n\r\n  let $position = \"\", $duration = \"\", $liveBadge = \"\", $liveText = \"\";\r\n\r\n  const mediaElement = api.getMediaElement();\r\n\r\n  let hlsLive = false;\r\n  let nativeHlsLive = false;\r\n\r\n  let currVodPosition = 0;\r\n\r\n  function convertHumanizeTime(time) {\r\n    return naturalHms(time);\r\n  }\r\n\r\n  const onRendered = function ($current, template) {\r\n    currVodPosition = 0;\r\n    let isTimecode = api.isTimecodeMode();\r\n    $position = $current.find(\".op-time-current\");\r\n    $duration = $current.find(\".op-time-duration\");\r\n    $liveBadge = $current.find(\".op-live-badge\");\r\n    $liveText = $current.find(\".op-live-text\");\r\n\r\n    if (data && data.type === PROVIDER_HLS && data.duration === Infinity) {\r\n      hlsLive = true;\r\n\r\n      if (api.getProviderName() === PROVIDER_HTML5) {\r\n        nativeHlsLive = true;\r\n      }\r\n    }\r\n\r\n    if (data.duration !== Infinity) {\r\n\r\n      if (isTimecode) {\r\n        $duration.text(convertHumanizeTime(data.duration));\r\n      } else {\r\n        $position.text(0);\r\n        $duration.text(Math.round(data.duration * api.getFramerate()) + \" (\" + api.getFramerate() + \"fps)\");\r\n      }\r\n\r\n      api.on(CONTENT_TIME_MODE_CHANGED, function (isTimecodeMode) {\r\n        isTimecode = isTimecodeMode;\r\n        if (isTimecode) {\r\n          $position.text(convertHumanizeTime(currVodPosition));\r\n          $duration.text(convertHumanizeTime(data.duration));\r\n        } else {\r\n          $position.text(Math.round(currVodPosition * api.getFramerate()));\r\n          $duration.text(Math.round(data.duration * api.getFramerate()) + \" (\" + api.getFramerate() + \"fps)\");\r\n        }\r\n      }, template);\r\n\r\n      api.on(CONTENT_TIME, function (data) {\r\n\r\n        currVodPosition = data.position;\r\n\r\n        if (isTimecode) {\r\n          $position.text(convertHumanizeTime(data.position));\r\n        } else {\r\n          $position.text(Math.round(data.position * api.getFramerate()));\r\n        }\r\n      }, template);\r\n    } else {\r\n      if (hlsLive && !nativeHlsLive) {\r\n\r\n        api.on(CONTENT_TIME, function (data) {\r\n\r\n          if (!api.getConfig().legacyUI) {\r\n            if (api.getMseInstance().liveSyncPosition - data.position > api.getMseInstance().targetLatency) {\r\n              $liveBadge.addClass('op-live-badge-delayed');\r\n            } else {\r\n              $liveBadge.removeClass('op-live-badge-delayed');\r\n            }\r\n          }\r\n        }, template);\r\n      } else if (hlsLive && nativeHlsLive) {\r\n\r\n        $liveBadge.addClass('op-live-badge-none');\r\n      }\r\n    }\r\n\r\n  };\r\n\r\n  const onDestroyed = function (template) {\r\n    api.off(CONTENT_TIME_MODE_CHANGED, null, template);\r\n    api.off(CONTENT_TIME, null, template);\r\n  };\r\n  const events = {\r\n    \"click .op-live-text\": function (event, $current, template) {\r\n\r\n      event.preventDefault();\r\n\r\n      if (hlsLive && !nativeHlsLive) {\r\n        const syncPosition = api.getMseInstance().liveSyncPosition;\r\n        api.seek(syncPosition);\r\n      } else if (hlsLive && nativeHlsLive) {\r\n        api.seek(getSeekableStartEnd(mediaElement).end);\r\n      }\r\n    }\r\n  };\r\n\r\n  return OvenTemplate($container, \"TimeDisplay\", api.getConfig(), data, events, onRendered, onDestroyed);\r\n};\r\n\r\n\r\nexport default TimeDisplay;\r\n","/**\r\n * Created by hoho on 2018. 7. 26..\r\n */\r\nimport OvenTemplate from \"view/engine/OvenTemplate\";\r\nimport LA$ from \"utils/likeA$\";\r\nimport {\r\n  AD_CHANGED,\r\n  PLAYER_FULLSCREEN_CHANGED,\r\n  PLAYER_FULLSCREEN_REQUEST,\r\n  STATE_AD_LOADED,\r\n  STATE_AD_PAUSED,\r\n  STATE_AD_PLAYING\r\n} from \"api/constants\";\r\n\r\n\r\nconst FullScreenButton = function ($container, api) {\r\n    const $root = LA$(api.getContainerElement());\r\n\r\n    let $iconExpand = \"\", $iconCompress = \"\", isFullScreen = false;\r\n\r\n    //ToDo : Template have to access Player Config.\r\n    let config = api.getConfig();\r\n\r\n    let browserInfo = api.getBrowser();\r\n    let isIos = browserInfo.os === \"iOS\"; // && browserInfo.browser === \"Safari\";\r\n    let isAndroid = browserInfo.os === \"Android\";\r\n    let fullscreenChangedEventName = \"\"; //For IE11\r\n    let isForceMode = false;    //This means to look like for fullscreen.\r\n\r\n    let fullScreenEventTypes = {\r\n        onfullscreenchange: \"fullscreenchange\",\r\n        onmozfullscreenchange: \"mozfullscreenchange\",\r\n        onwebkitfullscreenchange: \"webkitfullscreenchange\",\r\n        MSFullscreenChange: \"MSFullscreenChange\"\r\n    };\r\n\r\n\r\n    api.toggleFullScreen = toggleFullScreen;\r\n\r\n    function checkFullScreen() {\r\n\r\n        let fullScreen = false;\r\n\r\n        const fullScreenElement = document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;\r\n\r\n        if (fullScreenElement) {\r\n\r\n            if ($root.get() === fullScreenElement) {\r\n                fullScreen = true;\r\n            }\r\n        }\r\n\r\n        return fullScreen;\r\n\r\n    };\r\n\r\n    function resetFullscreenButtonState() {\r\n        OvenPlayerConsole.log(\"FULLSCREEN STATE : \", checkFullScreen());\r\n        if (checkFullScreen()) {\r\n            if (isForceMode) {\r\n                document.body.classList.add('op-fullscreen-helper');\r\n            }\r\n            $root.addClass(\"op-fullscreen\");\r\n            isFullScreen = true;\r\n            $iconExpand.hide();\r\n            $iconCompress.show();\r\n\r\n        } else {\r\n            if (isForceMode) {\r\n                document.body.classList.remove('op-fullscreen-helper');\r\n            }\r\n            $root.removeClass(\"op-fullscreen\");\r\n            isFullScreen = false;\r\n            $iconExpand.show();\r\n            $iconCompress.hide();\r\n        }\r\n    };\r\n\r\n    function afterFullScreenChangedCallback() {\r\n        OvenPlayerConsole.log(\"afterFullScreenChangedCallback () \");\r\n        resetFullscreenButtonState();\r\n        api.trigger(PLAYER_FULLSCREEN_CHANGED, isFullScreen);\r\n    };\r\n\r\n    function forcedFakeFullscreenToggle() {\r\n        if (!isFullScreen) {\r\n            document.body.classList.add('op-fullscreen-helper');\r\n            $root.addClass(\"op-fullscreen\");\r\n            isFullScreen = true;\r\n            $iconExpand.hide();\r\n            $iconCompress.show();\r\n        } else {\r\n            $root.removeClass(\"op-fullscreen\");\r\n            document.body.classList.remove('op-fullscreen-helper');\r\n            isFullScreen = false;\r\n            $iconExpand.show();\r\n            $iconCompress.hide();\r\n        }\r\n        api.trigger(PLAYER_FULLSCREEN_CHANGED, isFullScreen);\r\n    };\r\n\r\n    function findFullScreenChangedEventName() {\r\n        let rootElement = $root.get();\r\n        let eventName = \"\";\r\n        //ios don;t have a fullscreenchange event. go to hell.\r\n        //ios will checkFullScreen();\r\n\r\n        if (rootElement.requestFullscreen) {\r\n            eventName = fullScreenEventTypes.onfullscreenchange;\r\n        } else if (rootElement.webkitRequestFullScreen) {\r\n            eventName = fullScreenEventTypes.onwebkitfullscreenchange;\r\n        } else if (rootElement.mozRequestFullScreen) {\r\n            eventName = fullScreenEventTypes.onmozfullscreenchange;\r\n        } else if (rootElement.msRequestFullscreen) {\r\n            eventName = fullScreenEventTypes.MSFullscreenChange;\r\n        } else {\r\n            Object.keys(fullScreenEventTypes).forEach(event => {\r\n                if (document[event]) {\r\n                    eventName = fullScreenEventTypes[event];\r\n                }\r\n            });\r\n        }\r\n        return eventName;\r\n\r\n        //This is original Code. IE11 doesn't follow rules. go to hell. IE11 returns \"fullscreenchange\". :(\r\n        /*\r\n         Object.keys(fullScreenEventTypes).forEach(eventName => {\r\n            if(document[eventName]){\r\n                console.log(eventName);\r\n                document.addEventListener(fullScreenEventTypes[eventName], afterFullScreenChangedCallback, false);\r\n            }\r\n         });\r\n         */\r\n    };\r\n\r\n    function requestFullScreen() {\r\n\r\n        let promise = \"\";\r\n        let rootElement = $root.get();\r\n        let videoElements = $root.find(\"video\") ? $root.find(\"video\").get() : rootElement;\r\n        let videoElement, adVideoElement = null;\r\n        if (isIos) {\r\n            //IOS ad makes two video elements. one is original video other is ad. i need kick ass to ios.\r\n            if (videoElements.length > 1) {\r\n                for (let i = 0; i < videoElements.length; i++) {\r\n                    let videoTitle = videoElements[i].getAttribute(\"title\");\r\n                    if (videoTitle && videoTitle === \"Advertisement\") {\r\n                        adVideoElement = videoElements[i];\r\n                    } else {\r\n                        videoElement = videoElements[i];\r\n                    }\r\n                }\r\n            } else {\r\n                videoElement = videoElements;\r\n            }\r\n            if (adVideoElement && api.getState() === STATE_AD_LOADED || api.getState() === STATE_AD_PLAYING || api.getState() === STATE_AD_PAUSED) {\r\n                if (adVideoElement.webkitEnterFullScreen) {\r\n                    promise = adVideoElement.webkitEnterFullScreen();\r\n                    isFullScreen = true;\r\n                }\r\n            } else {\r\n                if (videoElement.webkitEnterFullScreen) {\r\n                    promise = videoElement.webkitEnterFullScreen();\r\n                    isFullScreen = true;\r\n                }\r\n            }\r\n        } else {\r\n            if (rootElement.requestFullscreen) {\r\n                var fullScreenOption = api.getConfig().fullscreenOption;\r\n                promise = rootElement.requestFullscreen(fullScreenOption);\r\n            } else if (rootElement.webkitRequestFullScreen) {\r\n                promise = rootElement.webkitRequestFullScreen();\r\n            } else if (rootElement.mozRequestFullScreen) {\r\n                promise = rootElement.mozRequestFullScreen();\r\n            } else if (rootElement.msRequestFullscreen) {\r\n                promise = rootElement.msRequestFullscreen();\r\n            } else {\r\n                // TODO(rock): warn not supported\r\n            }\r\n        }\r\n\r\n        if (promise) {\r\n\r\n            promise.then(function () {\r\n\r\n                isFullScreen = true;\r\n                isForceMode = false;\r\n                //config.setFullscreen(true);\r\n\r\n            }).catch(function (error) {\r\n                //This means to look like for fullscreen.\r\n                isForceMode = true;\r\n                forcedFakeFullscreenToggle();\r\n            });\r\n        }\r\n    };\r\n    function exitFullScreen() {\r\n\r\n        let promise = \"\";\r\n\r\n        if (document.exitFullscreen) {\r\n            promise = document.exitFullscreen();\r\n        } else if (document.webkitExitFullscreen) {\r\n            promise = document.webkitExitFullscreen();\r\n        } else if (document.webkitExitFullScreen) {\r\n            promise = document.webkitExitFullScreen();\r\n        } else if (document.mozCancelFullScreen) {\r\n            promise = document.mozCancelFullScreen();\r\n        } else if (document.msExitFullscreen) {\r\n            promise = document.msExitFullscreen();\r\n        } else {\r\n            // TODO(rock): warn not supported\r\n        }\r\n\r\n        if (promise) {\r\n\r\n            promise.then(function () {\r\n\r\n                isFullScreen = false;\r\n\r\n            }).catch(function (error) {\r\n\r\n            });\r\n        }\r\n\r\n    }\r\n    function toggleFullScreen() {\r\n\r\n        if (!isFullScreen || (isIos && !checkFullScreen())) {\r\n\r\n            if (isIos && api.getConfig().iOSFakeFullScreen) {\r\n                isForceMode = true;\r\n                forcedFakeFullscreenToggle();\r\n            } else {\r\n                requestFullScreen();\r\n            }\r\n        } else {\r\n            if (isForceMode) {\r\n                forcedFakeFullscreenToggle();\r\n            } else {\r\n                exitFullScreen();\r\n            }\r\n        }\r\n    };\r\n\r\n    const onRendered = function ($current, template) {\r\n        $iconExpand = $current.find(\".op-fullscreen-expand\");\r\n        $iconCompress = $current.find(\".op-fullscreen-compress\");\r\n\r\n        resetFullscreenButtonState();\r\n\r\n        fullscreenChangedEventName = findFullScreenChangedEventName();\r\n        if (fullscreenChangedEventName) {\r\n            document.addEventListener(fullscreenChangedEventName, afterFullScreenChangedCallback, false);\r\n        }\r\n\r\n        api.on(AD_CHANGED, function (ad) {\r\n            //force close for ios midroll\r\n            let videoElements = $root.find(\"video\") ? $root.find(\"video\").get() : $root.get();\r\n            let videoElement, adVideoElement = null;\r\n\r\n            if (ad.isLinear && isIos && isFullScreen) {\r\n                if (videoElements.length > 1) {\r\n                    for (let i = 0; i < videoElements.length; i++) {\r\n                        let videoTitle = videoElements[i].getAttribute(\"title\");\r\n                        if (videoTitle && videoTitle === \"Advertisement\") {\r\n                            adVideoElement = videoElements[i];\r\n                        } else {\r\n                            videoElement = videoElements[i];\r\n                        }\r\n                    }\r\n                } else {\r\n                    videoElement = videoElements;\r\n                }\r\n                if (videoElement && videoElement.webkitExitFullscreen) {\r\n                    videoElement.webkitExitFullscreen();\r\n                    isFullScreen = false;\r\n                }\r\n            }\r\n        }, template);\r\n    };\r\n\r\n\r\n    const onDestroyed = function (template) {\r\n        if (fullscreenChangedEventName) {\r\n            document.removeEventListener(fullscreenChangedEventName, afterFullScreenChangedCallback);\r\n        }\r\n\r\n        api.off(AD_CHANGED, null, template);\r\n    };\r\n    const events = {\r\n        \"click .op-fullscreen-button\": function (event, $current, template) {\r\n            event.preventDefault();\r\n            api.trigger(PLAYER_FULLSCREEN_REQUEST, null);\r\n            toggleFullScreen();\r\n        }\r\n    };\r\n    return OvenTemplate($container, \"FullScreenButton\", api.getConfig(), null, events, onRendered, onDestroyed);\r\n\r\n};\r\n\r\nexport default FullScreenButton;\r\n","/**\r\n * Created by hoho on 2018. 7. 20..\r\n */\r\nimport OvenTemplate from \"view/engine/OvenTemplate\";\r\nimport PlayButton from \"view/components/controls/playButton\";\r\nimport SettingButton from \"view/components/controls/settingButton\";\r\nimport FrameButtons from \"view/components/controls/frameButtons\";\r\nimport VolumeButton from \"view/components/controls/volumeButton\";\r\nimport ProgressBar from \"view/components/controls/progressBar\";\r\nimport PlaylistPanel from \"view/components/controls/playlistPanel\";\r\nimport LA$ from 'utils/likeA$';\r\nimport TimeDisplay from \"view/components/controls/timeDisplay\";\r\nimport FullScreenButton from \"view/components/controls/fullScreenButton\";\r\nimport {\r\n  AD_CHANGED,\r\n  CONTENT_META,\r\n  CONTENT_SOURCE_CHANGED,\r\n  CONTENT_TIME,\r\n  ERROR,\r\n  OME_P2P_MODE,\r\n  PLAYER_PLAY,\r\n  PLAYER_RESIZED,\r\n  PROVIDER_HLS,\r\n  READY,\r\n  STATE_AD_COMPLETE,\r\n  STATE_AD_ERROR\r\n} from \"api/constants\";\r\n\r\nconst Controls = function ($container, api) {\r\n\r\n    let volumeButton = \"\", playButton = \"\", settingButton = \"\", progressBar = \"\", timeDisplay = \"\",\r\n        fullScreenButton = \"\", frameButtons = \"\", hasPlaylist = false, initialDuration;\r\n    let uiInited = false;\r\n    let webrtc_is_p2p_mode = false;\r\n    let isLiveMode = false;\r\n\r\n    let browser = api.getConfig().browser;\r\n    let isAndroid = browser.os === \"Android\";\r\n    let isIOS = browser.os === \"iOS\";\r\n\r\n    const $root = LA$(api.getContainerElement());\r\n    let lastContentMeta = {};\r\n\r\n    hasPlaylist = api.getPlaylist().length > 1;\r\n\r\n    if (api.getConfig().hidePlaylistIcon === true) {\r\n        hasPlaylist = false;\r\n    }\r\n\r\n    if (api.getConfig().legacyUI === true) {\r\n        hasPlaylist = true;\r\n    }\r\n\r\n    let playlistPanel = \"\";\r\n\r\n    const onRendered = function ($current, template) {\r\n\r\n        function setPanelMaxHeight() {\r\n            if ($root.find(\".op-setting-panel\")) {\r\n                $root.find(\".op-setting-panel\").css(\"max-height\", $root.height() - $root.find(\".op-bottom-panel\").height() + \"px\");\r\n            }\r\n        }\r\n\r\n        function initTimeDisplay(data) {\r\n            if (timeDisplay) {\r\n                timeDisplay.destroy();\r\n            }\r\n            timeDisplay = TimeDisplay($current.find(\".op-left-controls\"), api, data);\r\n        }\r\n\r\n        function initProgressBar(isAd, meta) {\r\n            if (progressBar) {\r\n                progressBar.destroy();\r\n            }\r\n            progressBar = ProgressBar($current.find(\".op-progressbar-container\"), api, isAd, meta);\r\n        }\r\n\r\n        function initFrameJumpButtons() {\r\n            if (frameButtons) {\r\n                frameButtons.destroy();\r\n            }\r\n            frameButtons = FrameButtons($current.find(\".op-controls\"), api);\r\n        }\r\n\r\n        function initSettingButton() {\r\n            if (settingButton) {\r\n                settingButton.destroy();\r\n            }\r\n            settingButton = SettingButton($current.find(\".setting-holder\"), api);\r\n        }\r\n\r\n        function initFullscreenButton() {\r\n            if (fullScreenButton) {\r\n                // Don't need to destroy.\r\n                return;\r\n                // fullScreenButton.destroy();\r\n            }\r\n            fullScreenButton = FullScreenButton($current.find(\".fullscreen-holder\"), api);\r\n        }\r\n\r\n        function makeControlUI(metadata) {\r\n\r\n            if (metadata.duration > 9000000000000000) {\r\n\r\n                metadata.duration = Infinity;\r\n            }\r\n\r\n            let sectionStart = api.getSources()[api.getCurrentSource()].sectionStart;\r\n            let sectionEnd = api.getSources()[api.getCurrentSource()].sectionEnd;\r\n\r\n            if (sectionEnd) {\r\n                metadata.duration = sectionEnd;\r\n            }\r\n\r\n            if (sectionStart) {\r\n                metadata.duration = metadata.duration - sectionStart;\r\n            }\r\n\r\n            initTimeDisplay(metadata);\r\n            initFullscreenButton();\r\n\r\n            if (api.getFramerate && api.getFramerate() > 0) {\r\n                // initFrameJumpButtons();\r\n            } else {\r\n                if (frameButtons) {\r\n                    frameButtons.destroy();\r\n                }\r\n            }\r\n\r\n            if (metadata.duration === Infinity) {\r\n\r\n                //live\r\n                OvenPlayerConsole.log(\"[[[[LIVE MODE]]]]\");\r\n                isLiveMode = true;\r\n\r\n                if (metadata.type === PROVIDER_HLS) {\r\n                    // show progress bar when hls\r\n                    initProgressBar(false, metadata);\r\n                } else {\r\n                    if (progressBar) {\r\n                        progressBar.destroy();\r\n                    }\r\n                }\r\n            } else {\r\n                //vod\r\n                initProgressBar(false);\r\n            }\r\n\r\n            uiInited = true;\r\n        }\r\n\r\n        function resetControlUI() {\r\n\r\n            // if (timeDisplay) {\r\n            //     timeDisplay.destroy();\r\n            // }\r\n\r\n            if (progressBar) {\r\n                progressBar.destroy();\r\n            }\r\n\r\n            initSettingButton();\r\n            initFullscreenButton();\r\n\r\n            $root.removeClass(\"linear-ad\");\r\n\r\n            initProgressBar(false);\r\n        }\r\n\r\n        playButton = PlayButton($current.find(\".op-left-controls\"), api);\r\n        volumeButton = VolumeButton($current.find(\".op-left-controls\"), api);\r\n\r\n        let playlist = api.getPlaylist();\r\n        let currentPlaylistIndex = api.getCurrentPlaylist();\r\n\r\n        if (playlist && playlist[currentPlaylistIndex] && playlist[currentPlaylistIndex].adTagUrl) {\r\n            //does not show setting button when ads plays.\r\n        } else {\r\n            initSettingButton();\r\n        }\r\n        initFullscreenButton();\r\n\r\n        api.on(READY, function () {\r\n            $current.show();\r\n        }, template);\r\n\r\n\r\n        api.on(CONTENT_META, function (data) {\r\n            initialDuration = data.duration;\r\n            lastContentMeta = data;\r\n            data.isP2P = webrtc_is_p2p_mode;\r\n            makeControlUI(data);\r\n        }, template);\r\n\r\n        /*\r\n        * I think do not nessessary this code anymore. Because muted play solves everything. 2019-06-04\r\n        *\r\n        *  -> muted play canceled. 2019-06-20(?)\r\n        */\r\n        api.on(CONTENT_TIME, function (metadata_for_when_after_playing) {\r\n\r\n            //Android HLS native doesn't give duration on CONTENT_META. why?\r\n            //Fortunately I have CONTENT_TIME.\r\n            //RTMP too.\r\n            if (isAndroid || (api && api.getProviderName && api.getProviderName() === \"rtmp\")) {\r\n                if (!initialDuration && (lastContentMeta && (lastContentMeta.duration !== metadata_for_when_after_playing.duration))) {\r\n                    lastContentMeta = metadata_for_when_after_playing;\r\n                    makeControlUI(metadata_for_when_after_playing);\r\n                }\r\n            }\r\n\r\n        }, template);\r\n\r\n        api.on(PLAYER_RESIZED, function (size) {\r\n            setPanelMaxHeight();\r\n        }, template);\r\n\r\n        api.on(OME_P2P_MODE, function (isP2P) {\r\n            webrtc_is_p2p_mode = isP2P;\r\n        }, template);\r\n\r\n        api.on(PLAYER_PLAY, function () {\r\n            if (!uiInited) {\r\n\r\n                let type = '';\r\n\r\n                if (api.getSources().length > 0) {\r\n\r\n                    if (api.getSources()[api.getCurrentSource()]) {\r\n\r\n                        if (api.getSources()[api.getCurrentSource()].type) {\r\n                            type = api.getSources()[api.getCurrentSource()].type;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                makeControlUI({\r\n                    isP2P: webrtc_is_p2p_mode,\r\n                    duration: api.getDuration(),\r\n                    type: type\r\n                });\r\n            }\r\n            $current.show();\r\n        }, template);\r\n\r\n        api.on(ERROR, function (error) {\r\n            $current.show();\r\n        }, template);\r\n\r\n        api.on(AD_CHANGED, function (ad) {\r\n            if (ad.isLinear) {\r\n                $root.addClass(\"linear-ad\");\r\n\r\n                initProgressBar(true);\r\n                // if (timeDisplay) {\r\n                //     timeDisplay.destroy();\r\n                // }\r\n                if (settingButton) {\r\n                    settingButton.destroy();\r\n                }\r\n\r\n                //Fullscreen button. Not required on iOS.\r\n                if (isIOS && fullScreenButton) {\r\n                    fullScreenButton.destroy();\r\n                }\r\n            } else {\r\n                $root.removeClass(\"linear-ad\");\r\n            }\r\n        }, template);\r\n\r\n\r\n        api.on(STATE_AD_COMPLETE, function () {\r\n            resetControlUI();\r\n        }, template);\r\n\r\n        api.on(STATE_AD_ERROR, function () {\r\n            resetControlUI();\r\n        }, template);\r\n\r\n        api.on(CONTENT_SOURCE_CHANGED, function () {\r\n            resetControlUI();\r\n        }, template);\r\n    };\r\n\r\n    const onDestroyed = function (template) {\r\n        api.off(CONTENT_META, null, template);\r\n        api.off(CONTENT_TIME, null, template);\r\n        api.off(STATE_AD_COMPLETE, null, template);\r\n        api.off(AD_CHANGED, null, template);\r\n        api.off(OME_P2P_MODE, null, template);\r\n        api.off(STATE_AD_ERROR, null, template);\r\n        api.off(PLAYER_RESIZED, null, template);\r\n        api.off(CONTENT_SOURCE_CHANGED, null, template);\r\n        if (timeDisplay) {\r\n            timeDisplay.destroy();\r\n        }\r\n        if (playButton) {\r\n            playButton.destroy();\r\n        }\r\n        if (progressBar) {\r\n            progressBar.destroy();\r\n        }\r\n        if (fullScreenButton) {\r\n            fullScreenButton.destroy();\r\n        }\r\n        if (volumeButton) {\r\n            volumeButton.destroy();\r\n        }\r\n\r\n    };\r\n\r\n    const events = {\r\n        \"mouseleave .op-controls\": function (event, $current, template) {\r\n            event.preventDefault();\r\n            volumeButton.setMouseDown(false);\r\n            $current.find(\".op-volume-slider-container\").removeClass(\"active\");\r\n        },\r\n\r\n        \"click .op-playlist-button\": function (event, $current, template) {\r\n            event.preventDefault();\r\n            playlistPanel = PlaylistPanel($current, api);\r\n        }\r\n    };\r\n\r\n    return OvenTemplate($container, \"Controls\", api.getConfig(), hasPlaylist, events, onRendered, onDestroyed);\r\n};\r\n\r\nexport default Controls;\r\n","/**\r\n * Created by hoho on 2018. 8. 1..\r\n */\r\nimport OvenTemplate from 'view/engine/OvenTemplate';\r\nimport LA$ from 'utils/likeA$';\r\n\r\nconst ContextPanel = function($container, api, position){\r\n    const $root = LA$(api.getContainerElement());\r\n\r\n    const onRendered = function($current, template){\r\n        const panelWidth = $current.width();\r\n        const panelHeight = $current.height();\r\n\r\n        const x = Math.min(position.pageX - $root.offset().left, $root.width() - panelWidth);\r\n        const y = Math.min(position.pageY - $root.offset().top, $root.height() - panelHeight);\r\n\r\n        $current.css(\"left\" , x + \"px\");\r\n        $current.css(\"top\" , y + \"px\");\r\n    };\r\n    const onDestroyed = function(){\r\n        //Do nothing.\r\n    };\r\n    const events = {\r\n        \"click .op-context-item\" : function(event, $current, template){\r\n            event.preventDefault();\r\n\r\n            window.open(\r\n                'https://github.com/AirenSoft/OvenPlayer',\r\n                '_blank'\r\n            );\r\n        }\r\n    };\r\n\r\n    return OvenTemplate($container, \"ContextPanel\", api.getConfig(), position, events, onRendered, onDestroyed );\r\n\r\n};\r\n\r\nexport default ContextPanel;\r\n","const ResizeSensor = function () {\r\n  'use strict';\r\n  var requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || function (fn) {\r\n    return window.setTimeout(fn, 20);\r\n  };\r\n  /**\r\n   *\r\n   * @constructor\r\n   */\r\n  function EventQueue() {\r\n    this.q = [];\r\n    this.add = function (ev) {\r\n      this.q.push(ev);\r\n    };\r\n    var i, j;\r\n    this.call = function () {\r\n      for (i = 0, j = this.q.length; i < j; i++) {\r\n        this.q[i].call();\r\n      }\r\n    };\r\n  }\r\n  /**\r\n   * @param {HTMLElement} element\r\n   * @param {String}      prop\r\n   * @returns {String|Number}\r\n   */\r\n  function getComputedStyle(element, prop) {\r\n    if (element.currentStyle) {\r\n      return element.currentStyle[prop];\r\n    } else if (window.getComputedStyle) {\r\n      return window.getComputedStyle(element, null).getPropertyValue(prop);\r\n    } else {\r\n      return element.style[prop];\r\n    }\r\n  }\r\n  /**\r\n   *\r\n   * @param {HTMLElement} element\r\n   * @param {Function}    resized\r\n   */\r\n  function attachResizeEvent(element, resized) {\r\n    if (!element.resizedAttached) {\r\n      element.resizedAttached = new EventQueue();\r\n      element.resizedAttached.add(resized);\r\n    } else if (element.resizedAttached) {\r\n      element.resizedAttached.add(resized);\r\n      return;\r\n    }\r\n    element.resizeSensor = document.createElement('div');\r\n    element.resizeSensor.className = 'resize-sensor';\r\n    var style = 'position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden; opacity: 0;direction: ltr;';\r\n    var styleChild = 'position: absolute; left: 0; top: 0; transition: 0s;';\r\n    element.resizeSensor.style.cssText = style;\r\n    element.resizeSensor.innerHTML = '<div class=\"resize-sensor-expand\" style=\"' + style + '\">' + '<div style=\"' + styleChild + '\"></div>' + '</div>' + '<div class=\"resize-sensor-shrink\" style=\"' + style + '\">' + '<div style=\"' + styleChild + ' width: 200%; height: 200%\"></div>' + '</div>';\r\n    element.appendChild(element.resizeSensor);\r\n    if (getComputedStyle(element, 'position') == 'static') {\r\n      element.style.position = 'relative';\r\n    }\r\n    var expand = element.resizeSensor.childNodes[0];\r\n    var expandChild = expand.childNodes[0];\r\n    var shrink = element.resizeSensor.childNodes[1];\r\n    var reset = function () {\r\n      expandChild.style.width = 100000 + 'px';\r\n      expandChild.style.height = 100000 + 'px';\r\n      expand.scrollLeft = 100000;\r\n      expand.scrollTop = 100000;\r\n      shrink.scrollLeft = 100000;\r\n      shrink.scrollTop = 100000;\r\n    };\r\n    reset();\r\n    var dirty = false;\r\n    var dirtyChecking = function () {\r\n      if (!element.resizedAttached)\r\n        return;\r\n      if (dirty) {\r\n        element.resizedAttached.call();\r\n        dirty = false;\r\n      }\r\n      requestAnimationFrame(dirtyChecking);\r\n    };\r\n    requestAnimationFrame(dirtyChecking);\r\n    var lastWidth, lastHeight;\r\n    var cachedWidth, cachedHeight;\r\n    //useful to not query offsetWidth twice\r\n    var onScroll = function () {\r\n      if ((cachedWidth = element.offsetWidth) != lastWidth || (cachedHeight = element.offsetHeight) != lastHeight) {\r\n        dirty = true;\r\n        lastWidth = cachedWidth;\r\n        lastHeight = cachedHeight;\r\n      }\r\n      reset();\r\n    };\r\n    var addEvent = function (el, name, cb) {\r\n      if (el.attachEvent) {\r\n        el.attachEvent('on' + name, cb);\r\n      } else {\r\n        el.addEventListener(name, cb);\r\n      }\r\n    };\r\n    addEvent(expand, 'scroll', onScroll);\r\n    addEvent(shrink, 'scroll', onScroll);\r\n  }\r\n  /**\r\n   * Class for dimension change detection.\r\n   *\r\n   * @param {Element|Element[]|Elements|jQuery} element\r\n   * @param {Function} callback\r\n   *\r\n   * @constructor\r\n   */\r\n  var ResizeSensor = function (element, callback) {\r\n    var me = this;\r\n    var elementType = Object.prototype.toString.call(element);\r\n    var isCollectionTyped = me._isCollectionTyped = '[object Array]' === elementType || '[object NodeList]' === elementType || '[object HTMLCollection]' === elementType || 'undefined' !== typeof jQuery && element instanceof window.jQuery || 'undefined' !== typeof Elements && element instanceof window.Elements;\r\n    me._element = element;\r\n    if (isCollectionTyped) {\r\n      var i = 0, j = element.length;\r\n      for (; i < j; i++) {\r\n        attachResizeEvent(element[i], callback);\r\n      }\r\n    } else {\r\n      attachResizeEvent(element, callback);\r\n    }\r\n  };\r\n  ResizeSensor.prototype.detach = function () {\r\n    var me = this;\r\n    var isCollectionTyped = me._isCollectionTyped;\r\n    var element = me._element;\r\n    if (isCollectionTyped) {\r\n      var i = 0, j = element.length;\r\n      for (; i < j; i++) {\r\n        ResizeSensor.detach(element[i]);\r\n      }\r\n    } else {\r\n      ResizeSensor.detach(element);\r\n    }\r\n  };\r\n  ResizeSensor.detach = function (element) {\r\n    if (element.resizeSensor) {\r\n      if (element.hasChildNodes()) {\r\n        element.removeChild(element.resizeSensor);\r\n      }\r\n      delete element.resizeSensor;\r\n      delete element.resizedAttached;\r\n    }\r\n  };\r\n  return ResizeSensor;\r\n}();\r\n\r\nexport default ResizeSensor;\r\n","/**\r\n * Detect if a touch event happened on the left, middle, or right side of the element\r\n * @param {MouseEvent} event\r\n * @returns {'left'|'middle'|'right'}\r\n */\r\nexport default function getTouchSection(event) {\r\n    /**\r\n     * @type {DOMRect}\r\n     */\r\n    const clientRect = event.target.getBoundingClientRect();\r\n\r\n    // is it on the right\r\n    if (event.offsetX >= ((2/3)*clientRect.width)) {\r\n        return 'right';\r\n    } \r\n\r\n    // is it on the middle\r\n    if (event.offsetX >= ((1/3)*clientRect.width)) {\r\n        return 'middle';\r\n    }\r\n\r\n    return 'left';\r\n}","/**\r\n * Created by hoho on 2018. 7. 20..\r\n */\r\nimport OvenTemplate from 'view/engine/OvenTemplate';\r\nimport Helpers from 'view/components/helpers/main';\r\nimport Controls from 'view/components/controls/main';\r\nimport PanelManager from \"view/global/PanelManager\";\r\nimport ContextPanel from 'view/components/helpers/contextPanel';\r\nimport LA$ from 'utils/likeA$';\r\nimport ResizeSensor from \"utils/resize-sensor\";\r\nimport getTouchSection from \"utils/getTouchSection\";\r\nimport {\r\n  DESTROY,\r\n  ERROR,\r\n  PLAYER_CLICKED,\r\n  PLAYER_PLAY,\r\n  PLAYER_RESIZED,\r\n  READY,\r\n  STATE_AD_PLAYING,\r\n  STATE_COMPLETE,\r\n  STATE_IDLE,\r\n  STATE_LOADING,\r\n  STATE_PAUSED,\r\n  STATE_PLAYING\r\n} from \"api/constants\";\r\n\r\nimport '../../stylesheet/ovenplayer.less';\r\n\r\nconst View = function ($container) {\r\n    let viewTemplate = \"\", controls = \"\", helper = \"\", $playerRoot, contextPanel = \"\", api = null, autoHideTimer = \"\", playerState = STATE_IDLE;\r\n    let isShiftPressed = false;\r\n    let panelManager = PanelManager();\r\n    let screenSize = \"\";\r\n    let currentPlayerSize = \"\";\r\n    let resizeSensor = null;\r\n\r\n    let that = {};\r\n\r\n    //Member Functions\r\n    function setHide(hide, autoHide) {\r\n        if (autoHideTimer) {\r\n            clearTimeout(autoHideTimer);\r\n            autoHideTimer = null;\r\n        }\r\n\r\n        if (hide) {\r\n            if (panelManager.size() > 0) {\r\n                return false;\r\n            }\r\n            $playerRoot.addClass(\"op-autohide\");\r\n        } else {\r\n            $playerRoot.removeClass(\"op-autohide\");\r\n\r\n            if (autoHide) {\r\n                autoHideTimer = setTimeout(function () {\r\n                    if (panelManager.size() > 0) {\r\n                        return false;\r\n                    }\r\n                    $playerRoot.addClass(\"op-autohide\");\r\n                }, 3000);\r\n            }\r\n        }\r\n    }\r\n    function togglePlayPause() {\r\n        const currentState = playerState;\r\n\r\n        if (currentState === STATE_IDLE || currentState === STATE_PAUSED || currentState === STATE_COMPLETE) {\r\n\r\n            if (currentState === STATE_COMPLETE) {\r\n                api.seek(0);\r\n            }\r\n\r\n            api.play();\r\n        } else if (currentState === STATE_PLAYING) {\r\n            api.pause();\r\n        }\r\n    }\r\n    function seek(seconds, isRewind) {\r\n\r\n        const duration = api.getDuration();\r\n        const currentPosition = api.getPosition();\r\n        let position = 0;\r\n\r\n        if (isRewind) {\r\n            position = Math.max(currentPosition - seconds, 0);\r\n        } else {\r\n            position = Math.min(currentPosition + seconds, duration);\r\n        }\r\n\r\n        api.seek(position);\r\n    }\r\n    function volume(isUp) {\r\n        const currentVolumn = api.getVolume();\r\n        let newVolume = 0;\r\n        if (isUp) {\r\n            newVolume = Math.min(currentVolumn + 5, 100);\r\n        } else {\r\n            newVolume = Math.max(currentVolumn - 5, 0);\r\n        }\r\n        api.setVolume(newVolume);\r\n    }\r\n    function createContextPanel(pageX, pageY) {\r\n        if (contextPanel) {\r\n            contextPanel.destroy();\r\n            contextPanel = null;\r\n        }\r\n        contextPanel = ContextPanel($playerRoot, api, { pageX: pageX, pageY: pageY });\r\n    }\r\n\r\n    function calcPlayerWidth() {\r\n        let playerWidth = $playerRoot.width();\r\n        if (playerWidth < 576) {\r\n            screenSize = \"xsmall\";\r\n            $playerRoot.addClass(\"xsmall\");\r\n\r\n            if (playerWidth < 490) {\r\n                $playerRoot.addClass(\"xxsmall\");\r\n            }\r\n\r\n        } else if (playerWidth < 768) {\r\n            screenSize = \"small\";\r\n            $playerRoot.addClass(\"small\");\r\n        } else if (playerWidth < 992) {\r\n            screenSize = \"medium\";\r\n            $playerRoot.addClass(\"medium\");\r\n        } else {\r\n            screenSize = \"large\";\r\n            $playerRoot.addClass(\"large\");\r\n        }\r\n    }\r\n\r\n    const onRendered = function ($current, template) {\r\n        $playerRoot = $current;\r\n        viewTemplate = template;\r\n        calcPlayerWidth();\r\n        currentPlayerSize = screenSize;\r\n        resizeSensor = new ResizeSensor($playerRoot.get(), function () {\r\n\r\n            $playerRoot.removeClass(\"large\");\r\n            $playerRoot.removeClass(\"medium\");\r\n            $playerRoot.removeClass(\"small\");\r\n            $playerRoot.removeClass(\"xsmall\");\r\n            $playerRoot.removeClass(\"xxsmall\");\r\n            calcPlayerWidth();\r\n            if (screenSize !== currentPlayerSize) {\r\n                currentPlayerSize = screenSize;\r\n                if (api) {\r\n                    api.trigger(PLAYER_RESIZED, currentPlayerSize);\r\n                }\r\n            }\r\n        });\r\n\r\n    };\r\n    const onDestroyed = function () {\r\n        if (resizeSensor) {\r\n            resizeSensor.detach();\r\n            resizeSensor = null;\r\n        }\r\n\r\n        if (helper) {\r\n            helper.destroy();\r\n            helper = null;\r\n        }\r\n        if (controls) {\r\n            controls.destroy();\r\n            controls = null;\r\n        }\r\n    };\r\n    const events = {\r\n        \"click .ovenplayer\": function (event, $current, template) {\r\n\r\n            if (api) {\r\n                api.trigger(PLAYER_CLICKED, event);\r\n            }\r\n\r\n            if (contextPanel) {\r\n                event.preventDefault();\r\n                contextPanel.destroy();\r\n                contextPanel = null;\r\n                return false;\r\n            }\r\n\r\n            if (!(LA$(event.target).closest(\".op-controls-container\") || LA$(event.target).closest(\".op-setting-panel\"))) {\r\n\r\n                if (panelManager.size() > 0) {\r\n                    event.preventDefault();\r\n                    panelManager.clear();\r\n                    return false;\r\n                }\r\n\r\n                if (api.getDuration() !== Infinity && !api.getBrowser().mobile) {\r\n                    togglePlayPause();\r\n                }\r\n\r\n            }\r\n        },\r\n        \"dblclick .ovenplayer\": function (event, $current, template) {\r\n            if (api) {\r\n                const touchPosition = getTouchSection(event);\r\n                const currentPosition = api.getPosition();\r\n                const tapToSeekEnabled = api.getConfig().doubleTapToSeek;\r\n\r\n                // seek back 10s\r\n                if (tapToSeekEnabled && touchPosition == 'left') {\r\n                    const newPosition = Math.max(currentPosition - 10, 0);\r\n                    OvenPlayerConsole.log(`Seeking to ${newPosition}`);\r\n                    api.seek(newPosition);\r\n                }\r\n\r\n                // seek forward 10s\r\n                if (tapToSeekEnabled && touchPosition === 'right') {\r\n                    const newPosition = Math.min(currentPosition + 10, api.getDuration());\r\n                    OvenPlayerConsole.log(`Seeking to ${newPosition}`);\r\n                    api.seek(newPosition);\r\n                }\r\n\r\n                if (touchPosition === 'middle' || !tapToSeekEnabled) {\r\n                    OvenPlayerConsole.log(`Toggling fullscreen`);\r\n                    if (api.getConfig().expandFullScreenUI && api.toggleFullScreen) {\r\n\r\n                        if (!(LA$(event.target).closest(\".op-controls-container\") || LA$(event.target).closest(\".op-setting-panel\"))) {\r\n                            api.toggleFullScreen();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        //For iOS safari\r\n        \"touchstart .ovenplayer\": function (event, $current, template) {\r\n            if (playerState === STATE_PLAYING || playerState === STATE_IDLE || playerState === STATE_LOADING || (playerState === STATE_AD_PLAYING && screenSize === \"xsmall\")) {\r\n                setHide(false, true);\r\n            } else {\r\n                setHide(false);\r\n            }\r\n        },\r\n        \"mouseenter .ovenplayer\": function (event, $current, template) {\r\n            event.preventDefault();\r\n\r\n            //small screen with STATE_AD_PLAYING setHide too. becuase mobile hide ad ui.\r\n            if (playerState === STATE_PLAYING || playerState === STATE_IDLE || playerState === STATE_LOADING || (playerState === STATE_AD_PLAYING && screenSize === \"xsmall\")) {\r\n                setHide(false, true);\r\n            } else {\r\n                setHide(false);\r\n            }\r\n        },\r\n        \"mousemove .ovenplayer\": function (event, $current, template) {\r\n            event.preventDefault();\r\n\r\n            if (playerState === STATE_PLAYING || playerState === STATE_IDLE || playerState === STATE_LOADING || (playerState === STATE_AD_PLAYING && screenSize === \"xsmall\")) {\r\n                setHide(false, true);\r\n            } else {\r\n                setHide(false);\r\n            }\r\n        },\r\n        \"mouseleave .ovenplayer\": function (event, $current, template) {\r\n            event.preventDefault();\r\n\r\n            if (playerState === STATE_PLAYING || playerState === STATE_IDLE || playerState === STATE_LOADING || (playerState === STATE_AD_PLAYING && screenSize === \"xsmall\")) {\r\n                setHide(true);\r\n            }\r\n        },\r\n        \"keydown .ovenplayer\": function (event, $current, template) {\r\n            let frameMode = api.getFramerate();\r\n            switch (event.keyCode) {\r\n                case 16:   //shift\r\n                    event.preventDefault();\r\n                    isShiftPressed = true;\r\n                    break;\r\n                case 32:   //space\r\n                    event.preventDefault();\r\n                    togglePlayPause();\r\n                    break;\r\n                case 37: //arrow left\r\n                    event.preventDefault();\r\n\r\n                    if (!api.getConfig().disableSeekUI) {\r\n                        if (isShiftPressed && frameMode) {\r\n                            api.seekFrame(-1);\r\n                        } else {\r\n                            seek(5, true);\r\n                        }\r\n                    }\r\n                    break;\r\n                case 39: //arrow right\r\n                    event.preventDefault();\r\n\r\n                    if (!api.getConfig().disableSeekUI) {\r\n\r\n                        if (isShiftPressed && frameMode) {\r\n                            api.seekFrame(1);\r\n                        } else {\r\n                            seek(5, false);\r\n                        }\r\n                    }\r\n\r\n                    break;\r\n                case 38: //arrow up\r\n                    event.preventDefault();\r\n                    volume(true);\r\n                    break;\r\n                case 40: //arrow up\r\n                    event.preventDefault();\r\n                    volume(false);\r\n                    break;\r\n            }\r\n\r\n        },\r\n        \"keyup .ovenplayer\": function (event, $current, template) {\r\n            switch (event.keyCode) {\r\n                case 16:   //shift\r\n                    event.preventDefault();\r\n                    isShiftPressed = false;\r\n                    break;\r\n            }\r\n\r\n        },\r\n        \"contextmenu .ovenplayer\": function (event, $current, template) {\r\n            event.stopPropagation();\r\n            if (!LA$(event.currentTarget).find(\"object\")) {\r\n                event.preventDefault();\r\n                createContextPanel(event.pageX, event.pageY);\r\n                return false;\r\n            }\r\n        }\r\n    };\r\n\r\n    that = OvenTemplate($container, \"View\", null, $container.id, events, onRendered, onDestroyed, true);\r\n\r\n    that.getMediaElementContainer = () => {\r\n        return $playerRoot.find(\".op-media-element-container\").get();\r\n    };\r\n\r\n    that.setApi = (playerInstance) => {\r\n        api = playerInstance;\r\n\r\n        api.getContainerElement = () => {\r\n            return $playerRoot.get();\r\n        };\r\n\r\n        api.getContainerId = () => {\r\n            return $playerRoot.get().id;\r\n        };\r\n\r\n        api.on(READY, function (data) {\r\n\r\n            if (!controls) {\r\n                controls = Controls($playerRoot.find(\".op-ui\"), playerInstance);\r\n            }\r\n\r\n            if (!showControlBar) {\r\n                $playerRoot.addClass(\"op-no-controls\");\r\n            }\r\n\r\n            setHide(false, true);\r\n        });\r\n\r\n        api.on(ERROR, function (error) {\r\n            if (api) {\r\n                let sources = api.getSources() || [];\r\n                if (controls && (sources.length <= 1)) {\r\n                    // controls.destroy();\r\n                    // controls = null;\r\n                }\r\n            }\r\n\r\n        });\r\n\r\n        api.on(DESTROY, function (data) {\r\n            viewTemplate.destroy();\r\n        });\r\n\r\n        api.on(PLAYER_PLAY, function (data) {\r\n            if (!controls && showControlBar) {\r\n                controls = Controls($playerRoot.find(\".op-ui\"), playerInstance);\r\n            }\r\n        });\r\n\r\n        let showControlBar = api.getConfig() && api.getConfig().controls;\r\n\r\n        helper = Helpers($playerRoot.find(\".op-ui\"), playerInstance);\r\n        controls = Controls($playerRoot.find(\".op-ui\"), playerInstance);\r\n\r\n        let aspectRatio = api.getConfig().aspectRatio;\r\n\r\n        if (aspectRatio) {\r\n\r\n            if (aspectRatio.split(':').length === 2) {\r\n\r\n                let width = aspectRatio.split(':')[0] * 1;\r\n                let height = aspectRatio.split(':')[1] * 1;\r\n\r\n                let ratio = height / width * 100;\r\n\r\n                $playerRoot.find('.op-ratio').css('padding-bottom', ratio + '%');\r\n            }\r\n        }\r\n\r\n        api.showControls = function (show, keepOpen) {\r\n            if (show) {\r\n                $playerRoot.removeClass(\"op-no-controls\");\r\n                let autoHide = !keepOpen\r\n                setHide(false, autoHide);\r\n            } else {\r\n                $playerRoot.addClass(\"op-no-controls\");\r\n            }\r\n        };\r\n    };\r\n\r\n\r\n    return that;\r\n};\r\n\r\n\r\n\r\nexport default View;\r\n","import {version} from '@/version'\r\nimport OvenPlayerSDK from './ovenplayer.sdk'\r\nimport {checkAndGetContainerElement} from 'utils/validator'\r\nimport View from './view/view';\r\n\r\nfunction ovenPlayerFactory() {\r\n\r\n    const OvenPlayer = {};\r\n\r\n    Object.assign(OvenPlayer, OvenPlayerSDK);\r\n\r\n    OvenPlayer.create = function (container, options) {\r\n\r\n        let containerElement = checkAndGetContainerElement(container);\r\n\r\n        let player = View(containerElement);\r\n\r\n        const playerInstance = OvenPlayerSDK.create(player.getMediaElementContainer(), options);\r\n\r\n        player.setApi(playerInstance);\r\n\r\n        OvenPlayerConsole.log(\"[OvenPlayer] v.\"+ version);\r\n\r\n        return playerInstance;\r\n    };\r\n\r\n    return OvenPlayer;\r\n}\r\n\r\nexport default ovenPlayerFactory()\r\n","'use strict'\n\n/**\n * Ponyfill for `Array.prototype.find` which is only available in ES6 runtimes.\n *\n * Works with anything that has a `length` property and index access properties, including NodeList.\n *\n * @template {unknown} T\n * @param {Array<T> | ({length:number, [number]: T})} list\n * @param {function (item: T, index: number, list:Array<T> | ({length:number, [number]: T})):boolean} predicate\n * @param {Partial<Pick<ArrayConstructor['prototype'], 'find'>>?} ac `Array.prototype` by default,\n * \t\t\t\tallows injecting a custom implementation in tests\n * @returns {T | undefined}\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find\n * @see https://tc39.es/ecma262/multipage/indexed-collections.html#sec-array.prototype.find\n */\nfunction find(list, predicate, ac) {\n\tif (ac === undefined) {\n\t\tac = Array.prototype;\n\t}\n\tif (list && typeof ac.find === 'function') {\n\t\treturn ac.find.call(list, predicate);\n\t}\n\tfor (var i = 0; i < list.length; i++) {\n\t\tif (Object.prototype.hasOwnProperty.call(list, i)) {\n\t\t\tvar item = list[i];\n\t\t\tif (predicate.call(undefined, item, i, list)) {\n\t\t\t\treturn item;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * \"Shallow freezes\" an object to render it immutable.\n * Uses `Object.freeze` if available,\n * otherwise the immutability is only in the type.\n *\n * Is used to create \"enum like\" objects.\n *\n * @template T\n * @param {T} object the object to freeze\n * @param {Pick<ObjectConstructor, 'freeze'> = Object} oc `Object` by default,\n * \t\t\t\tallows to inject custom object constructor for tests\n * @returns {Readonly<T>}\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze\n */\nfunction freeze(object, oc) {\n\tif (oc === undefined) {\n\t\toc = Object\n\t}\n\treturn oc && typeof oc.freeze === 'function' ? oc.freeze(object) : object\n}\n\n/**\n * Since we can not rely on `Object.assign` we provide a simplified version\n * that is sufficient for our needs.\n *\n * @param {Object} target\n * @param {Object | null | undefined} source\n *\n * @returns {Object} target\n * @throws TypeError if target is not an object\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n * @see https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object.assign\n */\nfunction assign(target, source) {\n\tif (target === null || typeof target !== 'object') {\n\t\tthrow new TypeError('target is not an object')\n\t}\n\tfor (var key in source) {\n\t\tif (Object.prototype.hasOwnProperty.call(source, key)) {\n\t\t\ttarget[key] = source[key]\n\t\t}\n\t}\n\treturn target\n}\n\n/**\n * All mime types that are allowed as input to `DOMParser.parseFromString`\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/parseFromString#Argument02 MDN\n * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#domparsersupportedtype WHATWG HTML Spec\n * @see DOMParser.prototype.parseFromString\n */\nvar MIME_TYPE = freeze({\n\t/**\n\t * `text/html`, the only mime type that triggers treating an XML document as HTML.\n\t *\n\t * @see DOMParser.SupportedType.isHTML\n\t * @see https://www.iana.org/assignments/media-types/text/html IANA MimeType registration\n\t * @see https://en.wikipedia.org/wiki/HTML Wikipedia\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/parseFromString MDN\n\t * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-domparser-parsefromstring WHATWG HTML Spec\n\t */\n\tHTML: 'text/html',\n\n\t/**\n\t * Helper method to check a mime type if it indicates an HTML document\n\t *\n\t * @param {string} [value]\n\t * @returns {boolean}\n\t *\n\t * @see https://www.iana.org/assignments/media-types/text/html IANA MimeType registration\n\t * @see https://en.wikipedia.org/wiki/HTML Wikipedia\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/parseFromString MDN\n\t * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-domparser-parsefromstring \t */\n\tisHTML: function (value) {\n\t\treturn value === MIME_TYPE.HTML\n\t},\n\n\t/**\n\t * `application/xml`, the standard mime type for XML documents.\n\t *\n\t * @see https://www.iana.org/assignments/media-types/application/xml IANA MimeType registration\n\t * @see https://tools.ietf.org/html/rfc7303#section-9.1 RFC 7303\n\t * @see https://en.wikipedia.org/wiki/XML_and_MIME Wikipedia\n\t */\n\tXML_APPLICATION: 'application/xml',\n\n\t/**\n\t * `text/html`, an alias for `application/xml`.\n\t *\n\t * @see https://tools.ietf.org/html/rfc7303#section-9.2 RFC 7303\n\t * @see https://www.iana.org/assignments/media-types/text/xml IANA MimeType registration\n\t * @see https://en.wikipedia.org/wiki/XML_and_MIME Wikipedia\n\t */\n\tXML_TEXT: 'text/xml',\n\n\t/**\n\t * `application/xhtml+xml`, indicates an XML document that has the default HTML namespace,\n\t * but is parsed as an XML document.\n\t *\n\t * @see https://www.iana.org/assignments/media-types/application/xhtml+xml IANA MimeType registration\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocument WHATWG DOM Spec\n\t * @see https://en.wikipedia.org/wiki/XHTML Wikipedia\n\t */\n\tXML_XHTML_APPLICATION: 'application/xhtml+xml',\n\n\t/**\n\t * `image/svg+xml`,\n\t *\n\t * @see https://www.iana.org/assignments/media-types/image/svg+xml IANA MimeType registration\n\t * @see https://www.w3.org/TR/SVG11/ W3C SVG 1.1\n\t * @see https://en.wikipedia.org/wiki/Scalable_Vector_Graphics Wikipedia\n\t */\n\tXML_SVG_IMAGE: 'image/svg+xml',\n})\n\n/**\n * Namespaces that are used in this code base.\n *\n * @see http://www.w3.org/TR/REC-xml-names\n */\nvar NAMESPACE = freeze({\n\t/**\n\t * The XHTML namespace.\n\t *\n\t * @see http://www.w3.org/1999/xhtml\n\t */\n\tHTML: 'http://www.w3.org/1999/xhtml',\n\n\t/**\n\t * Checks if `uri` equals `NAMESPACE.HTML`.\n\t *\n\t * @param {string} [uri]\n\t *\n\t * @see NAMESPACE.HTML\n\t */\n\tisHTML: function (uri) {\n\t\treturn uri === NAMESPACE.HTML\n\t},\n\n\t/**\n\t * The SVG namespace.\n\t *\n\t * @see http://www.w3.org/2000/svg\n\t */\n\tSVG: 'http://www.w3.org/2000/svg',\n\n\t/**\n\t * The `xml:` namespace.\n\t *\n\t * @see http://www.w3.org/XML/1998/namespace\n\t */\n\tXML: 'http://www.w3.org/XML/1998/namespace',\n\n\t/**\n\t * The `xmlns:` namespace\n\t *\n\t * @see https://www.w3.org/2000/xmlns/\n\t */\n\tXMLNS: 'http://www.w3.org/2000/xmlns/',\n})\n\nexports.assign = assign;\nexports.find = find;\nexports.freeze = freeze;\nexports.MIME_TYPE = MIME_TYPE;\nexports.NAMESPACE = NAMESPACE;\n","var conventions = require(\"./conventions\");\n\nvar find = conventions.find;\nvar NAMESPACE = conventions.NAMESPACE;\n\n/**\n * A prerequisite for `[].filter`, to drop elements that are empty\n * @param {string} input\n * @returns {boolean}\n */\nfunction notEmptyString (input) {\n\treturn input !== ''\n}\n/**\n * @see https://infra.spec.whatwg.org/#split-on-ascii-whitespace\n * @see https://infra.spec.whatwg.org/#ascii-whitespace\n *\n * @param {string} input\n * @returns {string[]} (can be empty)\n */\nfunction splitOnASCIIWhitespace(input) {\n\t// U+0009 TAB, U+000A LF, U+000C FF, U+000D CR, U+0020 SPACE\n\treturn input ? input.split(/[\\t\\n\\f\\r ]+/).filter(notEmptyString) : []\n}\n\n/**\n * Adds element as a key to current if it is not already present.\n *\n * @param {Record<string, boolean | undefined>} current\n * @param {string} element\n * @returns {Record<string, boolean | undefined>}\n */\nfunction orderedSetReducer (current, element) {\n\tif (!current.hasOwnProperty(element)) {\n\t\tcurrent[element] = true;\n\t}\n\treturn current;\n}\n\n/**\n * @see https://infra.spec.whatwg.org/#ordered-set\n * @param {string} input\n * @returns {string[]}\n */\nfunction toOrderedSet(input) {\n\tif (!input) return [];\n\tvar list = splitOnASCIIWhitespace(input);\n\treturn Object.keys(list.reduce(orderedSetReducer, {}))\n}\n\n/**\n * Uses `list.indexOf` to implement something like `Array.prototype.includes`,\n * which we can not rely on being available.\n *\n * @param {any[]} list\n * @returns {function(any): boolean}\n */\nfunction arrayIncludes (list) {\n\treturn function(element) {\n\t\treturn list && list.indexOf(element) !== -1;\n\t}\n}\n\nfunction copy(src,dest){\n\tfor(var p in src){\n\t\tif (Object.prototype.hasOwnProperty.call(src, p)) {\n\t\t\tdest[p] = src[p];\n\t\t}\n\t}\n}\n\n/**\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*((?:.*\\{\\s*?[\\r\\n][\\s\\S]*?^})|\\S.*?(?=[;\\r\\n]));?\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*(\\S.*?(?=[;\\r\\n]));?\n */\nfunction _extends(Class,Super){\n\tvar pt = Class.prototype;\n\tif(!(pt instanceof Super)){\n\t\tfunction t(){};\n\t\tt.prototype = Super.prototype;\n\t\tt = new t();\n\t\tcopy(pt,t);\n\t\tClass.prototype = pt = t;\n\t}\n\tif(pt.constructor != Class){\n\t\tif(typeof Class != 'function'){\n\t\t\tconsole.error(\"unknown Class:\"+Class)\n\t\t}\n\t\tpt.constructor = Class\n\t}\n}\n\n// Node Types\nvar NodeType = {}\nvar ELEMENT_NODE                = NodeType.ELEMENT_NODE                = 1;\nvar ATTRIBUTE_NODE              = NodeType.ATTRIBUTE_NODE              = 2;\nvar TEXT_NODE                   = NodeType.TEXT_NODE                   = 3;\nvar CDATA_SECTION_NODE          = NodeType.CDATA_SECTION_NODE          = 4;\nvar ENTITY_REFERENCE_NODE       = NodeType.ENTITY_REFERENCE_NODE       = 5;\nvar ENTITY_NODE                 = NodeType.ENTITY_NODE                 = 6;\nvar PROCESSING_INSTRUCTION_NODE = NodeType.PROCESSING_INSTRUCTION_NODE = 7;\nvar COMMENT_NODE                = NodeType.COMMENT_NODE                = 8;\nvar DOCUMENT_NODE               = NodeType.DOCUMENT_NODE               = 9;\nvar DOCUMENT_TYPE_NODE          = NodeType.DOCUMENT_TYPE_NODE          = 10;\nvar DOCUMENT_FRAGMENT_NODE      = NodeType.DOCUMENT_FRAGMENT_NODE      = 11;\nvar NOTATION_NODE               = NodeType.NOTATION_NODE               = 12;\n\n// ExceptionCode\nvar ExceptionCode = {}\nvar ExceptionMessage = {};\nvar INDEX_SIZE_ERR              = ExceptionCode.INDEX_SIZE_ERR              = ((ExceptionMessage[1]=\"Index size error\"),1);\nvar DOMSTRING_SIZE_ERR          = ExceptionCode.DOMSTRING_SIZE_ERR          = ((ExceptionMessage[2]=\"DOMString size error\"),2);\nvar HIERARCHY_REQUEST_ERR       = ExceptionCode.HIERARCHY_REQUEST_ERR       = ((ExceptionMessage[3]=\"Hierarchy request error\"),3);\nvar WRONG_DOCUMENT_ERR          = ExceptionCode.WRONG_DOCUMENT_ERR          = ((ExceptionMessage[4]=\"Wrong document\"),4);\nvar INVALID_CHARACTER_ERR       = ExceptionCode.INVALID_CHARACTER_ERR       = ((ExceptionMessage[5]=\"Invalid character\"),5);\nvar NO_DATA_ALLOWED_ERR         = ExceptionCode.NO_DATA_ALLOWED_ERR         = ((ExceptionMessage[6]=\"No data allowed\"),6);\nvar NO_MODIFICATION_ALLOWED_ERR = ExceptionCode.NO_MODIFICATION_ALLOWED_ERR = ((ExceptionMessage[7]=\"No modification allowed\"),7);\nvar NOT_FOUND_ERR               = ExceptionCode.NOT_FOUND_ERR               = ((ExceptionMessage[8]=\"Not found\"),8);\nvar NOT_SUPPORTED_ERR           = ExceptionCode.NOT_SUPPORTED_ERR           = ((ExceptionMessage[9]=\"Not supported\"),9);\nvar INUSE_ATTRIBUTE_ERR         = ExceptionCode.INUSE_ATTRIBUTE_ERR         = ((ExceptionMessage[10]=\"Attribute in use\"),10);\n//level2\nvar INVALID_STATE_ERR        \t= ExceptionCode.INVALID_STATE_ERR        \t= ((ExceptionMessage[11]=\"Invalid state\"),11);\nvar SYNTAX_ERR               \t= ExceptionCode.SYNTAX_ERR               \t= ((ExceptionMessage[12]=\"Syntax error\"),12);\nvar INVALID_MODIFICATION_ERR \t= ExceptionCode.INVALID_MODIFICATION_ERR \t= ((ExceptionMessage[13]=\"Invalid modification\"),13);\nvar NAMESPACE_ERR            \t= ExceptionCode.NAMESPACE_ERR           \t= ((ExceptionMessage[14]=\"Invalid namespace\"),14);\nvar INVALID_ACCESS_ERR       \t= ExceptionCode.INVALID_ACCESS_ERR      \t= ((ExceptionMessage[15]=\"Invalid access\"),15);\n\n/**\n * DOM Level 2\n * Object DOMException\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/ecma-script-binding.html\n * @see http://www.w3.org/TR/REC-DOM-Level-1/ecma-script-language-binding.html\n */\nfunction DOMException(code, message) {\n\tif(message instanceof Error){\n\t\tvar error = message;\n\t}else{\n\t\terror = this;\n\t\tError.call(this, ExceptionMessage[code]);\n\t\tthis.message = ExceptionMessage[code];\n\t\tif(Error.captureStackTrace) Error.captureStackTrace(this, DOMException);\n\t}\n\terror.code = code;\n\tif(message) this.message = this.message + \": \" + message;\n\treturn error;\n};\nDOMException.prototype = Error.prototype;\ncopy(ExceptionCode,DOMException)\n\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-536297177\n * The NodeList interface provides the abstraction of an ordered collection of nodes, without defining or constraining how this collection is implemented. NodeList objects in the DOM are live.\n * The items in the NodeList are accessible via an integral index, starting from 0.\n */\nfunction NodeList() {\n};\nNodeList.prototype = {\n\t/**\n\t * The number of nodes in the list. The range of valid child node indices is 0 to length-1 inclusive.\n\t * @standard level1\n\t */\n\tlength:0,\n\t/**\n\t * Returns the indexth item in the collection. If index is greater than or equal to the number of nodes in the list, this returns null.\n\t * @standard level1\n\t * @param index  unsigned long\n\t *   Index into the collection.\n\t * @return Node\n\t * \tThe node at the indexth position in the NodeList, or null if that is not a valid index.\n\t */\n\titem: function(index) {\n\t\treturn index >= 0 && index < this.length ? this[index] : null;\n\t},\n\ttoString:function(isHTML,nodeFilter){\n\t\tfor(var buf = [], i = 0;i<this.length;i++){\n\t\t\tserializeToString(this[i],buf,isHTML,nodeFilter);\n\t\t}\n\t\treturn buf.join('');\n\t},\n\t/**\n\t * @private\n\t * @param {function (Node):boolean} predicate\n\t * @returns {Node[]}\n\t */\n\tfilter: function (predicate) {\n\t\treturn Array.prototype.filter.call(this, predicate);\n\t},\n\t/**\n\t * @private\n\t * @param {Node} item\n\t * @returns {number}\n\t */\n\tindexOf: function (item) {\n\t\treturn Array.prototype.indexOf.call(this, item);\n\t},\n};\n\nfunction LiveNodeList(node,refresh){\n\tthis._node = node;\n\tthis._refresh = refresh\n\t_updateLiveList(this);\n}\nfunction _updateLiveList(list){\n\tvar inc = list._node._inc || list._node.ownerDocument._inc;\n\tif (list._inc !== inc) {\n\t\tvar ls = list._refresh(list._node);\n\t\t__set__(list,'length',ls.length);\n\t\tif (!list.$$length || ls.length < list.$$length) {\n\t\t\tfor (var i = ls.length; i in list; i++) {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(list, i)) {\n\t\t\t\t\tdelete list[i];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcopy(ls,list);\n\t\tlist._inc = inc;\n\t}\n}\nLiveNodeList.prototype.item = function(i){\n\t_updateLiveList(this);\n\treturn this[i] || null;\n}\n\n_extends(LiveNodeList,NodeList);\n\n/**\n * Objects implementing the NamedNodeMap interface are used\n * to represent collections of nodes that can be accessed by name.\n * Note that NamedNodeMap does not inherit from NodeList;\n * NamedNodeMaps are not maintained in any particular order.\n * Objects contained in an object implementing NamedNodeMap may also be accessed by an ordinal index,\n * but this is simply to allow convenient enumeration of the contents of a NamedNodeMap,\n * and does not imply that the DOM specifies an order to these Nodes.\n * NamedNodeMap objects in the DOM are live.\n * used for attributes or DocumentType entities\n */\nfunction NamedNodeMap() {\n};\n\nfunction _findNodeIndex(list,node){\n\tvar i = list.length;\n\twhile(i--){\n\t\tif(list[i] === node){return i}\n\t}\n}\n\nfunction _addNamedNode(el,list,newAttr,oldAttr){\n\tif(oldAttr){\n\t\tlist[_findNodeIndex(list,oldAttr)] = newAttr;\n\t}else{\n\t\tlist[list.length++] = newAttr;\n\t}\n\tif(el){\n\t\tnewAttr.ownerElement = el;\n\t\tvar doc = el.ownerDocument;\n\t\tif(doc){\n\t\t\toldAttr && _onRemoveAttribute(doc,el,oldAttr);\n\t\t\t_onAddAttribute(doc,el,newAttr);\n\t\t}\n\t}\n}\nfunction _removeNamedNode(el,list,attr){\n\t//console.log('remove attr:'+attr)\n\tvar i = _findNodeIndex(list,attr);\n\tif(i>=0){\n\t\tvar lastIndex = list.length-1\n\t\twhile(i<lastIndex){\n\t\t\tlist[i] = list[++i]\n\t\t}\n\t\tlist.length = lastIndex;\n\t\tif(el){\n\t\t\tvar doc = el.ownerDocument;\n\t\t\tif(doc){\n\t\t\t\t_onRemoveAttribute(doc,el,attr);\n\t\t\t\tattr.ownerElement = null;\n\t\t\t}\n\t\t}\n\t}else{\n\t\tthrow new DOMException(NOT_FOUND_ERR,new Error(el.tagName+'@'+attr))\n\t}\n}\nNamedNodeMap.prototype = {\n\tlength:0,\n\titem:NodeList.prototype.item,\n\tgetNamedItem: function(key) {\n//\t\tif(key.indexOf(':')>0 || key == 'xmlns'){\n//\t\t\treturn null;\n//\t\t}\n\t\t//console.log()\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar attr = this[i];\n\t\t\t//console.log(attr.nodeName,key)\n\t\t\tif(attr.nodeName == key){\n\t\t\t\treturn attr;\n\t\t\t}\n\t\t}\n\t},\n\tsetNamedItem: function(attr) {\n\t\tvar el = attr.ownerElement;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\tvar oldAttr = this.getNamedItem(attr.nodeName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\t/* returns Node */\n\tsetNamedItemNS: function(attr) {// raises: WRONG_DOCUMENT_ERR,NO_MODIFICATION_ALLOWED_ERR,INUSE_ATTRIBUTE_ERR\n\t\tvar el = attr.ownerElement, oldAttr;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\toldAttr = this.getNamedItemNS(attr.namespaceURI,attr.localName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\n\t/* returns Node */\n\tremoveNamedItem: function(key) {\n\t\tvar attr = this.getNamedItem(key);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\n\n\t},// raises: NOT_FOUND_ERR,NO_MODIFICATION_ALLOWED_ERR\n\n\t//for level2\n\tremoveNamedItemNS:function(namespaceURI,localName){\n\t\tvar attr = this.getNamedItemNS(namespaceURI,localName);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\t},\n\tgetNamedItemNS: function(namespaceURI, localName) {\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar node = this[i];\n\t\t\tif(node.localName == localName && node.namespaceURI == namespaceURI){\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n};\n\n/**\n * The DOMImplementation interface represents an object providing methods\n * which are not dependent on any particular document.\n * Such an object is returned by the `Document.implementation` property.\n *\n * __The individual methods describe the differences compared to the specs.__\n *\n * @constructor\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation MDN\n * @see https://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-102161490 DOM Level 1 Core (Initial)\n * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-102161490 DOM Level 2 Core\n * @see https://www.w3.org/TR/DOM-Level-3-Core/core.html#ID-102161490 DOM Level 3 Core\n * @see https://dom.spec.whatwg.org/#domimplementation DOM Living Standard\n */\nfunction DOMImplementation() {\n}\n\nDOMImplementation.prototype = {\n\t/**\n\t * The DOMImplementation.hasFeature() method returns a Boolean flag indicating if a given feature is supported.\n\t * The different implementations fairly diverged in what kind of features were reported.\n\t * The latest version of the spec settled to force this method to always return true, where the functionality was accurate and in use.\n\t *\n\t * @deprecated It is deprecated and modern browsers return true in all cases.\n\t *\n\t * @param {string} feature\n\t * @param {string} [version]\n\t * @returns {boolean} always true\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/hasFeature MDN\n\t * @see https://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-5CED94D7 DOM Level 1 Core\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-hasfeature DOM Living Standard\n\t */\n\thasFeature: function(feature, version) {\n\t\t\treturn true;\n\t},\n\t/**\n\t * Creates an XML Document object of the specified type with its document element.\n\t *\n\t * __It behaves slightly different from the description in the living standard__:\n\t * - There is no interface/class `XMLDocument`, it returns a `Document` instance.\n\t * - `contentType`, `encoding`, `mode`, `origin`, `url` fields are currently not declared.\n\t * - this implementation is not validating names or qualified names\n\t *   (when parsing XML strings, the SAX parser takes care of that)\n\t *\n\t * @param {string|null} namespaceURI\n\t * @param {string} qualifiedName\n\t * @param {DocumentType=null} doctype\n\t * @returns {Document}\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/createDocument MDN\n\t * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#Level-2-Core-DOM-createDocument DOM Level 2 Core (initial)\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocument  DOM Level 2 Core\n\t *\n\t * @see https://dom.spec.whatwg.org/#validate-and-extract DOM: Validate and extract\n\t * @see https://www.w3.org/TR/xml/#NT-NameStartChar XML Spec: Names\n\t * @see https://www.w3.org/TR/xml-names/#ns-qualnames XML Namespaces: Qualified names\n\t */\n\tcreateDocument: function(namespaceURI,  qualifiedName, doctype){\n\t\tvar doc = new Document();\n\t\tdoc.implementation = this;\n\t\tdoc.childNodes = new NodeList();\n\t\tdoc.doctype = doctype || null;\n\t\tif (doctype){\n\t\t\tdoc.appendChild(doctype);\n\t\t}\n\t\tif (qualifiedName){\n\t\t\tvar root = doc.createElementNS(namespaceURI, qualifiedName);\n\t\t\tdoc.appendChild(root);\n\t\t}\n\t\treturn doc;\n\t},\n\t/**\n\t * Returns a doctype, with the given `qualifiedName`, `publicId`, and `systemId`.\n\t *\n\t * __This behavior is slightly different from the in the specs__:\n\t * - this implementation is not validating names or qualified names\n\t *   (when parsing XML strings, the SAX parser takes care of that)\n\t *\n\t * @param {string} qualifiedName\n\t * @param {string} [publicId]\n\t * @param {string} [systemId]\n\t * @returns {DocumentType} which can either be used with `DOMImplementation.createDocument` upon document creation\n\t * \t\t\t\t  or can be put into the document via methods like `Node.insertBefore()` or `Node.replaceChild()`\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/createDocumentType MDN\n\t * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#Level-2-Core-DOM-createDocType DOM Level 2 Core\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocumenttype DOM Living Standard\n\t *\n\t * @see https://dom.spec.whatwg.org/#validate-and-extract DOM: Validate and extract\n\t * @see https://www.w3.org/TR/xml/#NT-NameStartChar XML Spec: Names\n\t * @see https://www.w3.org/TR/xml-names/#ns-qualnames XML Namespaces: Qualified names\n\t */\n\tcreateDocumentType: function(qualifiedName, publicId, systemId){\n\t\tvar node = new DocumentType();\n\t\tnode.name = qualifiedName;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.publicId = publicId || '';\n\t\tnode.systemId = systemId || '';\n\n\t\treturn node;\n\t}\n};\n\n\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-1950641247\n */\n\nfunction Node() {\n};\n\nNode.prototype = {\n\tfirstChild : null,\n\tlastChild : null,\n\tpreviousSibling : null,\n\tnextSibling : null,\n\tattributes : null,\n\tparentNode : null,\n\tchildNodes : null,\n\townerDocument : null,\n\tnodeValue : null,\n\tnamespaceURI : null,\n\tprefix : null,\n\tlocalName : null,\n\t// Modified in DOM Level 2:\n\tinsertBefore:function(newChild, refChild){//raises\n\t\treturn _insertBefore(this,newChild,refChild);\n\t},\n\treplaceChild:function(newChild, oldChild){//raises\n\t\t_insertBefore(this, newChild,oldChild, assertPreReplacementValidityInDocument);\n\t\tif(oldChild){\n\t\t\tthis.removeChild(oldChild);\n\t\t}\n\t},\n\tremoveChild:function(oldChild){\n\t\treturn _removeChild(this,oldChild);\n\t},\n\tappendChild:function(newChild){\n\t\treturn this.insertBefore(newChild,null);\n\t},\n\thasChildNodes:function(){\n\t\treturn this.firstChild != null;\n\t},\n\tcloneNode:function(deep){\n\t\treturn cloneNode(this.ownerDocument||this,this,deep);\n\t},\n\t// Modified in DOM Level 2:\n\tnormalize:function(){\n\t\tvar child = this.firstChild;\n\t\twhile(child){\n\t\t\tvar next = child.nextSibling;\n\t\t\tif(next && next.nodeType == TEXT_NODE && child.nodeType == TEXT_NODE){\n\t\t\t\tthis.removeChild(next);\n\t\t\t\tchild.appendData(next.data);\n\t\t\t}else{\n\t\t\t\tchild.normalize();\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t}\n\t},\n  \t// Introduced in DOM Level 2:\n\tisSupported:function(feature, version){\n\t\treturn this.ownerDocument.implementation.hasFeature(feature,version);\n\t},\n    // Introduced in DOM Level 2:\n    hasAttributes:function(){\n    \treturn this.attributes.length>0;\n    },\n\t/**\n\t * Look up the prefix associated to the given namespace URI, starting from this node.\n\t * **The default namespace declarations are ignored by this method.**\n\t * See Namespace Prefix Lookup for details on the algorithm used by this method.\n\t *\n\t * _Note: The implementation seems to be incomplete when compared to the algorithm described in the specs._\n\t *\n\t * @param {string | null} namespaceURI\n\t * @returns {string | null}\n\t * @see https://www.w3.org/TR/DOM-Level-3-Core/core.html#Node3-lookupNamespacePrefix\n\t * @see https://www.w3.org/TR/DOM-Level-3-Core/namespaces-algorithms.html#lookupNamespacePrefixAlgo\n\t * @see https://dom.spec.whatwg.org/#dom-node-lookupprefix\n\t * @see https://github.com/xmldom/xmldom/issues/322\n\t */\n    lookupPrefix:function(namespaceURI){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\t//console.dir(map)\n    \t\tif(map){\n    \t\t\tfor(var n in map){\n\t\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(map, n) && map[n] === namespaceURI) {\n\t\t\t\t\t\t\treturn n;\n\t\t\t\t\t\t}\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    // Introduced in DOM Level 3:\n    lookupNamespaceURI:function(prefix){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\t//console.dir(map)\n    \t\tif(map){\n    \t\t\tif(Object.prototype.hasOwnProperty.call(map, prefix)){\n    \t\t\t\treturn map[prefix] ;\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    // Introduced in DOM Level 3:\n    isDefaultNamespace:function(namespaceURI){\n    \tvar prefix = this.lookupPrefix(namespaceURI);\n    \treturn prefix == null;\n    }\n};\n\n\nfunction _xmlEncoder(c){\n\treturn c == '<' && '&lt;' ||\n         c == '>' && '&gt;' ||\n         c == '&' && '&amp;' ||\n         c == '\"' && '&quot;' ||\n         '&#'+c.charCodeAt()+';'\n}\n\n\ncopy(NodeType,Node);\ncopy(NodeType,Node.prototype);\n\n/**\n * @param callback return true for continue,false for break\n * @return boolean true: break visit;\n */\nfunction _visitNode(node,callback){\n\tif(callback(node)){\n\t\treturn true;\n\t}\n\tif(node = node.firstChild){\n\t\tdo{\n\t\t\tif(_visitNode(node,callback)){return true}\n        }while(node=node.nextSibling)\n    }\n}\n\n\n\nfunction Document(){\n\tthis.ownerDocument = this;\n}\n\nfunction _onAddAttribute(doc,el,newAttr){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns === NAMESPACE.XMLNS){\n\t\t//update namespace\n\t\tel._nsMap[newAttr.prefix?newAttr.localName:''] = newAttr.value\n\t}\n}\n\nfunction _onRemoveAttribute(doc,el,newAttr,remove){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns === NAMESPACE.XMLNS){\n\t\t//update namespace\n\t\tdelete el._nsMap[newAttr.prefix?newAttr.localName:'']\n\t}\n}\n\n/**\n * Updates `el.childNodes`, updating the indexed items and it's `length`.\n * Passing `newChild` means it will be appended.\n * Otherwise it's assumed that an item has been removed,\n * and `el.firstNode` and it's `.nextSibling` are used\n * to walk the current list of child nodes.\n *\n * @param {Document} doc\n * @param {Node} el\n * @param {Node} [newChild]\n * @private\n */\nfunction _onUpdateChild (doc, el, newChild) {\n\tif(doc && doc._inc){\n\t\tdoc._inc++;\n\t\t//update childNodes\n\t\tvar cs = el.childNodes;\n\t\tif (newChild) {\n\t\t\tcs[cs.length++] = newChild;\n\t\t} else {\n\t\t\tvar child = el.firstChild;\n\t\t\tvar i = 0;\n\t\t\twhile (child) {\n\t\t\t\tcs[i++] = child;\n\t\t\t\tchild = child.nextSibling;\n\t\t\t}\n\t\t\tcs.length = i;\n\t\t\tdelete cs[cs.length];\n\t\t}\n\t}\n}\n\n/**\n * Removes the connections between `parentNode` and `child`\n * and any existing `child.previousSibling` or `child.nextSibling`.\n *\n * @see https://github.com/xmldom/xmldom/issues/135\n * @see https://github.com/xmldom/xmldom/issues/145\n *\n * @param {Node} parentNode\n * @param {Node} child\n * @returns {Node} the child that was removed.\n * @private\n */\nfunction _removeChild (parentNode, child) {\n\tvar previous = child.previousSibling;\n\tvar next = child.nextSibling;\n\tif (previous) {\n\t\tprevious.nextSibling = next;\n\t} else {\n\t\tparentNode.firstChild = next;\n\t}\n\tif (next) {\n\t\tnext.previousSibling = previous;\n\t} else {\n\t\tparentNode.lastChild = previous;\n\t}\n\tchild.parentNode = null;\n\tchild.previousSibling = null;\n\tchild.nextSibling = null;\n\t_onUpdateChild(parentNode.ownerDocument, parentNode);\n\treturn child;\n}\n\n/**\n * Returns `true` if `node` can be a parent for insertion.\n * @param {Node} node\n * @returns {boolean}\n */\nfunction hasValidParentNodeType(node) {\n\treturn (\n\t\tnode &&\n\t\t(node.nodeType === Node.DOCUMENT_NODE || node.nodeType === Node.DOCUMENT_FRAGMENT_NODE || node.nodeType === Node.ELEMENT_NODE)\n\t);\n}\n\n/**\n * Returns `true` if `node` can be inserted according to it's `nodeType`.\n * @param {Node} node\n * @returns {boolean}\n */\nfunction hasInsertableNodeType(node) {\n\treturn (\n\t\tnode &&\n\t\t(isElementNode(node) ||\n\t\t\tisTextNode(node) ||\n\t\t\tisDocTypeNode(node) ||\n\t\t\tnode.nodeType === Node.DOCUMENT_FRAGMENT_NODE ||\n\t\t\tnode.nodeType === Node.COMMENT_NODE ||\n\t\t\tnode.nodeType === Node.PROCESSING_INSTRUCTION_NODE)\n\t);\n}\n\n/**\n * Returns true if `node` is a DOCTYPE node\n * @param {Node} node\n * @returns {boolean}\n */\nfunction isDocTypeNode(node) {\n\treturn node && node.nodeType === Node.DOCUMENT_TYPE_NODE;\n}\n\n/**\n * Returns true if the node is an element\n * @param {Node} node\n * @returns {boolean}\n */\nfunction isElementNode(node) {\n\treturn node && node.nodeType === Node.ELEMENT_NODE;\n}\n/**\n * Returns true if `node` is a text node\n * @param {Node} node\n * @returns {boolean}\n */\nfunction isTextNode(node) {\n\treturn node && node.nodeType === Node.TEXT_NODE;\n}\n\n/**\n * Check if en element node can be inserted before `child`, or at the end if child is falsy,\n * according to the presence and position of a doctype node on the same level.\n *\n * @param {Document} doc The document node\n * @param {Node} child the node that would become the nextSibling if the element would be inserted\n * @returns {boolean} `true` if an element can be inserted before child\n * @private\n * https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n */\nfunction isElementInsertionPossible(doc, child) {\n\tvar parentChildNodes = doc.childNodes || [];\n\tif (find(parentChildNodes, isElementNode) || isDocTypeNode(child)) {\n\t\treturn false;\n\t}\n\tvar docTypeNode = find(parentChildNodes, isDocTypeNode);\n\treturn !(child && docTypeNode && parentChildNodes.indexOf(docTypeNode) > parentChildNodes.indexOf(child));\n}\n\n/**\n * Check if en element node can be inserted before `child`, or at the end if child is falsy,\n * according to the presence and position of a doctype node on the same level.\n *\n * @param {Node} doc The document node\n * @param {Node} child the node that would become the nextSibling if the element would be inserted\n * @returns {boolean} `true` if an element can be inserted before child\n * @private\n * https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n */\nfunction isElementReplacementPossible(doc, child) {\n\tvar parentChildNodes = doc.childNodes || [];\n\n\tfunction hasElementChildThatIsNotChild(node) {\n\t\treturn isElementNode(node) && node !== child;\n\t}\n\n\tif (find(parentChildNodes, hasElementChildThatIsNotChild)) {\n\t\treturn false;\n\t}\n\tvar docTypeNode = find(parentChildNodes, isDocTypeNode);\n\treturn !(child && docTypeNode && parentChildNodes.indexOf(docTypeNode) > parentChildNodes.indexOf(child));\n}\n\n/**\n * @private\n * Steps 1-5 of the checks before inserting and before replacing a child are the same.\n *\n * @param {Node} parent the parent node to insert `node` into\n * @param {Node} node the node to insert\n * @param {Node=} child the node that should become the `nextSibling` of `node`\n * @returns {Node}\n * @throws DOMException for several node combinations that would create a DOM that is not well-formed.\n * @throws DOMException if `child` is provided but is not a child of `parent`.\n * @see https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n * @see https://dom.spec.whatwg.org/#concept-node-replace\n */\nfunction assertPreInsertionValidity1to5(parent, node, child) {\n\t// 1. If `parent` is not a Document, DocumentFragment, or Element node, then throw a \"HierarchyRequestError\" DOMException.\n\tif (!hasValidParentNodeType(parent)) {\n\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Unexpected parent node type ' + parent.nodeType);\n\t}\n\t// 2. If `node` is a host-including inclusive ancestor of `parent`, then throw a \"HierarchyRequestError\" DOMException.\n\t// not implemented!\n\t// 3. If `child` is non-null and its parent is not `parent`, then throw a \"NotFoundError\" DOMException.\n\tif (child && child.parentNode !== parent) {\n\t\tthrow new DOMException(NOT_FOUND_ERR, 'child not in parent');\n\t}\n\tif (\n\t\t// 4. If `node` is not a DocumentFragment, DocumentType, Element, or CharacterData node, then throw a \"HierarchyRequestError\" DOMException.\n\t\t!hasInsertableNodeType(node) ||\n\t\t// 5. If either `node` is a Text node and `parent` is a document,\n\t\t// the sax parser currently adds top level text nodes, this will be fixed in 0.9.0\n\t\t// || (node.nodeType === Node.TEXT_NODE && parent.nodeType === Node.DOCUMENT_NODE)\n\t\t// or `node` is a doctype and `parent` is not a document, then throw a \"HierarchyRequestError\" DOMException.\n\t\t(isDocTypeNode(node) && parent.nodeType !== Node.DOCUMENT_NODE)\n\t) {\n\t\tthrow new DOMException(\n\t\t\tHIERARCHY_REQUEST_ERR,\n\t\t\t'Unexpected node type ' + node.nodeType + ' for parent node type ' + parent.nodeType\n\t\t);\n\t}\n}\n\n/**\n * @private\n * Step 6 of the checks before inserting and before replacing a child are different.\n *\n * @param {Document} parent the parent node to insert `node` into\n * @param {Node} node the node to insert\n * @param {Node | undefined} child the node that should become the `nextSibling` of `node`\n * @returns {Node}\n * @throws DOMException for several node combinations that would create a DOM that is not well-formed.\n * @throws DOMException if `child` is provided but is not a child of `parent`.\n * @see https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n * @see https://dom.spec.whatwg.org/#concept-node-replace\n */\nfunction assertPreInsertionValidityInDocument(parent, node, child) {\n\tvar parentChildNodes = parent.childNodes || [];\n\tvar nodeChildNodes = node.childNodes || [];\n\n\t// DocumentFragment\n\tif (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n\t\tvar nodeChildElements = nodeChildNodes.filter(isElementNode);\n\t\t// If node has more than one element child or has a Text node child.\n\t\tif (nodeChildElements.length > 1 || find(nodeChildNodes, isTextNode)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'More than one element or text in fragment');\n\t\t}\n\t\t// Otherwise, if `node` has one element child and either `parent` has an element child,\n\t\t// `child` is a doctype, or `child` is non-null and a doctype is following `child`.\n\t\tif (nodeChildElements.length === 1 && !isElementInsertionPossible(parent, child)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Element in fragment can not be inserted before doctype');\n\t\t}\n\t}\n\t// Element\n\tif (isElementNode(node)) {\n\t\t// `parent` has an element child, `child` is a doctype,\n\t\t// or `child` is non-null and a doctype is following `child`.\n\t\tif (!isElementInsertionPossible(parent, child)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Only one element can be added and only after doctype');\n\t\t}\n\t}\n\t// DocumentType\n\tif (isDocTypeNode(node)) {\n\t\t// `parent` has a doctype child,\n\t\tif (find(parentChildNodes, isDocTypeNode)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Only one doctype is allowed');\n\t\t}\n\t\tvar parentElementChild = find(parentChildNodes, isElementNode);\n\t\t// `child` is non-null and an element is preceding `child`,\n\t\tif (child && parentChildNodes.indexOf(parentElementChild) < parentChildNodes.indexOf(child)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Doctype can only be inserted before an element');\n\t\t}\n\t\t// or `child` is null and `parent` has an element child.\n\t\tif (!child && parentElementChild) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Doctype can not be appended since element is present');\n\t\t}\n\t}\n}\n\n/**\n * @private\n * Step 6 of the checks before inserting and before replacing a child are different.\n *\n * @param {Document} parent the parent node to insert `node` into\n * @param {Node} node the node to insert\n * @param {Node | undefined} child the node that should become the `nextSibling` of `node`\n * @returns {Node}\n * @throws DOMException for several node combinations that would create a DOM that is not well-formed.\n * @throws DOMException if `child` is provided but is not a child of `parent`.\n * @see https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n * @see https://dom.spec.whatwg.org/#concept-node-replace\n */\nfunction assertPreReplacementValidityInDocument(parent, node, child) {\n\tvar parentChildNodes = parent.childNodes || [];\n\tvar nodeChildNodes = node.childNodes || [];\n\n\t// DocumentFragment\n\tif (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n\t\tvar nodeChildElements = nodeChildNodes.filter(isElementNode);\n\t\t// If `node` has more than one element child or has a Text node child.\n\t\tif (nodeChildElements.length > 1 || find(nodeChildNodes, isTextNode)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'More than one element or text in fragment');\n\t\t}\n\t\t// Otherwise, if `node` has one element child and either `parent` has an element child that is not `child` or a doctype is following `child`.\n\t\tif (nodeChildElements.length === 1 && !isElementReplacementPossible(parent, child)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Element in fragment can not be inserted before doctype');\n\t\t}\n\t}\n\t// Element\n\tif (isElementNode(node)) {\n\t\t// `parent` has an element child that is not `child` or a doctype is following `child`.\n\t\tif (!isElementReplacementPossible(parent, child)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Only one element can be added and only after doctype');\n\t\t}\n\t}\n\t// DocumentType\n\tif (isDocTypeNode(node)) {\n\t\tfunction hasDoctypeChildThatIsNotChild(node) {\n\t\t\treturn isDocTypeNode(node) && node !== child;\n\t\t}\n\n\t\t// `parent` has a doctype child that is not `child`,\n\t\tif (find(parentChildNodes, hasDoctypeChildThatIsNotChild)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Only one doctype is allowed');\n\t\t}\n\t\tvar parentElementChild = find(parentChildNodes, isElementNode);\n\t\t// or an element is preceding `child`.\n\t\tif (child && parentChildNodes.indexOf(parentElementChild) < parentChildNodes.indexOf(child)) {\n\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Doctype can only be inserted before an element');\n\t\t}\n\t}\n}\n\n/**\n * @private\n * @param {Node} parent the parent node to insert `node` into\n * @param {Node} node the node to insert\n * @param {Node=} child the node that should become the `nextSibling` of `node`\n * @returns {Node}\n * @throws DOMException for several node combinations that would create a DOM that is not well-formed.\n * @throws DOMException if `child` is provided but is not a child of `parent`.\n * @see https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n */\nfunction _insertBefore(parent, node, child, _inDocumentAssertion) {\n\t// To ensure pre-insertion validity of a node into a parent before a child, run these steps:\n\tassertPreInsertionValidity1to5(parent, node, child);\n\n\t// If parent is a document, and any of the statements below, switched on the interface node implements,\n\t// are true, then throw a \"HierarchyRequestError\" DOMException.\n\tif (parent.nodeType === Node.DOCUMENT_NODE) {\n\t\t(_inDocumentAssertion || assertPreInsertionValidityInDocument)(parent, node, child);\n\t}\n\n\tvar cp = node.parentNode;\n\tif(cp){\n\t\tcp.removeChild(node);//remove and update\n\t}\n\tif(node.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\tvar newFirst = node.firstChild;\n\t\tif (newFirst == null) {\n\t\t\treturn node;\n\t\t}\n\t\tvar newLast = node.lastChild;\n\t}else{\n\t\tnewFirst = newLast = node;\n\t}\n\tvar pre = child ? child.previousSibling : parent.lastChild;\n\n\tnewFirst.previousSibling = pre;\n\tnewLast.nextSibling = child;\n\n\n\tif(pre){\n\t\tpre.nextSibling = newFirst;\n\t}else{\n\t\tparent.firstChild = newFirst;\n\t}\n\tif(child == null){\n\t\tparent.lastChild = newLast;\n\t}else{\n\t\tchild.previousSibling = newLast;\n\t}\n\tdo{\n\t\tnewFirst.parentNode = parent;\n\t\t// Update ownerDocument for each node being inserted\n\t\tvar targetDoc = parent.ownerDocument || parent;\n\t\t_updateOwnerDocument(newFirst, targetDoc);\n\t}while(newFirst !== newLast && (newFirst= newFirst.nextSibling))\n\t_onUpdateChild(parent.ownerDocument||parent, parent);\n\t//console.log(parent.lastChild.nextSibling == null)\n\tif (node.nodeType == DOCUMENT_FRAGMENT_NODE) {\n\t\tnode.firstChild = node.lastChild = null;\n\t}\n\treturn node;\n}\n\n/**\n * Recursively updates the ownerDocument property for a node and all its descendants\n * @param {Node} node\n * @param {Document} newOwnerDocument\n * @private\n */\nfunction _updateOwnerDocument(node, newOwnerDocument) {\n\tif (node.ownerDocument === newOwnerDocument) {\n\t\treturn;\n\t}\n\t\n\tnode.ownerDocument = newOwnerDocument;\n\t\n\t// Update attributes if this is an element\n\tif (node.nodeType === ELEMENT_NODE && node.attributes) {\n\t\tfor (var i = 0; i < node.attributes.length; i++) {\n\t\t\tvar attr = node.attributes.item(i);\n\t\t\tif (attr) {\n\t\t\t\tattr.ownerDocument = newOwnerDocument;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t// Recursively update child nodes\n\tvar child = node.firstChild;\n\twhile (child) {\n\t\t_updateOwnerDocument(child, newOwnerDocument);\n\t\tchild = child.nextSibling;\n\t}\n}\n\n/**\n * Appends `newChild` to `parentNode`.\n * If `newChild` is already connected to a `parentNode` it is first removed from it.\n *\n * @see https://github.com/xmldom/xmldom/issues/135\n * @see https://github.com/xmldom/xmldom/issues/145\n * @param {Node} parentNode\n * @param {Node} newChild\n * @returns {Node}\n * @private\n */\nfunction _appendSingleChild (parentNode, newChild) {\n\tif (newChild.parentNode) {\n\t\tnewChild.parentNode.removeChild(newChild);\n\t}\n\tnewChild.parentNode = parentNode;\n\tnewChild.previousSibling = parentNode.lastChild;\n\tnewChild.nextSibling = null;\n\tif (newChild.previousSibling) {\n\t\tnewChild.previousSibling.nextSibling = newChild;\n\t} else {\n\t\tparentNode.firstChild = newChild;\n\t}\n\tparentNode.lastChild = newChild;\n\t_onUpdateChild(parentNode.ownerDocument, parentNode, newChild);\n\t\n\t// Update ownerDocument for the new child and all its descendants\n\tvar targetDoc = parentNode.ownerDocument || parentNode;\n\t_updateOwnerDocument(newChild, targetDoc);\n\t\n\treturn newChild;\n}\n\nDocument.prototype = {\n\t//implementation : null,\n\tnodeName :  '#document',\n\tnodeType :  DOCUMENT_NODE,\n\t/**\n\t * The DocumentType node of the document.\n\t *\n\t * @readonly\n\t * @type DocumentType\n\t */\n\tdoctype :  null,\n\tdocumentElement :  null,\n\t_inc : 1,\n\n\tinsertBefore :  function(newChild, refChild){//raises\n\t\tif(newChild.nodeType == DOCUMENT_FRAGMENT_NODE){\n\t\t\tvar child = newChild.firstChild;\n\t\t\twhile(child){\n\t\t\t\tvar next = child.nextSibling;\n\t\t\t\tthis.insertBefore(child,refChild);\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t\treturn newChild;\n\t\t}\n\t\t_insertBefore(this, newChild, refChild);\n\t\t_updateOwnerDocument(newChild, this);\n\t\tif (this.documentElement === null && newChild.nodeType === ELEMENT_NODE) {\n\t\t\tthis.documentElement = newChild;\n\t\t}\n\n\t\treturn newChild;\n\t},\n\tremoveChild :  function(oldChild){\n\t\tif(this.documentElement == oldChild){\n\t\t\tthis.documentElement = null;\n\t\t}\n\t\treturn _removeChild(this,oldChild);\n\t},\n\treplaceChild: function (newChild, oldChild) {\n\t\t//raises\n\t\t_insertBefore(this, newChild, oldChild, assertPreReplacementValidityInDocument);\n\t\t_updateOwnerDocument(newChild, this);\n\t\tif (oldChild) {\n\t\t\tthis.removeChild(oldChild);\n\t\t}\n\t\tif (isElementNode(newChild)) {\n\t\t\tthis.documentElement = newChild;\n\t\t}\n\t},\n\t// Introduced in DOM Level 2:\n\timportNode : function(importedNode,deep){\n\t\treturn importNode(this,importedNode,deep);\n\t},\n\t// Introduced in DOM Level 2:\n\tgetElementById :\tfunction(id){\n\t\tvar rtv = null;\n\t\t_visitNode(this.documentElement,function(node){\n\t\t\tif(node.nodeType == ELEMENT_NODE){\n\t\t\t\tif(node.getAttribute('id') == id){\n\t\t\t\t\trtv = node;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\treturn rtv;\n\t},\n\n\t/**\n\t * The `getElementsByClassName` method of `Document` interface returns an array-like object\n\t * of all child elements which have **all** of the given class name(s).\n\t *\n\t * Returns an empty list if `classeNames` is an empty string or only contains HTML white space characters.\n\t *\n\t *\n\t * Warning: This is a live LiveNodeList.\n\t * Changes in the DOM will reflect in the array as the changes occur.\n\t * If an element selected by this array no longer qualifies for the selector,\n\t * it will automatically be removed. Be aware of this for iteration purposes.\n\t *\n\t * @param {string} classNames is a string representing the class name(s) to match; multiple class names are separated by (ASCII-)whitespace\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementsByClassName\n\t * @see https://dom.spec.whatwg.org/#concept-getelementsbyclassname\n\t */\n\tgetElementsByClassName: function(classNames) {\n\t\tvar classNamesSet = toOrderedSet(classNames)\n\t\treturn new LiveNodeList(this, function(base) {\n\t\t\tvar ls = [];\n\t\t\tif (classNamesSet.length > 0) {\n\t\t\t\t_visitNode(base.documentElement, function(node) {\n\t\t\t\t\tif(node !== base && node.nodeType === ELEMENT_NODE) {\n\t\t\t\t\t\tvar nodeClassNames = node.getAttribute('class')\n\t\t\t\t\t\t// can be null if the attribute does not exist\n\t\t\t\t\t\tif (nodeClassNames) {\n\t\t\t\t\t\t\t// before splitting and iterating just compare them for the most common case\n\t\t\t\t\t\t\tvar matches = classNames === nodeClassNames;\n\t\t\t\t\t\t\tif (!matches) {\n\t\t\t\t\t\t\t\tvar nodeClassNamesSet = toOrderedSet(nodeClassNames)\n\t\t\t\t\t\t\t\tmatches = classNamesSet.every(arrayIncludes(nodeClassNamesSet))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(matches) {\n\t\t\t\t\t\t\t\tls.push(node);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn ls;\n\t\t});\n\t},\n\n\t//document factory method:\n\tcreateElement :\tfunction(tagName){\n\t\tvar node = new Element();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = tagName;\n\t\tnode.tagName = tagName;\n\t\tnode.localName = tagName;\n\t\tnode.childNodes = new NodeList();\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\tcreateDocumentFragment :\tfunction(){\n\t\tvar node = new DocumentFragment();\n\t\tnode.ownerDocument = this;\n\t\tnode.childNodes = new NodeList();\n\t\treturn node;\n\t},\n\tcreateTextNode :\tfunction(data){\n\t\tvar node = new Text();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateComment :\tfunction(data){\n\t\tvar node = new Comment();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateCDATASection :\tfunction(data){\n\t\tvar node = new CDATASection();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateProcessingInstruction :\tfunction(target,data){\n\t\tvar node = new ProcessingInstruction();\n\t\tnode.ownerDocument = this;\n\t\tnode.tagName = node.nodeName = node.target = target;\n\t\tnode.nodeValue = node.data = data;\n\t\treturn node;\n\t},\n\tcreateAttribute :\tfunction(name){\n\t\tvar node = new Attr();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.name = name;\n\t\tnode.nodeName\t= name;\n\t\tnode.localName = name;\n\t\tnode.specified = true;\n\t\treturn node;\n\t},\n\tcreateEntityReference :\tfunction(name){\n\t\tvar node = new EntityReference();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.nodeName\t= name;\n\t\treturn node;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateElementNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Element();\n\t\tvar pl = qualifiedName.split(':');\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tnode.childNodes = new NodeList();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.tagName = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\t//el.prefix = null;\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateAttributeNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Attr();\n\t\tvar pl = qualifiedName.split(':');\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.name = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tnode.specified = true;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\t//el.prefix = null;\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\treturn node;\n\t}\n};\n_extends(Document,Node);\n\n\nfunction Element() {\n\tthis._nsMap = {};\n};\nElement.prototype = {\n\tnodeType : ELEMENT_NODE,\n\thasAttribute : function(name){\n\t\treturn this.getAttributeNode(name)!=null;\n\t},\n\tgetAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name);\n\t\treturn attr && attr.value || '';\n\t},\n\tgetAttributeNode : function(name){\n\t\treturn this.attributes.getNamedItem(name);\n\t},\n\tsetAttribute : function(name, value){\n\t\tvar attr = this.ownerDocument.createAttribute(name);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr)\n\t},\n\tremoveAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name)\n\t\tattr && this.removeAttributeNode(attr);\n\t},\n\n\t//four real opeartion method\n\tappendChild:function(newChild){\n\t\tif(newChild.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\t\treturn this.insertBefore(newChild,null);\n\t\t}else{\n\t\t\treturn _appendSingleChild(this,newChild);\n\t\t}\n\t},\n\tsetAttributeNode : function(newAttr){\n\t\treturn this.attributes.setNamedItem(newAttr);\n\t},\n\tsetAttributeNodeNS : function(newAttr){\n\t\treturn this.attributes.setNamedItemNS(newAttr);\n\t},\n\tremoveAttributeNode : function(oldAttr){\n\t\t//console.log(this == oldAttr.ownerElement)\n\t\treturn this.attributes.removeNamedItem(oldAttr.nodeName);\n\t},\n\t//get real attribute name,and remove it by removeAttributeNode\n\tremoveAttributeNS : function(namespaceURI, localName){\n\t\tvar old = this.getAttributeNodeNS(namespaceURI, localName);\n\t\told && this.removeAttributeNode(old);\n\t},\n\n\thasAttributeNS : function(namespaceURI, localName){\n\t\treturn this.getAttributeNodeNS(namespaceURI, localName)!=null;\n\t},\n\tgetAttributeNS : function(namespaceURI, localName){\n\t\tvar attr = this.getAttributeNodeNS(namespaceURI, localName);\n\t\treturn attr && attr.value || '';\n\t},\n\tsetAttributeNS : function(namespaceURI, qualifiedName, value){\n\t\tvar attr = this.ownerDocument.createAttributeNS(namespaceURI, qualifiedName);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr)\n\t},\n\tgetAttributeNodeNS : function(namespaceURI, localName){\n\t\treturn this.attributes.getNamedItemNS(namespaceURI, localName);\n\t},\n\n\tgetElementsByTagName : function(tagName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType == ELEMENT_NODE && (tagName === '*' || node.tagName == tagName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\t\t});\n\t},\n\tgetElementsByTagNameNS : function(namespaceURI, localName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType === ELEMENT_NODE && (namespaceURI === '*' || node.namespaceURI === namespaceURI) && (localName === '*' || node.localName == localName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\n\t\t});\n\t}\n};\nDocument.prototype.getElementsByTagName = Element.prototype.getElementsByTagName;\nDocument.prototype.getElementsByTagNameNS = Element.prototype.getElementsByTagNameNS;\n\n\n_extends(Element,Node);\nfunction Attr() {\n};\nAttr.prototype.nodeType = ATTRIBUTE_NODE;\n_extends(Attr,Node);\n\n\nfunction CharacterData() {\n};\nCharacterData.prototype = {\n\tdata : '',\n\tsubstringData : function(offset, count) {\n\t\treturn this.data.substring(offset, offset+count);\n\t},\n\tappendData: function(text) {\n\t\ttext = this.data+text;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t},\n\tinsertData: function(offset,text) {\n\t\tthis.replaceData(offset,0,text);\n\n\t},\n\tappendChild:function(newChild){\n\t\tthrow new Error(ExceptionMessage[HIERARCHY_REQUEST_ERR])\n\t},\n\tdeleteData: function(offset, count) {\n\t\tthis.replaceData(offset,count,\"\");\n\t},\n\treplaceData: function(offset, count, text) {\n\t\tvar start = this.data.substring(0,offset);\n\t\tvar end = this.data.substring(offset+count);\n\t\ttext = start + text + end;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t}\n}\n_extends(CharacterData,Node);\nfunction Text() {\n};\nText.prototype = {\n\tnodeName : \"#text\",\n\tnodeType : TEXT_NODE,\n\tsplitText : function(offset) {\n\t\tvar text = this.data;\n\t\tvar newText = text.substring(offset);\n\t\ttext = text.substring(0, offset);\n\t\tthis.data = this.nodeValue = text;\n\t\tthis.length = text.length;\n\t\tvar newNode = this.ownerDocument.createTextNode(newText);\n\t\tif(this.parentNode){\n\t\t\tthis.parentNode.insertBefore(newNode, this.nextSibling);\n\t\t}\n\t\treturn newNode;\n\t}\n}\n_extends(Text,CharacterData);\nfunction Comment() {\n};\nComment.prototype = {\n\tnodeName : \"#comment\",\n\tnodeType : COMMENT_NODE\n}\n_extends(Comment,CharacterData);\n\nfunction CDATASection() {\n};\nCDATASection.prototype = {\n\tnodeName : \"#cdata-section\",\n\tnodeType : CDATA_SECTION_NODE\n}\n_extends(CDATASection,CharacterData);\n\n\nfunction DocumentType() {\n};\nDocumentType.prototype.nodeType = DOCUMENT_TYPE_NODE;\n_extends(DocumentType,Node);\n\nfunction Notation() {\n};\nNotation.prototype.nodeType = NOTATION_NODE;\n_extends(Notation,Node);\n\nfunction Entity() {\n};\nEntity.prototype.nodeType = ENTITY_NODE;\n_extends(Entity,Node);\n\nfunction EntityReference() {\n};\nEntityReference.prototype.nodeType = ENTITY_REFERENCE_NODE;\n_extends(EntityReference,Node);\n\nfunction DocumentFragment() {\n};\nDocumentFragment.prototype.nodeName =\t\"#document-fragment\";\nDocumentFragment.prototype.nodeType =\tDOCUMENT_FRAGMENT_NODE;\n_extends(DocumentFragment,Node);\n\n\nfunction ProcessingInstruction() {\n}\nProcessingInstruction.prototype.nodeType = PROCESSING_INSTRUCTION_NODE;\n_extends(ProcessingInstruction,Node);\nfunction XMLSerializer(){}\nXMLSerializer.prototype.serializeToString = function(node,isHtml,nodeFilter){\n\treturn nodeSerializeToString.call(node,isHtml,nodeFilter);\n}\nNode.prototype.toString = nodeSerializeToString;\nfunction nodeSerializeToString(isHtml,nodeFilter){\n\tvar buf = [];\n\tvar refNode = this.nodeType == 9 && this.documentElement || this;\n\tvar prefix = refNode.prefix;\n\tvar uri = refNode.namespaceURI;\n\n\tif(uri && prefix == null){\n\t\t//console.log(prefix)\n\t\tvar prefix = refNode.lookupPrefix(uri);\n\t\tif(prefix == null){\n\t\t\t//isHTML = true;\n\t\t\tvar visibleNamespaces=[\n\t\t\t{namespace:uri,prefix:null}\n\t\t\t//{namespace:uri,prefix:''}\n\t\t\t]\n\t\t}\n\t}\n\tserializeToString(this,buf,isHtml,nodeFilter,visibleNamespaces);\n\t//console.log('###',this.nodeType,uri,prefix,buf.join(''))\n\treturn buf.join('');\n}\n\nfunction needNamespaceDefine(node, isHTML, visibleNamespaces) {\n\tvar prefix = node.prefix || '';\n\tvar uri = node.namespaceURI;\n\t// According to [Namespaces in XML 1.0](https://www.w3.org/TR/REC-xml-names/#ns-using) ,\n\t// and more specifically https://www.w3.org/TR/REC-xml-names/#nsc-NoPrefixUndecl :\n\t// > In a namespace declaration for a prefix [...], the attribute value MUST NOT be empty.\n\t// in a similar manner [Namespaces in XML 1.1](https://www.w3.org/TR/xml-names11/#ns-using)\n\t// and more specifically https://www.w3.org/TR/xml-names11/#nsc-NSDeclared :\n\t// > [...] Furthermore, the attribute value [...] must not be an empty string.\n\t// so serializing empty namespace value like xmlns:ds=\"\" would produce an invalid XML document.\n\tif (!uri) {\n\t\treturn false;\n\t}\n\tif (prefix === \"xml\" && uri === NAMESPACE.XML || uri === NAMESPACE.XMLNS) {\n\t\treturn false;\n\t}\n\n\tvar i = visibleNamespaces.length\n\twhile (i--) {\n\t\tvar ns = visibleNamespaces[i];\n\t\t// get namespace prefix\n\t\tif (ns.prefix === prefix) {\n\t\t\treturn ns.namespace !== uri;\n\t\t}\n\t}\n\treturn true;\n}\n/**\n * Well-formed constraint: No < in Attribute Values\n * > The replacement text of any entity referred to directly or indirectly\n * > in an attribute value must not contain a <.\n * @see https://www.w3.org/TR/xml11/#CleanAttrVals\n * @see https://www.w3.org/TR/xml11/#NT-AttValue\n *\n * Literal whitespace other than space that appear in attribute values\n * are serialized as their entity references, so they will be preserved.\n * (In contrast to whitespace literals in the input which are normalized to spaces)\n * @see https://www.w3.org/TR/xml11/#AVNormalize\n * @see https://w3c.github.io/DOM-Parsing/#serializing-an-element-s-attributes\n */\nfunction addSerializedAttribute(buf, qualifiedName, value) {\n\tbuf.push(' ', qualifiedName, '=\"', value.replace(/[<>&\"\\t\\n\\r]/g, _xmlEncoder), '\"')\n}\n\nfunction serializeToString(node,buf,isHTML,nodeFilter,visibleNamespaces){\n\tif (!visibleNamespaces) {\n\t\tvisibleNamespaces = [];\n\t}\n\n\tif(nodeFilter){\n\t\tnode = nodeFilter(node);\n\t\tif(node){\n\t\t\tif(typeof node == 'string'){\n\t\t\t\tbuf.push(node);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}else{\n\t\t\treturn;\n\t\t}\n\t\t//buf.sort.apply(attrs, attributeSorter);\n\t}\n\n\tswitch(node.nodeType){\n\tcase ELEMENT_NODE:\n\t\tvar attrs = node.attributes;\n\t\tvar len = attrs.length;\n\t\tvar child = node.firstChild;\n\t\tvar nodeName = node.tagName;\n\n\t\tisHTML = NAMESPACE.isHTML(node.namespaceURI) || isHTML\n\n\t\tvar prefixedNodeName = nodeName\n\t\tif (!isHTML && !node.prefix && node.namespaceURI) {\n\t\t\tvar defaultNS\n\t\t\t// lookup current default ns from `xmlns` attribute\n\t\t\tfor (var ai = 0; ai < attrs.length; ai++) {\n\t\t\t\tif (attrs.item(ai).name === 'xmlns') {\n\t\t\t\t\tdefaultNS = attrs.item(ai).value\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!defaultNS) {\n\t\t\t\t// lookup current default ns in visibleNamespaces\n\t\t\t\tfor (var nsi = visibleNamespaces.length - 1; nsi >= 0; nsi--) {\n\t\t\t\t\tvar namespace = visibleNamespaces[nsi]\n\t\t\t\t\tif (namespace.prefix === '' && namespace.namespace === node.namespaceURI) {\n\t\t\t\t\t\tdefaultNS = namespace.namespace\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (defaultNS !== node.namespaceURI) {\n\t\t\t\tfor (var nsi = visibleNamespaces.length - 1; nsi >= 0; nsi--) {\n\t\t\t\t\tvar namespace = visibleNamespaces[nsi]\n\t\t\t\t\tif (namespace.namespace === node.namespaceURI) {\n\t\t\t\t\t\tif (namespace.prefix) {\n\t\t\t\t\t\t\tprefixedNodeName = namespace.prefix + ':' + nodeName\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tbuf.push('<', prefixedNodeName);\n\n\t\tfor(var i=0;i<len;i++){\n\t\t\t// add namespaces for attributes\n\t\t\tvar attr = attrs.item(i);\n\t\t\tif (attr.prefix == 'xmlns') {\n\t\t\t\tvisibleNamespaces.push({ prefix: attr.localName, namespace: attr.value });\n\t\t\t}else if(attr.nodeName == 'xmlns'){\n\t\t\t\tvisibleNamespaces.push({ prefix: '', namespace: attr.value });\n\t\t\t}\n\t\t}\n\n\t\tfor(var i=0;i<len;i++){\n\t\t\tvar attr = attrs.item(i);\n\t\t\tif (needNamespaceDefine(attr,isHTML, visibleNamespaces)) {\n\t\t\t\tvar prefix = attr.prefix||'';\n\t\t\t\tvar uri = attr.namespaceURI;\n\t\t\t\taddSerializedAttribute(buf, prefix ? 'xmlns:' + prefix : \"xmlns\", uri);\n\t\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\n\t\t\t}\n\t\t\tserializeToString(attr,buf,isHTML,nodeFilter,visibleNamespaces);\n\t\t}\n\n\t\t// add namespace for current node\n\t\tif (nodeName === prefixedNodeName && needNamespaceDefine(node, isHTML, visibleNamespaces)) {\n\t\t\tvar prefix = node.prefix||'';\n\t\t\tvar uri = node.namespaceURI;\n\t\t\taddSerializedAttribute(buf, prefix ? 'xmlns:' + prefix : \"xmlns\", uri);\n\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\n\t\t}\n\n\t\tif(child || isHTML && !/^(?:meta|link|img|br|hr|input)$/i.test(nodeName)){\n\t\t\tbuf.push('>');\n\t\t\t//if is cdata child node\n\t\t\tif(isHTML && /^script$/i.test(nodeName)){\n\t\t\t\twhile(child){\n\t\t\t\t\tif(child.data){\n\t\t\t\t\t\tbuf.push(child.data);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tserializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n\t\t\t\t\t}\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}else\n\t\t\t{\n\t\t\t\twhile(child){\n\t\t\t\t\tserializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}\n\t\t\tbuf.push('</',prefixedNodeName,'>');\n\t\t}else{\n\t\t\tbuf.push('/>');\n\t\t}\n\t\t// remove added visible namespaces\n\t\t//visibleNamespaces.length = startVisibleNamespaces;\n\t\treturn;\n\tcase DOCUMENT_NODE:\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tserializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t\treturn;\n\tcase ATTRIBUTE_NODE:\n\t\treturn addSerializedAttribute(buf, node.name, node.value);\n\tcase TEXT_NODE:\n\t\t/**\n\t\t * The ampersand character (&) and the left angle bracket (<) must not appear in their literal form,\n\t\t * except when used as markup delimiters, or within a comment, a processing instruction, or a CDATA section.\n\t\t * If they are needed elsewhere, they must be escaped using either numeric character references or the strings\n\t\t * `&amp;` and `&lt;` respectively.\n\t\t * The right angle bracket (>) may be represented using the string \" &gt; \", and must, for compatibility,\n\t\t * be escaped using either `&gt;` or a character reference when it appears in the string `]]>` in content,\n\t\t * when that string is not marking the end of a CDATA section.\n\t\t *\n\t\t * In the content of elements, character data is any string of characters\n\t\t * which does not contain the start-delimiter of any markup\n\t\t * and does not include the CDATA-section-close delimiter, `]]>`.\n\t\t *\n\t\t * @see https://www.w3.org/TR/xml/#NT-CharData\n\t\t * @see https://w3c.github.io/DOM-Parsing/#xml-serializing-a-text-node\n\t\t */\n\t\treturn buf.push(node.data\n\t\t\t.replace(/[<&>]/g,_xmlEncoder)\n\t\t);\n\tcase CDATA_SECTION_NODE:\n\t\treturn buf.push( '<![CDATA[',node.data,']]>');\n\tcase COMMENT_NODE:\n\t\treturn buf.push( \"<!--\",node.data,\"-->\");\n\tcase DOCUMENT_TYPE_NODE:\n\t\tvar pubid = node.publicId;\n\t\tvar sysid = node.systemId;\n\t\tbuf.push('<!DOCTYPE ',node.name);\n\t\tif(pubid){\n\t\t\tbuf.push(' PUBLIC ', pubid);\n\t\t\tif (sysid && sysid!='.') {\n\t\t\t\tbuf.push(' ', sysid);\n\t\t\t}\n\t\t\tbuf.push('>');\n\t\t}else if(sysid && sysid!='.'){\n\t\t\tbuf.push(' SYSTEM ', sysid, '>');\n\t\t}else{\n\t\t\tvar sub = node.internalSubset;\n\t\t\tif(sub){\n\t\t\t\tbuf.push(\" [\",sub,\"]\");\n\t\t\t}\n\t\t\tbuf.push(\">\");\n\t\t}\n\t\treturn;\n\tcase PROCESSING_INSTRUCTION_NODE:\n\t\treturn buf.push( \"<?\",node.target,\" \",node.data,\"?>\");\n\tcase ENTITY_REFERENCE_NODE:\n\t\treturn buf.push( '&',node.nodeName,';');\n\t//case ENTITY_NODE:\n\t//case NOTATION_NODE:\n\tdefault:\n\t\tbuf.push('??',node.nodeName);\n\t}\n}\nfunction importNode(doc,node,deep){\n\tvar node2;\n\tswitch (node.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tnode2 = node.cloneNode(false);\n\t\tnode2.ownerDocument = doc;\n\t\t//var attrs = node2.attributes;\n\t\t//var len = attrs.length;\n\t\t//for(var i=0;i<len;i++){\n\t\t\t//node2.setAttributeNodeNS(importNode(doc,attrs.item(i),deep));\n\t\t//}\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tbreak;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t\tbreak;\n\t//case ENTITY_REFERENCE_NODE:\n\t//case PROCESSING_INSTRUCTION_NODE:\n\t////case TEXT_NODE:\n\t//case CDATA_SECTION_NODE:\n\t//case COMMENT_NODE:\n\t//\tdeep = false;\n\t//\tbreak;\n\t//case DOCUMENT_NODE:\n\t//case DOCUMENT_TYPE_NODE:\n\t//cannot be imported.\n\t//case ENTITY_NODE:\n\t//case NOTATION_NODE：\n\t//can not hit in level3\n\t//default:throw e;\n\t}\n\tif(!node2){\n\t\tnode2 = node.cloneNode(false);//false\n\t}\n\tnode2.ownerDocument = doc;\n\tnode2.parentNode = null;\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(importNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n//\n//var _relationMap = {firstChild:1,lastChild:1,previousSibling:1,nextSibling:1,\n//\t\t\t\t\tattributes:1,childNodes:1,parentNode:1,documentElement:1,doctype,};\nfunction cloneNode(doc,node,deep){\n\tvar node2 = new node.constructor();\n\tfor (var n in node) {\n\t\tif (Object.prototype.hasOwnProperty.call(node, n)) {\n\t\t\tvar v = node[n];\n\t\t\tif (typeof v != \"object\") {\n\t\t\t\tif (v != node2[n]) {\n\t\t\t\t\tnode2[n] = v;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tif(node.childNodes){\n\t\tnode2.childNodes = new NodeList();\n\t}\n\tnode2.ownerDocument = doc;\n\tswitch (node2.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tvar attrs\t= node.attributes;\n\t\tvar attrs2\t= node2.attributes = new NamedNodeMap();\n\t\tvar len = attrs.length\n\t\tattrs2._ownerElement = node2;\n\t\tfor(var i=0;i<len;i++){\n\t\t\tnode2.setAttributeNode(cloneNode(doc,attrs.item(i),true));\n\t\t}\n\t\tbreak;;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t}\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(cloneNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n\nfunction __set__(object,key,value){\n\tobject[key] = value\n}\n//do dynamic\ntry{\n\tif(Object.defineProperty){\n\t\tObject.defineProperty(LiveNodeList.prototype,'length',{\n\t\t\tget:function(){\n\t\t\t\t_updateLiveList(this);\n\t\t\t\treturn this.$$length;\n\t\t\t}\n\t\t});\n\n\t\tObject.defineProperty(Node.prototype,'textContent',{\n\t\t\tget:function(){\n\t\t\t\treturn getTextContent(this);\n\t\t\t},\n\n\t\t\tset:function(data){\n\t\t\t\tswitch(this.nodeType){\n\t\t\t\tcase ELEMENT_NODE:\n\t\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\t\t\twhile(this.firstChild){\n\t\t\t\t\t\tthis.removeChild(this.firstChild);\n\t\t\t\t\t}\n\t\t\t\t\tif(data || String(data)){\n\t\t\t\t\t\tthis.appendChild(this.ownerDocument.createTextNode(data));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthis.data = data;\n\t\t\t\t\tthis.value = data;\n\t\t\t\t\tthis.nodeValue = data;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\tfunction getTextContent(node){\n\t\t\tswitch(node.nodeType){\n\t\t\tcase ELEMENT_NODE:\n\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\t\tvar buf = [];\n\t\t\t\tnode = node.firstChild;\n\t\t\t\twhile(node){\n\t\t\t\t\tif(node.nodeType!==7 && node.nodeType !==8){\n\t\t\t\t\t\tbuf.push(getTextContent(node));\n\t\t\t\t\t}\n\t\t\t\t\tnode = node.nextSibling;\n\t\t\t\t}\n\t\t\t\treturn buf.join('');\n\t\t\tdefault:\n\t\t\t\treturn node.nodeValue;\n\t\t\t}\n\t\t}\n\n\t\t__set__ = function(object,key,value){\n\t\t\t//console.log(value)\n\t\t\tobject['$$'+key] = value\n\t\t}\n\t}\n}catch(e){//ie8\n}\n\n//if(typeof require == 'function'){\n\texports.DocumentType = DocumentType;\n\texports.DOMException = DOMException;\n\texports.DOMImplementation = DOMImplementation;\n\texports.Element = Element;\n\texports.Node = Node;\n\texports.NodeList = NodeList;\n\texports.XMLSerializer = XMLSerializer;\n//}\n","'use strict';\n\nvar freeze = require('./conventions').freeze;\n\n/**\n * The entities that are predefined in every XML document.\n *\n * @see https://www.w3.org/TR/2006/REC-xml11-20060816/#sec-predefined-ent W3C XML 1.1\n * @see https://www.w3.org/TR/2008/REC-xml-20081126/#sec-predefined-ent W3C XML 1.0\n * @see https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Predefined_entities_in_XML Wikipedia\n */\nexports.XML_ENTITIES = freeze({\n\tamp: '&',\n\tapos: \"'\",\n\tgt: '>',\n\tlt: '<',\n\tquot: '\"',\n});\n\n/**\n * A map of all entities that are detected in an HTML document.\n * They contain all entries from `XML_ENTITIES`.\n *\n * @see XML_ENTITIES\n * @see DOMParser.parseFromString\n * @see DOMImplementation.prototype.createHTMLDocument\n * @see https://html.spec.whatwg.org/#named-character-references WHATWG HTML(5) Spec\n * @see https://html.spec.whatwg.org/entities.json JSON\n * @see https://www.w3.org/TR/xml-entity-names/ W3C XML Entity Names\n * @see https://www.w3.org/TR/html4/sgml/entities.html W3C HTML4/SGML\n * @see https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Character_entity_references_in_HTML Wikipedia (HTML)\n * @see https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Entities_representing_special_characters_in_XHTML Wikpedia (XHTML)\n */\nexports.HTML_ENTITIES = freeze({\n\tAacute: '\\u00C1',\n\taacute: '\\u00E1',\n\tAbreve: '\\u0102',\n\tabreve: '\\u0103',\n\tac: '\\u223E',\n\tacd: '\\u223F',\n\tacE: '\\u223E\\u0333',\n\tAcirc: '\\u00C2',\n\tacirc: '\\u00E2',\n\tacute: '\\u00B4',\n\tAcy: '\\u0410',\n\tacy: '\\u0430',\n\tAElig: '\\u00C6',\n\taelig: '\\u00E6',\n\taf: '\\u2061',\n\tAfr: '\\uD835\\uDD04',\n\tafr: '\\uD835\\uDD1E',\n\tAgrave: '\\u00C0',\n\tagrave: '\\u00E0',\n\talefsym: '\\u2135',\n\taleph: '\\u2135',\n\tAlpha: '\\u0391',\n\talpha: '\\u03B1',\n\tAmacr: '\\u0100',\n\tamacr: '\\u0101',\n\tamalg: '\\u2A3F',\n\tAMP: '\\u0026',\n\tamp: '\\u0026',\n\tAnd: '\\u2A53',\n\tand: '\\u2227',\n\tandand: '\\u2A55',\n\tandd: '\\u2A5C',\n\tandslope: '\\u2A58',\n\tandv: '\\u2A5A',\n\tang: '\\u2220',\n\tange: '\\u29A4',\n\tangle: '\\u2220',\n\tangmsd: '\\u2221',\n\tangmsdaa: '\\u29A8',\n\tangmsdab: '\\u29A9',\n\tangmsdac: '\\u29AA',\n\tangmsdad: '\\u29AB',\n\tangmsdae: '\\u29AC',\n\tangmsdaf: '\\u29AD',\n\tangmsdag: '\\u29AE',\n\tangmsdah: '\\u29AF',\n\tangrt: '\\u221F',\n\tangrtvb: '\\u22BE',\n\tangrtvbd: '\\u299D',\n\tangsph: '\\u2222',\n\tangst: '\\u00C5',\n\tangzarr: '\\u237C',\n\tAogon: '\\u0104',\n\taogon: '\\u0105',\n\tAopf: '\\uD835\\uDD38',\n\taopf: '\\uD835\\uDD52',\n\tap: '\\u2248',\n\tapacir: '\\u2A6F',\n\tapE: '\\u2A70',\n\tape: '\\u224A',\n\tapid: '\\u224B',\n\tapos: '\\u0027',\n\tApplyFunction: '\\u2061',\n\tapprox: '\\u2248',\n\tapproxeq: '\\u224A',\n\tAring: '\\u00C5',\n\taring: '\\u00E5',\n\tAscr: '\\uD835\\uDC9C',\n\tascr: '\\uD835\\uDCB6',\n\tAssign: '\\u2254',\n\tast: '\\u002A',\n\tasymp: '\\u2248',\n\tasympeq: '\\u224D',\n\tAtilde: '\\u00C3',\n\tatilde: '\\u00E3',\n\tAuml: '\\u00C4',\n\tauml: '\\u00E4',\n\tawconint: '\\u2233',\n\tawint: '\\u2A11',\n\tbackcong: '\\u224C',\n\tbackepsilon: '\\u03F6',\n\tbackprime: '\\u2035',\n\tbacksim: '\\u223D',\n\tbacksimeq: '\\u22CD',\n\tBackslash: '\\u2216',\n\tBarv: '\\u2AE7',\n\tbarvee: '\\u22BD',\n\tBarwed: '\\u2306',\n\tbarwed: '\\u2305',\n\tbarwedge: '\\u2305',\n\tbbrk: '\\u23B5',\n\tbbrktbrk: '\\u23B6',\n\tbcong: '\\u224C',\n\tBcy: '\\u0411',\n\tbcy: '\\u0431',\n\tbdquo: '\\u201E',\n\tbecaus: '\\u2235',\n\tBecause: '\\u2235',\n\tbecause: '\\u2235',\n\tbemptyv: '\\u29B0',\n\tbepsi: '\\u03F6',\n\tbernou: '\\u212C',\n\tBernoullis: '\\u212C',\n\tBeta: '\\u0392',\n\tbeta: '\\u03B2',\n\tbeth: '\\u2136',\n\tbetween: '\\u226C',\n\tBfr: '\\uD835\\uDD05',\n\tbfr: '\\uD835\\uDD1F',\n\tbigcap: '\\u22C2',\n\tbigcirc: '\\u25EF',\n\tbigcup: '\\u22C3',\n\tbigodot: '\\u2A00',\n\tbigoplus: '\\u2A01',\n\tbigotimes: '\\u2A02',\n\tbigsqcup: '\\u2A06',\n\tbigstar: '\\u2605',\n\tbigtriangledown: '\\u25BD',\n\tbigtriangleup: '\\u25B3',\n\tbiguplus: '\\u2A04',\n\tbigvee: '\\u22C1',\n\tbigwedge: '\\u22C0',\n\tbkarow: '\\u290D',\n\tblacklozenge: '\\u29EB',\n\tblacksquare: '\\u25AA',\n\tblacktriangle: '\\u25B4',\n\tblacktriangledown: '\\u25BE',\n\tblacktriangleleft: '\\u25C2',\n\tblacktriangleright: '\\u25B8',\n\tblank: '\\u2423',\n\tblk12: '\\u2592',\n\tblk14: '\\u2591',\n\tblk34: '\\u2593',\n\tblock: '\\u2588',\n\tbne: '\\u003D\\u20E5',\n\tbnequiv: '\\u2261\\u20E5',\n\tbNot: '\\u2AED',\n\tbnot: '\\u2310',\n\tBopf: '\\uD835\\uDD39',\n\tbopf: '\\uD835\\uDD53',\n\tbot: '\\u22A5',\n\tbottom: '\\u22A5',\n\tbowtie: '\\u22C8',\n\tboxbox: '\\u29C9',\n\tboxDL: '\\u2557',\n\tboxDl: '\\u2556',\n\tboxdL: '\\u2555',\n\tboxdl: '\\u2510',\n\tboxDR: '\\u2554',\n\tboxDr: '\\u2553',\n\tboxdR: '\\u2552',\n\tboxdr: '\\u250C',\n\tboxH: '\\u2550',\n\tboxh: '\\u2500',\n\tboxHD: '\\u2566',\n\tboxHd: '\\u2564',\n\tboxhD: '\\u2565',\n\tboxhd: '\\u252C',\n\tboxHU: '\\u2569',\n\tboxHu: '\\u2567',\n\tboxhU: '\\u2568',\n\tboxhu: '\\u2534',\n\tboxminus: '\\u229F',\n\tboxplus: '\\u229E',\n\tboxtimes: '\\u22A0',\n\tboxUL: '\\u255D',\n\tboxUl: '\\u255C',\n\tboxuL: '\\u255B',\n\tboxul: '\\u2518',\n\tboxUR: '\\u255A',\n\tboxUr: '\\u2559',\n\tboxuR: '\\u2558',\n\tboxur: '\\u2514',\n\tboxV: '\\u2551',\n\tboxv: '\\u2502',\n\tboxVH: '\\u256C',\n\tboxVh: '\\u256B',\n\tboxvH: '\\u256A',\n\tboxvh: '\\u253C',\n\tboxVL: '\\u2563',\n\tboxVl: '\\u2562',\n\tboxvL: '\\u2561',\n\tboxvl: '\\u2524',\n\tboxVR: '\\u2560',\n\tboxVr: '\\u255F',\n\tboxvR: '\\u255E',\n\tboxvr: '\\u251C',\n\tbprime: '\\u2035',\n\tBreve: '\\u02D8',\n\tbreve: '\\u02D8',\n\tbrvbar: '\\u00A6',\n\tBscr: '\\u212C',\n\tbscr: '\\uD835\\uDCB7',\n\tbsemi: '\\u204F',\n\tbsim: '\\u223D',\n\tbsime: '\\u22CD',\n\tbsol: '\\u005C',\n\tbsolb: '\\u29C5',\n\tbsolhsub: '\\u27C8',\n\tbull: '\\u2022',\n\tbullet: '\\u2022',\n\tbump: '\\u224E',\n\tbumpE: '\\u2AAE',\n\tbumpe: '\\u224F',\n\tBumpeq: '\\u224E',\n\tbumpeq: '\\u224F',\n\tCacute: '\\u0106',\n\tcacute: '\\u0107',\n\tCap: '\\u22D2',\n\tcap: '\\u2229',\n\tcapand: '\\u2A44',\n\tcapbrcup: '\\u2A49',\n\tcapcap: '\\u2A4B',\n\tcapcup: '\\u2A47',\n\tcapdot: '\\u2A40',\n\tCapitalDifferentialD: '\\u2145',\n\tcaps: '\\u2229\\uFE00',\n\tcaret: '\\u2041',\n\tcaron: '\\u02C7',\n\tCayleys: '\\u212D',\n\tccaps: '\\u2A4D',\n\tCcaron: '\\u010C',\n\tccaron: '\\u010D',\n\tCcedil: '\\u00C7',\n\tccedil: '\\u00E7',\n\tCcirc: '\\u0108',\n\tccirc: '\\u0109',\n\tCconint: '\\u2230',\n\tccups: '\\u2A4C',\n\tccupssm: '\\u2A50',\n\tCdot: '\\u010A',\n\tcdot: '\\u010B',\n\tcedil: '\\u00B8',\n\tCedilla: '\\u00B8',\n\tcemptyv: '\\u29B2',\n\tcent: '\\u00A2',\n\tCenterDot: '\\u00B7',\n\tcenterdot: '\\u00B7',\n\tCfr: '\\u212D',\n\tcfr: '\\uD835\\uDD20',\n\tCHcy: '\\u0427',\n\tchcy: '\\u0447',\n\tcheck: '\\u2713',\n\tcheckmark: '\\u2713',\n\tChi: '\\u03A7',\n\tchi: '\\u03C7',\n\tcir: '\\u25CB',\n\tcirc: '\\u02C6',\n\tcirceq: '\\u2257',\n\tcirclearrowleft: '\\u21BA',\n\tcirclearrowright: '\\u21BB',\n\tcircledast: '\\u229B',\n\tcircledcirc: '\\u229A',\n\tcircleddash: '\\u229D',\n\tCircleDot: '\\u2299',\n\tcircledR: '\\u00AE',\n\tcircledS: '\\u24C8',\n\tCircleMinus: '\\u2296',\n\tCirclePlus: '\\u2295',\n\tCircleTimes: '\\u2297',\n\tcirE: '\\u29C3',\n\tcire: '\\u2257',\n\tcirfnint: '\\u2A10',\n\tcirmid: '\\u2AEF',\n\tcirscir: '\\u29C2',\n\tClockwiseContourIntegral: '\\u2232',\n\tCloseCurlyDoubleQuote: '\\u201D',\n\tCloseCurlyQuote: '\\u2019',\n\tclubs: '\\u2663',\n\tclubsuit: '\\u2663',\n\tColon: '\\u2237',\n\tcolon: '\\u003A',\n\tColone: '\\u2A74',\n\tcolone: '\\u2254',\n\tcoloneq: '\\u2254',\n\tcomma: '\\u002C',\n\tcommat: '\\u0040',\n\tcomp: '\\u2201',\n\tcompfn: '\\u2218',\n\tcomplement: '\\u2201',\n\tcomplexes: '\\u2102',\n\tcong: '\\u2245',\n\tcongdot: '\\u2A6D',\n\tCongruent: '\\u2261',\n\tConint: '\\u222F',\n\tconint: '\\u222E',\n\tContourIntegral: '\\u222E',\n\tCopf: '\\u2102',\n\tcopf: '\\uD835\\uDD54',\n\tcoprod: '\\u2210',\n\tCoproduct: '\\u2210',\n\tCOPY: '\\u00A9',\n\tcopy: '\\u00A9',\n\tcopysr: '\\u2117',\n\tCounterClockwiseContourIntegral: '\\u2233',\n\tcrarr: '\\u21B5',\n\tCross: '\\u2A2F',\n\tcross: '\\u2717',\n\tCscr: '\\uD835\\uDC9E',\n\tcscr: '\\uD835\\uDCB8',\n\tcsub: '\\u2ACF',\n\tcsube: '\\u2AD1',\n\tcsup: '\\u2AD0',\n\tcsupe: '\\u2AD2',\n\tctdot: '\\u22EF',\n\tcudarrl: '\\u2938',\n\tcudarrr: '\\u2935',\n\tcuepr: '\\u22DE',\n\tcuesc: '\\u22DF',\n\tcularr: '\\u21B6',\n\tcularrp: '\\u293D',\n\tCup: '\\u22D3',\n\tcup: '\\u222A',\n\tcupbrcap: '\\u2A48',\n\tCupCap: '\\u224D',\n\tcupcap: '\\u2A46',\n\tcupcup: '\\u2A4A',\n\tcupdot: '\\u228D',\n\tcupor: '\\u2A45',\n\tcups: '\\u222A\\uFE00',\n\tcurarr: '\\u21B7',\n\tcurarrm: '\\u293C',\n\tcurlyeqprec: '\\u22DE',\n\tcurlyeqsucc: '\\u22DF',\n\tcurlyvee: '\\u22CE',\n\tcurlywedge: '\\u22CF',\n\tcurren: '\\u00A4',\n\tcurvearrowleft: '\\u21B6',\n\tcurvearrowright: '\\u21B7',\n\tcuvee: '\\u22CE',\n\tcuwed: '\\u22CF',\n\tcwconint: '\\u2232',\n\tcwint: '\\u2231',\n\tcylcty: '\\u232D',\n\tDagger: '\\u2021',\n\tdagger: '\\u2020',\n\tdaleth: '\\u2138',\n\tDarr: '\\u21A1',\n\tdArr: '\\u21D3',\n\tdarr: '\\u2193',\n\tdash: '\\u2010',\n\tDashv: '\\u2AE4',\n\tdashv: '\\u22A3',\n\tdbkarow: '\\u290F',\n\tdblac: '\\u02DD',\n\tDcaron: '\\u010E',\n\tdcaron: '\\u010F',\n\tDcy: '\\u0414',\n\tdcy: '\\u0434',\n\tDD: '\\u2145',\n\tdd: '\\u2146',\n\tddagger: '\\u2021',\n\tddarr: '\\u21CA',\n\tDDotrahd: '\\u2911',\n\tddotseq: '\\u2A77',\n\tdeg: '\\u00B0',\n\tDel: '\\u2207',\n\tDelta: '\\u0394',\n\tdelta: '\\u03B4',\n\tdemptyv: '\\u29B1',\n\tdfisht: '\\u297F',\n\tDfr: '\\uD835\\uDD07',\n\tdfr: '\\uD835\\uDD21',\n\tdHar: '\\u2965',\n\tdharl: '\\u21C3',\n\tdharr: '\\u21C2',\n\tDiacriticalAcute: '\\u00B4',\n\tDiacriticalDot: '\\u02D9',\n\tDiacriticalDoubleAcute: '\\u02DD',\n\tDiacriticalGrave: '\\u0060',\n\tDiacriticalTilde: '\\u02DC',\n\tdiam: '\\u22C4',\n\tDiamond: '\\u22C4',\n\tdiamond: '\\u22C4',\n\tdiamondsuit: '\\u2666',\n\tdiams: '\\u2666',\n\tdie: '\\u00A8',\n\tDifferentialD: '\\u2146',\n\tdigamma: '\\u03DD',\n\tdisin: '\\u22F2',\n\tdiv: '\\u00F7',\n\tdivide: '\\u00F7',\n\tdivideontimes: '\\u22C7',\n\tdivonx: '\\u22C7',\n\tDJcy: '\\u0402',\n\tdjcy: '\\u0452',\n\tdlcorn: '\\u231E',\n\tdlcrop: '\\u230D',\n\tdollar: '\\u0024',\n\tDopf: '\\uD835\\uDD3B',\n\tdopf: '\\uD835\\uDD55',\n\tDot: '\\u00A8',\n\tdot: '\\u02D9',\n\tDotDot: '\\u20DC',\n\tdoteq: '\\u2250',\n\tdoteqdot: '\\u2251',\n\tDotEqual: '\\u2250',\n\tdotminus: '\\u2238',\n\tdotplus: '\\u2214',\n\tdotsquare: '\\u22A1',\n\tdoublebarwedge: '\\u2306',\n\tDoubleContourIntegral: '\\u222F',\n\tDoubleDot: '\\u00A8',\n\tDoubleDownArrow: '\\u21D3',\n\tDoubleLeftArrow: '\\u21D0',\n\tDoubleLeftRightArrow: '\\u21D4',\n\tDoubleLeftTee: '\\u2AE4',\n\tDoubleLongLeftArrow: '\\u27F8',\n\tDoubleLongLeftRightArrow: '\\u27FA',\n\tDoubleLongRightArrow: '\\u27F9',\n\tDoubleRightArrow: '\\u21D2',\n\tDoubleRightTee: '\\u22A8',\n\tDoubleUpArrow: '\\u21D1',\n\tDoubleUpDownArrow: '\\u21D5',\n\tDoubleVerticalBar: '\\u2225',\n\tDownArrow: '\\u2193',\n\tDownarrow: '\\u21D3',\n\tdownarrow: '\\u2193',\n\tDownArrowBar: '\\u2913',\n\tDownArrowUpArrow: '\\u21F5',\n\tDownBreve: '\\u0311',\n\tdowndownarrows: '\\u21CA',\n\tdownharpoonleft: '\\u21C3',\n\tdownharpoonright: '\\u21C2',\n\tDownLeftRightVector: '\\u2950',\n\tDownLeftTeeVector: '\\u295E',\n\tDownLeftVector: '\\u21BD',\n\tDownLeftVectorBar: '\\u2956',\n\tDownRightTeeVector: '\\u295F',\n\tDownRightVector: '\\u21C1',\n\tDownRightVectorBar: '\\u2957',\n\tDownTee: '\\u22A4',\n\tDownTeeArrow: '\\u21A7',\n\tdrbkarow: '\\u2910',\n\tdrcorn: '\\u231F',\n\tdrcrop: '\\u230C',\n\tDscr: '\\uD835\\uDC9F',\n\tdscr: '\\uD835\\uDCB9',\n\tDScy: '\\u0405',\n\tdscy: '\\u0455',\n\tdsol: '\\u29F6',\n\tDstrok: '\\u0110',\n\tdstrok: '\\u0111',\n\tdtdot: '\\u22F1',\n\tdtri: '\\u25BF',\n\tdtrif: '\\u25BE',\n\tduarr: '\\u21F5',\n\tduhar: '\\u296F',\n\tdwangle: '\\u29A6',\n\tDZcy: '\\u040F',\n\tdzcy: '\\u045F',\n\tdzigrarr: '\\u27FF',\n\tEacute: '\\u00C9',\n\teacute: '\\u00E9',\n\teaster: '\\u2A6E',\n\tEcaron: '\\u011A',\n\tecaron: '\\u011B',\n\tecir: '\\u2256',\n\tEcirc: '\\u00CA',\n\tecirc: '\\u00EA',\n\tecolon: '\\u2255',\n\tEcy: '\\u042D',\n\tecy: '\\u044D',\n\teDDot: '\\u2A77',\n\tEdot: '\\u0116',\n\teDot: '\\u2251',\n\tedot: '\\u0117',\n\tee: '\\u2147',\n\tefDot: '\\u2252',\n\tEfr: '\\uD835\\uDD08',\n\tefr: '\\uD835\\uDD22',\n\teg: '\\u2A9A',\n\tEgrave: '\\u00C8',\n\tegrave: '\\u00E8',\n\tegs: '\\u2A96',\n\tegsdot: '\\u2A98',\n\tel: '\\u2A99',\n\tElement: '\\u2208',\n\telinters: '\\u23E7',\n\tell: '\\u2113',\n\tels: '\\u2A95',\n\telsdot: '\\u2A97',\n\tEmacr: '\\u0112',\n\temacr: '\\u0113',\n\tempty: '\\u2205',\n\temptyset: '\\u2205',\n\tEmptySmallSquare: '\\u25FB',\n\temptyv: '\\u2205',\n\tEmptyVerySmallSquare: '\\u25AB',\n\temsp: '\\u2003',\n\temsp13: '\\u2004',\n\temsp14: '\\u2005',\n\tENG: '\\u014A',\n\teng: '\\u014B',\n\tensp: '\\u2002',\n\tEogon: '\\u0118',\n\teogon: '\\u0119',\n\tEopf: '\\uD835\\uDD3C',\n\teopf: '\\uD835\\uDD56',\n\tepar: '\\u22D5',\n\teparsl: '\\u29E3',\n\teplus: '\\u2A71',\n\tepsi: '\\u03B5',\n\tEpsilon: '\\u0395',\n\tepsilon: '\\u03B5',\n\tepsiv: '\\u03F5',\n\teqcirc: '\\u2256',\n\teqcolon: '\\u2255',\n\teqsim: '\\u2242',\n\teqslantgtr: '\\u2A96',\n\teqslantless: '\\u2A95',\n\tEqual: '\\u2A75',\n\tequals: '\\u003D',\n\tEqualTilde: '\\u2242',\n\tequest: '\\u225F',\n\tEquilibrium: '\\u21CC',\n\tequiv: '\\u2261',\n\tequivDD: '\\u2A78',\n\teqvparsl: '\\u29E5',\n\terarr: '\\u2971',\n\terDot: '\\u2253',\n\tEscr: '\\u2130',\n\tescr: '\\u212F',\n\tesdot: '\\u2250',\n\tEsim: '\\u2A73',\n\tesim: '\\u2242',\n\tEta: '\\u0397',\n\teta: '\\u03B7',\n\tETH: '\\u00D0',\n\teth: '\\u00F0',\n\tEuml: '\\u00CB',\n\teuml: '\\u00EB',\n\teuro: '\\u20AC',\n\texcl: '\\u0021',\n\texist: '\\u2203',\n\tExists: '\\u2203',\n\texpectation: '\\u2130',\n\tExponentialE: '\\u2147',\n\texponentiale: '\\u2147',\n\tfallingdotseq: '\\u2252',\n\tFcy: '\\u0424',\n\tfcy: '\\u0444',\n\tfemale: '\\u2640',\n\tffilig: '\\uFB03',\n\tfflig: '\\uFB00',\n\tffllig: '\\uFB04',\n\tFfr: '\\uD835\\uDD09',\n\tffr: '\\uD835\\uDD23',\n\tfilig: '\\uFB01',\n\tFilledSmallSquare: '\\u25FC',\n\tFilledVerySmallSquare: '\\u25AA',\n\tfjlig: '\\u0066\\u006A',\n\tflat: '\\u266D',\n\tfllig: '\\uFB02',\n\tfltns: '\\u25B1',\n\tfnof: '\\u0192',\n\tFopf: '\\uD835\\uDD3D',\n\tfopf: '\\uD835\\uDD57',\n\tForAll: '\\u2200',\n\tforall: '\\u2200',\n\tfork: '\\u22D4',\n\tforkv: '\\u2AD9',\n\tFouriertrf: '\\u2131',\n\tfpartint: '\\u2A0D',\n\tfrac12: '\\u00BD',\n\tfrac13: '\\u2153',\n\tfrac14: '\\u00BC',\n\tfrac15: '\\u2155',\n\tfrac16: '\\u2159',\n\tfrac18: '\\u215B',\n\tfrac23: '\\u2154',\n\tfrac25: '\\u2156',\n\tfrac34: '\\u00BE',\n\tfrac35: '\\u2157',\n\tfrac38: '\\u215C',\n\tfrac45: '\\u2158',\n\tfrac56: '\\u215A',\n\tfrac58: '\\u215D',\n\tfrac78: '\\u215E',\n\tfrasl: '\\u2044',\n\tfrown: '\\u2322',\n\tFscr: '\\u2131',\n\tfscr: '\\uD835\\uDCBB',\n\tgacute: '\\u01F5',\n\tGamma: '\\u0393',\n\tgamma: '\\u03B3',\n\tGammad: '\\u03DC',\n\tgammad: '\\u03DD',\n\tgap: '\\u2A86',\n\tGbreve: '\\u011E',\n\tgbreve: '\\u011F',\n\tGcedil: '\\u0122',\n\tGcirc: '\\u011C',\n\tgcirc: '\\u011D',\n\tGcy: '\\u0413',\n\tgcy: '\\u0433',\n\tGdot: '\\u0120',\n\tgdot: '\\u0121',\n\tgE: '\\u2267',\n\tge: '\\u2265',\n\tgEl: '\\u2A8C',\n\tgel: '\\u22DB',\n\tgeq: '\\u2265',\n\tgeqq: '\\u2267',\n\tgeqslant: '\\u2A7E',\n\tges: '\\u2A7E',\n\tgescc: '\\u2AA9',\n\tgesdot: '\\u2A80',\n\tgesdoto: '\\u2A82',\n\tgesdotol: '\\u2A84',\n\tgesl: '\\u22DB\\uFE00',\n\tgesles: '\\u2A94',\n\tGfr: '\\uD835\\uDD0A',\n\tgfr: '\\uD835\\uDD24',\n\tGg: '\\u22D9',\n\tgg: '\\u226B',\n\tggg: '\\u22D9',\n\tgimel: '\\u2137',\n\tGJcy: '\\u0403',\n\tgjcy: '\\u0453',\n\tgl: '\\u2277',\n\tgla: '\\u2AA5',\n\tglE: '\\u2A92',\n\tglj: '\\u2AA4',\n\tgnap: '\\u2A8A',\n\tgnapprox: '\\u2A8A',\n\tgnE: '\\u2269',\n\tgne: '\\u2A88',\n\tgneq: '\\u2A88',\n\tgneqq: '\\u2269',\n\tgnsim: '\\u22E7',\n\tGopf: '\\uD835\\uDD3E',\n\tgopf: '\\uD835\\uDD58',\n\tgrave: '\\u0060',\n\tGreaterEqual: '\\u2265',\n\tGreaterEqualLess: '\\u22DB',\n\tGreaterFullEqual: '\\u2267',\n\tGreaterGreater: '\\u2AA2',\n\tGreaterLess: '\\u2277',\n\tGreaterSlantEqual: '\\u2A7E',\n\tGreaterTilde: '\\u2273',\n\tGscr: '\\uD835\\uDCA2',\n\tgscr: '\\u210A',\n\tgsim: '\\u2273',\n\tgsime: '\\u2A8E',\n\tgsiml: '\\u2A90',\n\tGt: '\\u226B',\n\tGT: '\\u003E',\n\tgt: '\\u003E',\n\tgtcc: '\\u2AA7',\n\tgtcir: '\\u2A7A',\n\tgtdot: '\\u22D7',\n\tgtlPar: '\\u2995',\n\tgtquest: '\\u2A7C',\n\tgtrapprox: '\\u2A86',\n\tgtrarr: '\\u2978',\n\tgtrdot: '\\u22D7',\n\tgtreqless: '\\u22DB',\n\tgtreqqless: '\\u2A8C',\n\tgtrless: '\\u2277',\n\tgtrsim: '\\u2273',\n\tgvertneqq: '\\u2269\\uFE00',\n\tgvnE: '\\u2269\\uFE00',\n\tHacek: '\\u02C7',\n\thairsp: '\\u200A',\n\thalf: '\\u00BD',\n\thamilt: '\\u210B',\n\tHARDcy: '\\u042A',\n\thardcy: '\\u044A',\n\thArr: '\\u21D4',\n\tharr: '\\u2194',\n\tharrcir: '\\u2948',\n\tharrw: '\\u21AD',\n\tHat: '\\u005E',\n\thbar: '\\u210F',\n\tHcirc: '\\u0124',\n\thcirc: '\\u0125',\n\thearts: '\\u2665',\n\theartsuit: '\\u2665',\n\thellip: '\\u2026',\n\thercon: '\\u22B9',\n\tHfr: '\\u210C',\n\thfr: '\\uD835\\uDD25',\n\tHilbertSpace: '\\u210B',\n\thksearow: '\\u2925',\n\thkswarow: '\\u2926',\n\thoarr: '\\u21FF',\n\thomtht: '\\u223B',\n\thookleftarrow: '\\u21A9',\n\thookrightarrow: '\\u21AA',\n\tHopf: '\\u210D',\n\thopf: '\\uD835\\uDD59',\n\thorbar: '\\u2015',\n\tHorizontalLine: '\\u2500',\n\tHscr: '\\u210B',\n\thscr: '\\uD835\\uDCBD',\n\thslash: '\\u210F',\n\tHstrok: '\\u0126',\n\thstrok: '\\u0127',\n\tHumpDownHump: '\\u224E',\n\tHumpEqual: '\\u224F',\n\thybull: '\\u2043',\n\thyphen: '\\u2010',\n\tIacute: '\\u00CD',\n\tiacute: '\\u00ED',\n\tic: '\\u2063',\n\tIcirc: '\\u00CE',\n\ticirc: '\\u00EE',\n\tIcy: '\\u0418',\n\ticy: '\\u0438',\n\tIdot: '\\u0130',\n\tIEcy: '\\u0415',\n\tiecy: '\\u0435',\n\tiexcl: '\\u00A1',\n\tiff: '\\u21D4',\n\tIfr: '\\u2111',\n\tifr: '\\uD835\\uDD26',\n\tIgrave: '\\u00CC',\n\tigrave: '\\u00EC',\n\tii: '\\u2148',\n\tiiiint: '\\u2A0C',\n\tiiint: '\\u222D',\n\tiinfin: '\\u29DC',\n\tiiota: '\\u2129',\n\tIJlig: '\\u0132',\n\tijlig: '\\u0133',\n\tIm: '\\u2111',\n\tImacr: '\\u012A',\n\timacr: '\\u012B',\n\timage: '\\u2111',\n\tImaginaryI: '\\u2148',\n\timagline: '\\u2110',\n\timagpart: '\\u2111',\n\timath: '\\u0131',\n\timof: '\\u22B7',\n\timped: '\\u01B5',\n\tImplies: '\\u21D2',\n\tin: '\\u2208',\n\tincare: '\\u2105',\n\tinfin: '\\u221E',\n\tinfintie: '\\u29DD',\n\tinodot: '\\u0131',\n\tInt: '\\u222C',\n\tint: '\\u222B',\n\tintcal: '\\u22BA',\n\tintegers: '\\u2124',\n\tIntegral: '\\u222B',\n\tintercal: '\\u22BA',\n\tIntersection: '\\u22C2',\n\tintlarhk: '\\u2A17',\n\tintprod: '\\u2A3C',\n\tInvisibleComma: '\\u2063',\n\tInvisibleTimes: '\\u2062',\n\tIOcy: '\\u0401',\n\tiocy: '\\u0451',\n\tIogon: '\\u012E',\n\tiogon: '\\u012F',\n\tIopf: '\\uD835\\uDD40',\n\tiopf: '\\uD835\\uDD5A',\n\tIota: '\\u0399',\n\tiota: '\\u03B9',\n\tiprod: '\\u2A3C',\n\tiquest: '\\u00BF',\n\tIscr: '\\u2110',\n\tiscr: '\\uD835\\uDCBE',\n\tisin: '\\u2208',\n\tisindot: '\\u22F5',\n\tisinE: '\\u22F9',\n\tisins: '\\u22F4',\n\tisinsv: '\\u22F3',\n\tisinv: '\\u2208',\n\tit: '\\u2062',\n\tItilde: '\\u0128',\n\titilde: '\\u0129',\n\tIukcy: '\\u0406',\n\tiukcy: '\\u0456',\n\tIuml: '\\u00CF',\n\tiuml: '\\u00EF',\n\tJcirc: '\\u0134',\n\tjcirc: '\\u0135',\n\tJcy: '\\u0419',\n\tjcy: '\\u0439',\n\tJfr: '\\uD835\\uDD0D',\n\tjfr: '\\uD835\\uDD27',\n\tjmath: '\\u0237',\n\tJopf: '\\uD835\\uDD41',\n\tjopf: '\\uD835\\uDD5B',\n\tJscr: '\\uD835\\uDCA5',\n\tjscr: '\\uD835\\uDCBF',\n\tJsercy: '\\u0408',\n\tjsercy: '\\u0458',\n\tJukcy: '\\u0404',\n\tjukcy: '\\u0454',\n\tKappa: '\\u039A',\n\tkappa: '\\u03BA',\n\tkappav: '\\u03F0',\n\tKcedil: '\\u0136',\n\tkcedil: '\\u0137',\n\tKcy: '\\u041A',\n\tkcy: '\\u043A',\n\tKfr: '\\uD835\\uDD0E',\n\tkfr: '\\uD835\\uDD28',\n\tkgreen: '\\u0138',\n\tKHcy: '\\u0425',\n\tkhcy: '\\u0445',\n\tKJcy: '\\u040C',\n\tkjcy: '\\u045C',\n\tKopf: '\\uD835\\uDD42',\n\tkopf: '\\uD835\\uDD5C',\n\tKscr: '\\uD835\\uDCA6',\n\tkscr: '\\uD835\\uDCC0',\n\tlAarr: '\\u21DA',\n\tLacute: '\\u0139',\n\tlacute: '\\u013A',\n\tlaemptyv: '\\u29B4',\n\tlagran: '\\u2112',\n\tLambda: '\\u039B',\n\tlambda: '\\u03BB',\n\tLang: '\\u27EA',\n\tlang: '\\u27E8',\n\tlangd: '\\u2991',\n\tlangle: '\\u27E8',\n\tlap: '\\u2A85',\n\tLaplacetrf: '\\u2112',\n\tlaquo: '\\u00AB',\n\tLarr: '\\u219E',\n\tlArr: '\\u21D0',\n\tlarr: '\\u2190',\n\tlarrb: '\\u21E4',\n\tlarrbfs: '\\u291F',\n\tlarrfs: '\\u291D',\n\tlarrhk: '\\u21A9',\n\tlarrlp: '\\u21AB',\n\tlarrpl: '\\u2939',\n\tlarrsim: '\\u2973',\n\tlarrtl: '\\u21A2',\n\tlat: '\\u2AAB',\n\tlAtail: '\\u291B',\n\tlatail: '\\u2919',\n\tlate: '\\u2AAD',\n\tlates: '\\u2AAD\\uFE00',\n\tlBarr: '\\u290E',\n\tlbarr: '\\u290C',\n\tlbbrk: '\\u2772',\n\tlbrace: '\\u007B',\n\tlbrack: '\\u005B',\n\tlbrke: '\\u298B',\n\tlbrksld: '\\u298F',\n\tlbrkslu: '\\u298D',\n\tLcaron: '\\u013D',\n\tlcaron: '\\u013E',\n\tLcedil: '\\u013B',\n\tlcedil: '\\u013C',\n\tlceil: '\\u2308',\n\tlcub: '\\u007B',\n\tLcy: '\\u041B',\n\tlcy: '\\u043B',\n\tldca: '\\u2936',\n\tldquo: '\\u201C',\n\tldquor: '\\u201E',\n\tldrdhar: '\\u2967',\n\tldrushar: '\\u294B',\n\tldsh: '\\u21B2',\n\tlE: '\\u2266',\n\tle: '\\u2264',\n\tLeftAngleBracket: '\\u27E8',\n\tLeftArrow: '\\u2190',\n\tLeftarrow: '\\u21D0',\n\tleftarrow: '\\u2190',\n\tLeftArrowBar: '\\u21E4',\n\tLeftArrowRightArrow: '\\u21C6',\n\tleftarrowtail: '\\u21A2',\n\tLeftCeiling: '\\u2308',\n\tLeftDoubleBracket: '\\u27E6',\n\tLeftDownTeeVector: '\\u2961',\n\tLeftDownVector: '\\u21C3',\n\tLeftDownVectorBar: '\\u2959',\n\tLeftFloor: '\\u230A',\n\tleftharpoondown: '\\u21BD',\n\tleftharpoonup: '\\u21BC',\n\tleftleftarrows: '\\u21C7',\n\tLeftRightArrow: '\\u2194',\n\tLeftrightarrow: '\\u21D4',\n\tleftrightarrow: '\\u2194',\n\tleftrightarrows: '\\u21C6',\n\tleftrightharpoons: '\\u21CB',\n\tleftrightsquigarrow: '\\u21AD',\n\tLeftRightVector: '\\u294E',\n\tLeftTee: '\\u22A3',\n\tLeftTeeArrow: '\\u21A4',\n\tLeftTeeVector: '\\u295A',\n\tleftthreetimes: '\\u22CB',\n\tLeftTriangle: '\\u22B2',\n\tLeftTriangleBar: '\\u29CF',\n\tLeftTriangleEqual: '\\u22B4',\n\tLeftUpDownVector: '\\u2951',\n\tLeftUpTeeVector: '\\u2960',\n\tLeftUpVector: '\\u21BF',\n\tLeftUpVectorBar: '\\u2958',\n\tLeftVector: '\\u21BC',\n\tLeftVectorBar: '\\u2952',\n\tlEg: '\\u2A8B',\n\tleg: '\\u22DA',\n\tleq: '\\u2264',\n\tleqq: '\\u2266',\n\tleqslant: '\\u2A7D',\n\tles: '\\u2A7D',\n\tlescc: '\\u2AA8',\n\tlesdot: '\\u2A7F',\n\tlesdoto: '\\u2A81',\n\tlesdotor: '\\u2A83',\n\tlesg: '\\u22DA\\uFE00',\n\tlesges: '\\u2A93',\n\tlessapprox: '\\u2A85',\n\tlessdot: '\\u22D6',\n\tlesseqgtr: '\\u22DA',\n\tlesseqqgtr: '\\u2A8B',\n\tLessEqualGreater: '\\u22DA',\n\tLessFullEqual: '\\u2266',\n\tLessGreater: '\\u2276',\n\tlessgtr: '\\u2276',\n\tLessLess: '\\u2AA1',\n\tlesssim: '\\u2272',\n\tLessSlantEqual: '\\u2A7D',\n\tLessTilde: '\\u2272',\n\tlfisht: '\\u297C',\n\tlfloor: '\\u230A',\n\tLfr: '\\uD835\\uDD0F',\n\tlfr: '\\uD835\\uDD29',\n\tlg: '\\u2276',\n\tlgE: '\\u2A91',\n\tlHar: '\\u2962',\n\tlhard: '\\u21BD',\n\tlharu: '\\u21BC',\n\tlharul: '\\u296A',\n\tlhblk: '\\u2584',\n\tLJcy: '\\u0409',\n\tljcy: '\\u0459',\n\tLl: '\\u22D8',\n\tll: '\\u226A',\n\tllarr: '\\u21C7',\n\tllcorner: '\\u231E',\n\tLleftarrow: '\\u21DA',\n\tllhard: '\\u296B',\n\tlltri: '\\u25FA',\n\tLmidot: '\\u013F',\n\tlmidot: '\\u0140',\n\tlmoust: '\\u23B0',\n\tlmoustache: '\\u23B0',\n\tlnap: '\\u2A89',\n\tlnapprox: '\\u2A89',\n\tlnE: '\\u2268',\n\tlne: '\\u2A87',\n\tlneq: '\\u2A87',\n\tlneqq: '\\u2268',\n\tlnsim: '\\u22E6',\n\tloang: '\\u27EC',\n\tloarr: '\\u21FD',\n\tlobrk: '\\u27E6',\n\tLongLeftArrow: '\\u27F5',\n\tLongleftarrow: '\\u27F8',\n\tlongleftarrow: '\\u27F5',\n\tLongLeftRightArrow: '\\u27F7',\n\tLongleftrightarrow: '\\u27FA',\n\tlongleftrightarrow: '\\u27F7',\n\tlongmapsto: '\\u27FC',\n\tLongRightArrow: '\\u27F6',\n\tLongrightarrow: '\\u27F9',\n\tlongrightarrow: '\\u27F6',\n\tlooparrowleft: '\\u21AB',\n\tlooparrowright: '\\u21AC',\n\tlopar: '\\u2985',\n\tLopf: '\\uD835\\uDD43',\n\tlopf: '\\uD835\\uDD5D',\n\tloplus: '\\u2A2D',\n\tlotimes: '\\u2A34',\n\tlowast: '\\u2217',\n\tlowbar: '\\u005F',\n\tLowerLeftArrow: '\\u2199',\n\tLowerRightArrow: '\\u2198',\n\tloz: '\\u25CA',\n\tlozenge: '\\u25CA',\n\tlozf: '\\u29EB',\n\tlpar: '\\u0028',\n\tlparlt: '\\u2993',\n\tlrarr: '\\u21C6',\n\tlrcorner: '\\u231F',\n\tlrhar: '\\u21CB',\n\tlrhard: '\\u296D',\n\tlrm: '\\u200E',\n\tlrtri: '\\u22BF',\n\tlsaquo: '\\u2039',\n\tLscr: '\\u2112',\n\tlscr: '\\uD835\\uDCC1',\n\tLsh: '\\u21B0',\n\tlsh: '\\u21B0',\n\tlsim: '\\u2272',\n\tlsime: '\\u2A8D',\n\tlsimg: '\\u2A8F',\n\tlsqb: '\\u005B',\n\tlsquo: '\\u2018',\n\tlsquor: '\\u201A',\n\tLstrok: '\\u0141',\n\tlstrok: '\\u0142',\n\tLt: '\\u226A',\n\tLT: '\\u003C',\n\tlt: '\\u003C',\n\tltcc: '\\u2AA6',\n\tltcir: '\\u2A79',\n\tltdot: '\\u22D6',\n\tlthree: '\\u22CB',\n\tltimes: '\\u22C9',\n\tltlarr: '\\u2976',\n\tltquest: '\\u2A7B',\n\tltri: '\\u25C3',\n\tltrie: '\\u22B4',\n\tltrif: '\\u25C2',\n\tltrPar: '\\u2996',\n\tlurdshar: '\\u294A',\n\tluruhar: '\\u2966',\n\tlvertneqq: '\\u2268\\uFE00',\n\tlvnE: '\\u2268\\uFE00',\n\tmacr: '\\u00AF',\n\tmale: '\\u2642',\n\tmalt: '\\u2720',\n\tmaltese: '\\u2720',\n\tMap: '\\u2905',\n\tmap: '\\u21A6',\n\tmapsto: '\\u21A6',\n\tmapstodown: '\\u21A7',\n\tmapstoleft: '\\u21A4',\n\tmapstoup: '\\u21A5',\n\tmarker: '\\u25AE',\n\tmcomma: '\\u2A29',\n\tMcy: '\\u041C',\n\tmcy: '\\u043C',\n\tmdash: '\\u2014',\n\tmDDot: '\\u223A',\n\tmeasuredangle: '\\u2221',\n\tMediumSpace: '\\u205F',\n\tMellintrf: '\\u2133',\n\tMfr: '\\uD835\\uDD10',\n\tmfr: '\\uD835\\uDD2A',\n\tmho: '\\u2127',\n\tmicro: '\\u00B5',\n\tmid: '\\u2223',\n\tmidast: '\\u002A',\n\tmidcir: '\\u2AF0',\n\tmiddot: '\\u00B7',\n\tminus: '\\u2212',\n\tminusb: '\\u229F',\n\tminusd: '\\u2238',\n\tminusdu: '\\u2A2A',\n\tMinusPlus: '\\u2213',\n\tmlcp: '\\u2ADB',\n\tmldr: '\\u2026',\n\tmnplus: '\\u2213',\n\tmodels: '\\u22A7',\n\tMopf: '\\uD835\\uDD44',\n\tmopf: '\\uD835\\uDD5E',\n\tmp: '\\u2213',\n\tMscr: '\\u2133',\n\tmscr: '\\uD835\\uDCC2',\n\tmstpos: '\\u223E',\n\tMu: '\\u039C',\n\tmu: '\\u03BC',\n\tmultimap: '\\u22B8',\n\tmumap: '\\u22B8',\n\tnabla: '\\u2207',\n\tNacute: '\\u0143',\n\tnacute: '\\u0144',\n\tnang: '\\u2220\\u20D2',\n\tnap: '\\u2249',\n\tnapE: '\\u2A70\\u0338',\n\tnapid: '\\u224B\\u0338',\n\tnapos: '\\u0149',\n\tnapprox: '\\u2249',\n\tnatur: '\\u266E',\n\tnatural: '\\u266E',\n\tnaturals: '\\u2115',\n\tnbsp: '\\u00A0',\n\tnbump: '\\u224E\\u0338',\n\tnbumpe: '\\u224F\\u0338',\n\tncap: '\\u2A43',\n\tNcaron: '\\u0147',\n\tncaron: '\\u0148',\n\tNcedil: '\\u0145',\n\tncedil: '\\u0146',\n\tncong: '\\u2247',\n\tncongdot: '\\u2A6D\\u0338',\n\tncup: '\\u2A42',\n\tNcy: '\\u041D',\n\tncy: '\\u043D',\n\tndash: '\\u2013',\n\tne: '\\u2260',\n\tnearhk: '\\u2924',\n\tneArr: '\\u21D7',\n\tnearr: '\\u2197',\n\tnearrow: '\\u2197',\n\tnedot: '\\u2250\\u0338',\n\tNegativeMediumSpace: '\\u200B',\n\tNegativeThickSpace: '\\u200B',\n\tNegativeThinSpace: '\\u200B',\n\tNegativeVeryThinSpace: '\\u200B',\n\tnequiv: '\\u2262',\n\tnesear: '\\u2928',\n\tnesim: '\\u2242\\u0338',\n\tNestedGreaterGreater: '\\u226B',\n\tNestedLessLess: '\\u226A',\n\tNewLine: '\\u000A',\n\tnexist: '\\u2204',\n\tnexists: '\\u2204',\n\tNfr: '\\uD835\\uDD11',\n\tnfr: '\\uD835\\uDD2B',\n\tngE: '\\u2267\\u0338',\n\tnge: '\\u2271',\n\tngeq: '\\u2271',\n\tngeqq: '\\u2267\\u0338',\n\tngeqslant: '\\u2A7E\\u0338',\n\tnges: '\\u2A7E\\u0338',\n\tnGg: '\\u22D9\\u0338',\n\tngsim: '\\u2275',\n\tnGt: '\\u226B\\u20D2',\n\tngt: '\\u226F',\n\tngtr: '\\u226F',\n\tnGtv: '\\u226B\\u0338',\n\tnhArr: '\\u21CE',\n\tnharr: '\\u21AE',\n\tnhpar: '\\u2AF2',\n\tni: '\\u220B',\n\tnis: '\\u22FC',\n\tnisd: '\\u22FA',\n\tniv: '\\u220B',\n\tNJcy: '\\u040A',\n\tnjcy: '\\u045A',\n\tnlArr: '\\u21CD',\n\tnlarr: '\\u219A',\n\tnldr: '\\u2025',\n\tnlE: '\\u2266\\u0338',\n\tnle: '\\u2270',\n\tnLeftarrow: '\\u21CD',\n\tnleftarrow: '\\u219A',\n\tnLeftrightarrow: '\\u21CE',\n\tnleftrightarrow: '\\u21AE',\n\tnleq: '\\u2270',\n\tnleqq: '\\u2266\\u0338',\n\tnleqslant: '\\u2A7D\\u0338',\n\tnles: '\\u2A7D\\u0338',\n\tnless: '\\u226E',\n\tnLl: '\\u22D8\\u0338',\n\tnlsim: '\\u2274',\n\tnLt: '\\u226A\\u20D2',\n\tnlt: '\\u226E',\n\tnltri: '\\u22EA',\n\tnltrie: '\\u22EC',\n\tnLtv: '\\u226A\\u0338',\n\tnmid: '\\u2224',\n\tNoBreak: '\\u2060',\n\tNonBreakingSpace: '\\u00A0',\n\tNopf: '\\u2115',\n\tnopf: '\\uD835\\uDD5F',\n\tNot: '\\u2AEC',\n\tnot: '\\u00AC',\n\tNotCongruent: '\\u2262',\n\tNotCupCap: '\\u226D',\n\tNotDoubleVerticalBar: '\\u2226',\n\tNotElement: '\\u2209',\n\tNotEqual: '\\u2260',\n\tNotEqualTilde: '\\u2242\\u0338',\n\tNotExists: '\\u2204',\n\tNotGreater: '\\u226F',\n\tNotGreaterEqual: '\\u2271',\n\tNotGreaterFullEqual: '\\u2267\\u0338',\n\tNotGreaterGreater: '\\u226B\\u0338',\n\tNotGreaterLess: '\\u2279',\n\tNotGreaterSlantEqual: '\\u2A7E\\u0338',\n\tNotGreaterTilde: '\\u2275',\n\tNotHumpDownHump: '\\u224E\\u0338',\n\tNotHumpEqual: '\\u224F\\u0338',\n\tnotin: '\\u2209',\n\tnotindot: '\\u22F5\\u0338',\n\tnotinE: '\\u22F9\\u0338',\n\tnotinva: '\\u2209',\n\tnotinvb: '\\u22F7',\n\tnotinvc: '\\u22F6',\n\tNotLeftTriangle: '\\u22EA',\n\tNotLeftTriangleBar: '\\u29CF\\u0338',\n\tNotLeftTriangleEqual: '\\u22EC',\n\tNotLess: '\\u226E',\n\tNotLessEqual: '\\u2270',\n\tNotLessGreater: '\\u2278',\n\tNotLessLess: '\\u226A\\u0338',\n\tNotLessSlantEqual: '\\u2A7D\\u0338',\n\tNotLessTilde: '\\u2274',\n\tNotNestedGreaterGreater: '\\u2AA2\\u0338',\n\tNotNestedLessLess: '\\u2AA1\\u0338',\n\tnotni: '\\u220C',\n\tnotniva: '\\u220C',\n\tnotnivb: '\\u22FE',\n\tnotnivc: '\\u22FD',\n\tNotPrecedes: '\\u2280',\n\tNotPrecedesEqual: '\\u2AAF\\u0338',\n\tNotPrecedesSlantEqual: '\\u22E0',\n\tNotReverseElement: '\\u220C',\n\tNotRightTriangle: '\\u22EB',\n\tNotRightTriangleBar: '\\u29D0\\u0338',\n\tNotRightTriangleEqual: '\\u22ED',\n\tNotSquareSubset: '\\u228F\\u0338',\n\tNotSquareSubsetEqual: '\\u22E2',\n\tNotSquareSuperset: '\\u2290\\u0338',\n\tNotSquareSupersetEqual: '\\u22E3',\n\tNotSubset: '\\u2282\\u20D2',\n\tNotSubsetEqual: '\\u2288',\n\tNotSucceeds: '\\u2281',\n\tNotSucceedsEqual: '\\u2AB0\\u0338',\n\tNotSucceedsSlantEqual: '\\u22E1',\n\tNotSucceedsTilde: '\\u227F\\u0338',\n\tNotSuperset: '\\u2283\\u20D2',\n\tNotSupersetEqual: '\\u2289',\n\tNotTilde: '\\u2241',\n\tNotTildeEqual: '\\u2244',\n\tNotTildeFullEqual: '\\u2247',\n\tNotTildeTilde: '\\u2249',\n\tNotVerticalBar: '\\u2224',\n\tnpar: '\\u2226',\n\tnparallel: '\\u2226',\n\tnparsl: '\\u2AFD\\u20E5',\n\tnpart: '\\u2202\\u0338',\n\tnpolint: '\\u2A14',\n\tnpr: '\\u2280',\n\tnprcue: '\\u22E0',\n\tnpre: '\\u2AAF\\u0338',\n\tnprec: '\\u2280',\n\tnpreceq: '\\u2AAF\\u0338',\n\tnrArr: '\\u21CF',\n\tnrarr: '\\u219B',\n\tnrarrc: '\\u2933\\u0338',\n\tnrarrw: '\\u219D\\u0338',\n\tnRightarrow: '\\u21CF',\n\tnrightarrow: '\\u219B',\n\tnrtri: '\\u22EB',\n\tnrtrie: '\\u22ED',\n\tnsc: '\\u2281',\n\tnsccue: '\\u22E1',\n\tnsce: '\\u2AB0\\u0338',\n\tNscr: '\\uD835\\uDCA9',\n\tnscr: '\\uD835\\uDCC3',\n\tnshortmid: '\\u2224',\n\tnshortparallel: '\\u2226',\n\tnsim: '\\u2241',\n\tnsime: '\\u2244',\n\tnsimeq: '\\u2244',\n\tnsmid: '\\u2224',\n\tnspar: '\\u2226',\n\tnsqsube: '\\u22E2',\n\tnsqsupe: '\\u22E3',\n\tnsub: '\\u2284',\n\tnsubE: '\\u2AC5\\u0338',\n\tnsube: '\\u2288',\n\tnsubset: '\\u2282\\u20D2',\n\tnsubseteq: '\\u2288',\n\tnsubseteqq: '\\u2AC5\\u0338',\n\tnsucc: '\\u2281',\n\tnsucceq: '\\u2AB0\\u0338',\n\tnsup: '\\u2285',\n\tnsupE: '\\u2AC6\\u0338',\n\tnsupe: '\\u2289',\n\tnsupset: '\\u2283\\u20D2',\n\tnsupseteq: '\\u2289',\n\tnsupseteqq: '\\u2AC6\\u0338',\n\tntgl: '\\u2279',\n\tNtilde: '\\u00D1',\n\tntilde: '\\u00F1',\n\tntlg: '\\u2278',\n\tntriangleleft: '\\u22EA',\n\tntrianglelefteq: '\\u22EC',\n\tntriangleright: '\\u22EB',\n\tntrianglerighteq: '\\u22ED',\n\tNu: '\\u039D',\n\tnu: '\\u03BD',\n\tnum: '\\u0023',\n\tnumero: '\\u2116',\n\tnumsp: '\\u2007',\n\tnvap: '\\u224D\\u20D2',\n\tnVDash: '\\u22AF',\n\tnVdash: '\\u22AE',\n\tnvDash: '\\u22AD',\n\tnvdash: '\\u22AC',\n\tnvge: '\\u2265\\u20D2',\n\tnvgt: '\\u003E\\u20D2',\n\tnvHarr: '\\u2904',\n\tnvinfin: '\\u29DE',\n\tnvlArr: '\\u2902',\n\tnvle: '\\u2264\\u20D2',\n\tnvlt: '\\u003C\\u20D2',\n\tnvltrie: '\\u22B4\\u20D2',\n\tnvrArr: '\\u2903',\n\tnvrtrie: '\\u22B5\\u20D2',\n\tnvsim: '\\u223C\\u20D2',\n\tnwarhk: '\\u2923',\n\tnwArr: '\\u21D6',\n\tnwarr: '\\u2196',\n\tnwarrow: '\\u2196',\n\tnwnear: '\\u2927',\n\tOacute: '\\u00D3',\n\toacute: '\\u00F3',\n\toast: '\\u229B',\n\tocir: '\\u229A',\n\tOcirc: '\\u00D4',\n\tocirc: '\\u00F4',\n\tOcy: '\\u041E',\n\tocy: '\\u043E',\n\todash: '\\u229D',\n\tOdblac: '\\u0150',\n\todblac: '\\u0151',\n\todiv: '\\u2A38',\n\todot: '\\u2299',\n\todsold: '\\u29BC',\n\tOElig: '\\u0152',\n\toelig: '\\u0153',\n\tofcir: '\\u29BF',\n\tOfr: '\\uD835\\uDD12',\n\tofr: '\\uD835\\uDD2C',\n\togon: '\\u02DB',\n\tOgrave: '\\u00D2',\n\tograve: '\\u00F2',\n\togt: '\\u29C1',\n\tohbar: '\\u29B5',\n\tohm: '\\u03A9',\n\toint: '\\u222E',\n\tolarr: '\\u21BA',\n\tolcir: '\\u29BE',\n\tolcross: '\\u29BB',\n\toline: '\\u203E',\n\tolt: '\\u29C0',\n\tOmacr: '\\u014C',\n\tomacr: '\\u014D',\n\tOmega: '\\u03A9',\n\tomega: '\\u03C9',\n\tOmicron: '\\u039F',\n\tomicron: '\\u03BF',\n\tomid: '\\u29B6',\n\tominus: '\\u2296',\n\tOopf: '\\uD835\\uDD46',\n\toopf: '\\uD835\\uDD60',\n\topar: '\\u29B7',\n\tOpenCurlyDoubleQuote: '\\u201C',\n\tOpenCurlyQuote: '\\u2018',\n\toperp: '\\u29B9',\n\toplus: '\\u2295',\n\tOr: '\\u2A54',\n\tor: '\\u2228',\n\torarr: '\\u21BB',\n\tord: '\\u2A5D',\n\torder: '\\u2134',\n\torderof: '\\u2134',\n\tordf: '\\u00AA',\n\tordm: '\\u00BA',\n\torigof: '\\u22B6',\n\toror: '\\u2A56',\n\torslope: '\\u2A57',\n\torv: '\\u2A5B',\n\toS: '\\u24C8',\n\tOscr: '\\uD835\\uDCAA',\n\toscr: '\\u2134',\n\tOslash: '\\u00D8',\n\toslash: '\\u00F8',\n\tosol: '\\u2298',\n\tOtilde: '\\u00D5',\n\totilde: '\\u00F5',\n\tOtimes: '\\u2A37',\n\totimes: '\\u2297',\n\totimesas: '\\u2A36',\n\tOuml: '\\u00D6',\n\touml: '\\u00F6',\n\tovbar: '\\u233D',\n\tOverBar: '\\u203E',\n\tOverBrace: '\\u23DE',\n\tOverBracket: '\\u23B4',\n\tOverParenthesis: '\\u23DC',\n\tpar: '\\u2225',\n\tpara: '\\u00B6',\n\tparallel: '\\u2225',\n\tparsim: '\\u2AF3',\n\tparsl: '\\u2AFD',\n\tpart: '\\u2202',\n\tPartialD: '\\u2202',\n\tPcy: '\\u041F',\n\tpcy: '\\u043F',\n\tpercnt: '\\u0025',\n\tperiod: '\\u002E',\n\tpermil: '\\u2030',\n\tperp: '\\u22A5',\n\tpertenk: '\\u2031',\n\tPfr: '\\uD835\\uDD13',\n\tpfr: '\\uD835\\uDD2D',\n\tPhi: '\\u03A6',\n\tphi: '\\u03C6',\n\tphiv: '\\u03D5',\n\tphmmat: '\\u2133',\n\tphone: '\\u260E',\n\tPi: '\\u03A0',\n\tpi: '\\u03C0',\n\tpitchfork: '\\u22D4',\n\tpiv: '\\u03D6',\n\tplanck: '\\u210F',\n\tplanckh: '\\u210E',\n\tplankv: '\\u210F',\n\tplus: '\\u002B',\n\tplusacir: '\\u2A23',\n\tplusb: '\\u229E',\n\tpluscir: '\\u2A22',\n\tplusdo: '\\u2214',\n\tplusdu: '\\u2A25',\n\tpluse: '\\u2A72',\n\tPlusMinus: '\\u00B1',\n\tplusmn: '\\u00B1',\n\tplussim: '\\u2A26',\n\tplustwo: '\\u2A27',\n\tpm: '\\u00B1',\n\tPoincareplane: '\\u210C',\n\tpointint: '\\u2A15',\n\tPopf: '\\u2119',\n\tpopf: '\\uD835\\uDD61',\n\tpound: '\\u00A3',\n\tPr: '\\u2ABB',\n\tpr: '\\u227A',\n\tprap: '\\u2AB7',\n\tprcue: '\\u227C',\n\tprE: '\\u2AB3',\n\tpre: '\\u2AAF',\n\tprec: '\\u227A',\n\tprecapprox: '\\u2AB7',\n\tpreccurlyeq: '\\u227C',\n\tPrecedes: '\\u227A',\n\tPrecedesEqual: '\\u2AAF',\n\tPrecedesSlantEqual: '\\u227C',\n\tPrecedesTilde: '\\u227E',\n\tpreceq: '\\u2AAF',\n\tprecnapprox: '\\u2AB9',\n\tprecneqq: '\\u2AB5',\n\tprecnsim: '\\u22E8',\n\tprecsim: '\\u227E',\n\tPrime: '\\u2033',\n\tprime: '\\u2032',\n\tprimes: '\\u2119',\n\tprnap: '\\u2AB9',\n\tprnE: '\\u2AB5',\n\tprnsim: '\\u22E8',\n\tprod: '\\u220F',\n\tProduct: '\\u220F',\n\tprofalar: '\\u232E',\n\tprofline: '\\u2312',\n\tprofsurf: '\\u2313',\n\tprop: '\\u221D',\n\tProportion: '\\u2237',\n\tProportional: '\\u221D',\n\tpropto: '\\u221D',\n\tprsim: '\\u227E',\n\tprurel: '\\u22B0',\n\tPscr: '\\uD835\\uDCAB',\n\tpscr: '\\uD835\\uDCC5',\n\tPsi: '\\u03A8',\n\tpsi: '\\u03C8',\n\tpuncsp: '\\u2008',\n\tQfr: '\\uD835\\uDD14',\n\tqfr: '\\uD835\\uDD2E',\n\tqint: '\\u2A0C',\n\tQopf: '\\u211A',\n\tqopf: '\\uD835\\uDD62',\n\tqprime: '\\u2057',\n\tQscr: '\\uD835\\uDCAC',\n\tqscr: '\\uD835\\uDCC6',\n\tquaternions: '\\u210D',\n\tquatint: '\\u2A16',\n\tquest: '\\u003F',\n\tquesteq: '\\u225F',\n\tQUOT: '\\u0022',\n\tquot: '\\u0022',\n\trAarr: '\\u21DB',\n\trace: '\\u223D\\u0331',\n\tRacute: '\\u0154',\n\tracute: '\\u0155',\n\tradic: '\\u221A',\n\traemptyv: '\\u29B3',\n\tRang: '\\u27EB',\n\trang: '\\u27E9',\n\trangd: '\\u2992',\n\trange: '\\u29A5',\n\trangle: '\\u27E9',\n\traquo: '\\u00BB',\n\tRarr: '\\u21A0',\n\trArr: '\\u21D2',\n\trarr: '\\u2192',\n\trarrap: '\\u2975',\n\trarrb: '\\u21E5',\n\trarrbfs: '\\u2920',\n\trarrc: '\\u2933',\n\trarrfs: '\\u291E',\n\trarrhk: '\\u21AA',\n\trarrlp: '\\u21AC',\n\trarrpl: '\\u2945',\n\trarrsim: '\\u2974',\n\tRarrtl: '\\u2916',\n\trarrtl: '\\u21A3',\n\trarrw: '\\u219D',\n\trAtail: '\\u291C',\n\tratail: '\\u291A',\n\tratio: '\\u2236',\n\trationals: '\\u211A',\n\tRBarr: '\\u2910',\n\trBarr: '\\u290F',\n\trbarr: '\\u290D',\n\trbbrk: '\\u2773',\n\trbrace: '\\u007D',\n\trbrack: '\\u005D',\n\trbrke: '\\u298C',\n\trbrksld: '\\u298E',\n\trbrkslu: '\\u2990',\n\tRcaron: '\\u0158',\n\trcaron: '\\u0159',\n\tRcedil: '\\u0156',\n\trcedil: '\\u0157',\n\trceil: '\\u2309',\n\trcub: '\\u007D',\n\tRcy: '\\u0420',\n\trcy: '\\u0440',\n\trdca: '\\u2937',\n\trdldhar: '\\u2969',\n\trdquo: '\\u201D',\n\trdquor: '\\u201D',\n\trdsh: '\\u21B3',\n\tRe: '\\u211C',\n\treal: '\\u211C',\n\trealine: '\\u211B',\n\trealpart: '\\u211C',\n\treals: '\\u211D',\n\trect: '\\u25AD',\n\tREG: '\\u00AE',\n\treg: '\\u00AE',\n\tReverseElement: '\\u220B',\n\tReverseEquilibrium: '\\u21CB',\n\tReverseUpEquilibrium: '\\u296F',\n\trfisht: '\\u297D',\n\trfloor: '\\u230B',\n\tRfr: '\\u211C',\n\trfr: '\\uD835\\uDD2F',\n\trHar: '\\u2964',\n\trhard: '\\u21C1',\n\trharu: '\\u21C0',\n\trharul: '\\u296C',\n\tRho: '\\u03A1',\n\trho: '\\u03C1',\n\trhov: '\\u03F1',\n\tRightAngleBracket: '\\u27E9',\n\tRightArrow: '\\u2192',\n\tRightarrow: '\\u21D2',\n\trightarrow: '\\u2192',\n\tRightArrowBar: '\\u21E5',\n\tRightArrowLeftArrow: '\\u21C4',\n\trightarrowtail: '\\u21A3',\n\tRightCeiling: '\\u2309',\n\tRightDoubleBracket: '\\u27E7',\n\tRightDownTeeVector: '\\u295D',\n\tRightDownVector: '\\u21C2',\n\tRightDownVectorBar: '\\u2955',\n\tRightFloor: '\\u230B',\n\trightharpoondown: '\\u21C1',\n\trightharpoonup: '\\u21C0',\n\trightleftarrows: '\\u21C4',\n\trightleftharpoons: '\\u21CC',\n\trightrightarrows: '\\u21C9',\n\trightsquigarrow: '\\u219D',\n\tRightTee: '\\u22A2',\n\tRightTeeArrow: '\\u21A6',\n\tRightTeeVector: '\\u295B',\n\trightthreetimes: '\\u22CC',\n\tRightTriangle: '\\u22B3',\n\tRightTriangleBar: '\\u29D0',\n\tRightTriangleEqual: '\\u22B5',\n\tRightUpDownVector: '\\u294F',\n\tRightUpTeeVector: '\\u295C',\n\tRightUpVector: '\\u21BE',\n\tRightUpVectorBar: '\\u2954',\n\tRightVector: '\\u21C0',\n\tRightVectorBar: '\\u2953',\n\tring: '\\u02DA',\n\trisingdotseq: '\\u2253',\n\trlarr: '\\u21C4',\n\trlhar: '\\u21CC',\n\trlm: '\\u200F',\n\trmoust: '\\u23B1',\n\trmoustache: '\\u23B1',\n\trnmid: '\\u2AEE',\n\troang: '\\u27ED',\n\troarr: '\\u21FE',\n\trobrk: '\\u27E7',\n\tropar: '\\u2986',\n\tRopf: '\\u211D',\n\tropf: '\\uD835\\uDD63',\n\troplus: '\\u2A2E',\n\trotimes: '\\u2A35',\n\tRoundImplies: '\\u2970',\n\trpar: '\\u0029',\n\trpargt: '\\u2994',\n\trppolint: '\\u2A12',\n\trrarr: '\\u21C9',\n\tRrightarrow: '\\u21DB',\n\trsaquo: '\\u203A',\n\tRscr: '\\u211B',\n\trscr: '\\uD835\\uDCC7',\n\tRsh: '\\u21B1',\n\trsh: '\\u21B1',\n\trsqb: '\\u005D',\n\trsquo: '\\u2019',\n\trsquor: '\\u2019',\n\trthree: '\\u22CC',\n\trtimes: '\\u22CA',\n\trtri: '\\u25B9',\n\trtrie: '\\u22B5',\n\trtrif: '\\u25B8',\n\trtriltri: '\\u29CE',\n\tRuleDelayed: '\\u29F4',\n\truluhar: '\\u2968',\n\trx: '\\u211E',\n\tSacute: '\\u015A',\n\tsacute: '\\u015B',\n\tsbquo: '\\u201A',\n\tSc: '\\u2ABC',\n\tsc: '\\u227B',\n\tscap: '\\u2AB8',\n\tScaron: '\\u0160',\n\tscaron: '\\u0161',\n\tsccue: '\\u227D',\n\tscE: '\\u2AB4',\n\tsce: '\\u2AB0',\n\tScedil: '\\u015E',\n\tscedil: '\\u015F',\n\tScirc: '\\u015C',\n\tscirc: '\\u015D',\n\tscnap: '\\u2ABA',\n\tscnE: '\\u2AB6',\n\tscnsim: '\\u22E9',\n\tscpolint: '\\u2A13',\n\tscsim: '\\u227F',\n\tScy: '\\u0421',\n\tscy: '\\u0441',\n\tsdot: '\\u22C5',\n\tsdotb: '\\u22A1',\n\tsdote: '\\u2A66',\n\tsearhk: '\\u2925',\n\tseArr: '\\u21D8',\n\tsearr: '\\u2198',\n\tsearrow: '\\u2198',\n\tsect: '\\u00A7',\n\tsemi: '\\u003B',\n\tseswar: '\\u2929',\n\tsetminus: '\\u2216',\n\tsetmn: '\\u2216',\n\tsext: '\\u2736',\n\tSfr: '\\uD835\\uDD16',\n\tsfr: '\\uD835\\uDD30',\n\tsfrown: '\\u2322',\n\tsharp: '\\u266F',\n\tSHCHcy: '\\u0429',\n\tshchcy: '\\u0449',\n\tSHcy: '\\u0428',\n\tshcy: '\\u0448',\n\tShortDownArrow: '\\u2193',\n\tShortLeftArrow: '\\u2190',\n\tshortmid: '\\u2223',\n\tshortparallel: '\\u2225',\n\tShortRightArrow: '\\u2192',\n\tShortUpArrow: '\\u2191',\n\tshy: '\\u00AD',\n\tSigma: '\\u03A3',\n\tsigma: '\\u03C3',\n\tsigmaf: '\\u03C2',\n\tsigmav: '\\u03C2',\n\tsim: '\\u223C',\n\tsimdot: '\\u2A6A',\n\tsime: '\\u2243',\n\tsimeq: '\\u2243',\n\tsimg: '\\u2A9E',\n\tsimgE: '\\u2AA0',\n\tsiml: '\\u2A9D',\n\tsimlE: '\\u2A9F',\n\tsimne: '\\u2246',\n\tsimplus: '\\u2A24',\n\tsimrarr: '\\u2972',\n\tslarr: '\\u2190',\n\tSmallCircle: '\\u2218',\n\tsmallsetminus: '\\u2216',\n\tsmashp: '\\u2A33',\n\tsmeparsl: '\\u29E4',\n\tsmid: '\\u2223',\n\tsmile: '\\u2323',\n\tsmt: '\\u2AAA',\n\tsmte: '\\u2AAC',\n\tsmtes: '\\u2AAC\\uFE00',\n\tSOFTcy: '\\u042C',\n\tsoftcy: '\\u044C',\n\tsol: '\\u002F',\n\tsolb: '\\u29C4',\n\tsolbar: '\\u233F',\n\tSopf: '\\uD835\\uDD4A',\n\tsopf: '\\uD835\\uDD64',\n\tspades: '\\u2660',\n\tspadesuit: '\\u2660',\n\tspar: '\\u2225',\n\tsqcap: '\\u2293',\n\tsqcaps: '\\u2293\\uFE00',\n\tsqcup: '\\u2294',\n\tsqcups: '\\u2294\\uFE00',\n\tSqrt: '\\u221A',\n\tsqsub: '\\u228F',\n\tsqsube: '\\u2291',\n\tsqsubset: '\\u228F',\n\tsqsubseteq: '\\u2291',\n\tsqsup: '\\u2290',\n\tsqsupe: '\\u2292',\n\tsqsupset: '\\u2290',\n\tsqsupseteq: '\\u2292',\n\tsqu: '\\u25A1',\n\tSquare: '\\u25A1',\n\tsquare: '\\u25A1',\n\tSquareIntersection: '\\u2293',\n\tSquareSubset: '\\u228F',\n\tSquareSubsetEqual: '\\u2291',\n\tSquareSuperset: '\\u2290',\n\tSquareSupersetEqual: '\\u2292',\n\tSquareUnion: '\\u2294',\n\tsquarf: '\\u25AA',\n\tsquf: '\\u25AA',\n\tsrarr: '\\u2192',\n\tSscr: '\\uD835\\uDCAE',\n\tsscr: '\\uD835\\uDCC8',\n\tssetmn: '\\u2216',\n\tssmile: '\\u2323',\n\tsstarf: '\\u22C6',\n\tStar: '\\u22C6',\n\tstar: '\\u2606',\n\tstarf: '\\u2605',\n\tstraightepsilon: '\\u03F5',\n\tstraightphi: '\\u03D5',\n\tstrns: '\\u00AF',\n\tSub: '\\u22D0',\n\tsub: '\\u2282',\n\tsubdot: '\\u2ABD',\n\tsubE: '\\u2AC5',\n\tsube: '\\u2286',\n\tsubedot: '\\u2AC3',\n\tsubmult: '\\u2AC1',\n\tsubnE: '\\u2ACB',\n\tsubne: '\\u228A',\n\tsubplus: '\\u2ABF',\n\tsubrarr: '\\u2979',\n\tSubset: '\\u22D0',\n\tsubset: '\\u2282',\n\tsubseteq: '\\u2286',\n\tsubseteqq: '\\u2AC5',\n\tSubsetEqual: '\\u2286',\n\tsubsetneq: '\\u228A',\n\tsubsetneqq: '\\u2ACB',\n\tsubsim: '\\u2AC7',\n\tsubsub: '\\u2AD5',\n\tsubsup: '\\u2AD3',\n\tsucc: '\\u227B',\n\tsuccapprox: '\\u2AB8',\n\tsucccurlyeq: '\\u227D',\n\tSucceeds: '\\u227B',\n\tSucceedsEqual: '\\u2AB0',\n\tSucceedsSlantEqual: '\\u227D',\n\tSucceedsTilde: '\\u227F',\n\tsucceq: '\\u2AB0',\n\tsuccnapprox: '\\u2ABA',\n\tsuccneqq: '\\u2AB6',\n\tsuccnsim: '\\u22E9',\n\tsuccsim: '\\u227F',\n\tSuchThat: '\\u220B',\n\tSum: '\\u2211',\n\tsum: '\\u2211',\n\tsung: '\\u266A',\n\tSup: '\\u22D1',\n\tsup: '\\u2283',\n\tsup1: '\\u00B9',\n\tsup2: '\\u00B2',\n\tsup3: '\\u00B3',\n\tsupdot: '\\u2ABE',\n\tsupdsub: '\\u2AD8',\n\tsupE: '\\u2AC6',\n\tsupe: '\\u2287',\n\tsupedot: '\\u2AC4',\n\tSuperset: '\\u2283',\n\tSupersetEqual: '\\u2287',\n\tsuphsol: '\\u27C9',\n\tsuphsub: '\\u2AD7',\n\tsuplarr: '\\u297B',\n\tsupmult: '\\u2AC2',\n\tsupnE: '\\u2ACC',\n\tsupne: '\\u228B',\n\tsupplus: '\\u2AC0',\n\tSupset: '\\u22D1',\n\tsupset: '\\u2283',\n\tsupseteq: '\\u2287',\n\tsupseteqq: '\\u2AC6',\n\tsupsetneq: '\\u228B',\n\tsupsetneqq: '\\u2ACC',\n\tsupsim: '\\u2AC8',\n\tsupsub: '\\u2AD4',\n\tsupsup: '\\u2AD6',\n\tswarhk: '\\u2926',\n\tswArr: '\\u21D9',\n\tswarr: '\\u2199',\n\tswarrow: '\\u2199',\n\tswnwar: '\\u292A',\n\tszlig: '\\u00DF',\n\tTab: '\\u0009',\n\ttarget: '\\u2316',\n\tTau: '\\u03A4',\n\ttau: '\\u03C4',\n\ttbrk: '\\u23B4',\n\tTcaron: '\\u0164',\n\ttcaron: '\\u0165',\n\tTcedil: '\\u0162',\n\ttcedil: '\\u0163',\n\tTcy: '\\u0422',\n\ttcy: '\\u0442',\n\ttdot: '\\u20DB',\n\ttelrec: '\\u2315',\n\tTfr: '\\uD835\\uDD17',\n\ttfr: '\\uD835\\uDD31',\n\tthere4: '\\u2234',\n\tTherefore: '\\u2234',\n\ttherefore: '\\u2234',\n\tTheta: '\\u0398',\n\ttheta: '\\u03B8',\n\tthetasym: '\\u03D1',\n\tthetav: '\\u03D1',\n\tthickapprox: '\\u2248',\n\tthicksim: '\\u223C',\n\tThickSpace: '\\u205F\\u200A',\n\tthinsp: '\\u2009',\n\tThinSpace: '\\u2009',\n\tthkap: '\\u2248',\n\tthksim: '\\u223C',\n\tTHORN: '\\u00DE',\n\tthorn: '\\u00FE',\n\tTilde: '\\u223C',\n\ttilde: '\\u02DC',\n\tTildeEqual: '\\u2243',\n\tTildeFullEqual: '\\u2245',\n\tTildeTilde: '\\u2248',\n\ttimes: '\\u00D7',\n\ttimesb: '\\u22A0',\n\ttimesbar: '\\u2A31',\n\ttimesd: '\\u2A30',\n\ttint: '\\u222D',\n\ttoea: '\\u2928',\n\ttop: '\\u22A4',\n\ttopbot: '\\u2336',\n\ttopcir: '\\u2AF1',\n\tTopf: '\\uD835\\uDD4B',\n\ttopf: '\\uD835\\uDD65',\n\ttopfork: '\\u2ADA',\n\ttosa: '\\u2929',\n\ttprime: '\\u2034',\n\tTRADE: '\\u2122',\n\ttrade: '\\u2122',\n\ttriangle: '\\u25B5',\n\ttriangledown: '\\u25BF',\n\ttriangleleft: '\\u25C3',\n\ttrianglelefteq: '\\u22B4',\n\ttriangleq: '\\u225C',\n\ttriangleright: '\\u25B9',\n\ttrianglerighteq: '\\u22B5',\n\ttridot: '\\u25EC',\n\ttrie: '\\u225C',\n\ttriminus: '\\u2A3A',\n\tTripleDot: '\\u20DB',\n\ttriplus: '\\u2A39',\n\ttrisb: '\\u29CD',\n\ttritime: '\\u2A3B',\n\ttrpezium: '\\u23E2',\n\tTscr: '\\uD835\\uDCAF',\n\ttscr: '\\uD835\\uDCC9',\n\tTScy: '\\u0426',\n\ttscy: '\\u0446',\n\tTSHcy: '\\u040B',\n\ttshcy: '\\u045B',\n\tTstrok: '\\u0166',\n\ttstrok: '\\u0167',\n\ttwixt: '\\u226C',\n\ttwoheadleftarrow: '\\u219E',\n\ttwoheadrightarrow: '\\u21A0',\n\tUacute: '\\u00DA',\n\tuacute: '\\u00FA',\n\tUarr: '\\u219F',\n\tuArr: '\\u21D1',\n\tuarr: '\\u2191',\n\tUarrocir: '\\u2949',\n\tUbrcy: '\\u040E',\n\tubrcy: '\\u045E',\n\tUbreve: '\\u016C',\n\tubreve: '\\u016D',\n\tUcirc: '\\u00DB',\n\tucirc: '\\u00FB',\n\tUcy: '\\u0423',\n\tucy: '\\u0443',\n\tudarr: '\\u21C5',\n\tUdblac: '\\u0170',\n\tudblac: '\\u0171',\n\tudhar: '\\u296E',\n\tufisht: '\\u297E',\n\tUfr: '\\uD835\\uDD18',\n\tufr: '\\uD835\\uDD32',\n\tUgrave: '\\u00D9',\n\tugrave: '\\u00F9',\n\tuHar: '\\u2963',\n\tuharl: '\\u21BF',\n\tuharr: '\\u21BE',\n\tuhblk: '\\u2580',\n\tulcorn: '\\u231C',\n\tulcorner: '\\u231C',\n\tulcrop: '\\u230F',\n\tultri: '\\u25F8',\n\tUmacr: '\\u016A',\n\tumacr: '\\u016B',\n\tuml: '\\u00A8',\n\tUnderBar: '\\u005F',\n\tUnderBrace: '\\u23DF',\n\tUnderBracket: '\\u23B5',\n\tUnderParenthesis: '\\u23DD',\n\tUnion: '\\u22C3',\n\tUnionPlus: '\\u228E',\n\tUogon: '\\u0172',\n\tuogon: '\\u0173',\n\tUopf: '\\uD835\\uDD4C',\n\tuopf: '\\uD835\\uDD66',\n\tUpArrow: '\\u2191',\n\tUparrow: '\\u21D1',\n\tuparrow: '\\u2191',\n\tUpArrowBar: '\\u2912',\n\tUpArrowDownArrow: '\\u21C5',\n\tUpDownArrow: '\\u2195',\n\tUpdownarrow: '\\u21D5',\n\tupdownarrow: '\\u2195',\n\tUpEquilibrium: '\\u296E',\n\tupharpoonleft: '\\u21BF',\n\tupharpoonright: '\\u21BE',\n\tuplus: '\\u228E',\n\tUpperLeftArrow: '\\u2196',\n\tUpperRightArrow: '\\u2197',\n\tUpsi: '\\u03D2',\n\tupsi: '\\u03C5',\n\tupsih: '\\u03D2',\n\tUpsilon: '\\u03A5',\n\tupsilon: '\\u03C5',\n\tUpTee: '\\u22A5',\n\tUpTeeArrow: '\\u21A5',\n\tupuparrows: '\\u21C8',\n\turcorn: '\\u231D',\n\turcorner: '\\u231D',\n\turcrop: '\\u230E',\n\tUring: '\\u016E',\n\turing: '\\u016F',\n\turtri: '\\u25F9',\n\tUscr: '\\uD835\\uDCB0',\n\tuscr: '\\uD835\\uDCCA',\n\tutdot: '\\u22F0',\n\tUtilde: '\\u0168',\n\tutilde: '\\u0169',\n\tutri: '\\u25B5',\n\tutrif: '\\u25B4',\n\tuuarr: '\\u21C8',\n\tUuml: '\\u00DC',\n\tuuml: '\\u00FC',\n\tuwangle: '\\u29A7',\n\tvangrt: '\\u299C',\n\tvarepsilon: '\\u03F5',\n\tvarkappa: '\\u03F0',\n\tvarnothing: '\\u2205',\n\tvarphi: '\\u03D5',\n\tvarpi: '\\u03D6',\n\tvarpropto: '\\u221D',\n\tvArr: '\\u21D5',\n\tvarr: '\\u2195',\n\tvarrho: '\\u03F1',\n\tvarsigma: '\\u03C2',\n\tvarsubsetneq: '\\u228A\\uFE00',\n\tvarsubsetneqq: '\\u2ACB\\uFE00',\n\tvarsupsetneq: '\\u228B\\uFE00',\n\tvarsupsetneqq: '\\u2ACC\\uFE00',\n\tvartheta: '\\u03D1',\n\tvartriangleleft: '\\u22B2',\n\tvartriangleright: '\\u22B3',\n\tVbar: '\\u2AEB',\n\tvBar: '\\u2AE8',\n\tvBarv: '\\u2AE9',\n\tVcy: '\\u0412',\n\tvcy: '\\u0432',\n\tVDash: '\\u22AB',\n\tVdash: '\\u22A9',\n\tvDash: '\\u22A8',\n\tvdash: '\\u22A2',\n\tVdashl: '\\u2AE6',\n\tVee: '\\u22C1',\n\tvee: '\\u2228',\n\tveebar: '\\u22BB',\n\tveeeq: '\\u225A',\n\tvellip: '\\u22EE',\n\tVerbar: '\\u2016',\n\tverbar: '\\u007C',\n\tVert: '\\u2016',\n\tvert: '\\u007C',\n\tVerticalBar: '\\u2223',\n\tVerticalLine: '\\u007C',\n\tVerticalSeparator: '\\u2758',\n\tVerticalTilde: '\\u2240',\n\tVeryThinSpace: '\\u200A',\n\tVfr: '\\uD835\\uDD19',\n\tvfr: '\\uD835\\uDD33',\n\tvltri: '\\u22B2',\n\tvnsub: '\\u2282\\u20D2',\n\tvnsup: '\\u2283\\u20D2',\n\tVopf: '\\uD835\\uDD4D',\n\tvopf: '\\uD835\\uDD67',\n\tvprop: '\\u221D',\n\tvrtri: '\\u22B3',\n\tVscr: '\\uD835\\uDCB1',\n\tvscr: '\\uD835\\uDCCB',\n\tvsubnE: '\\u2ACB\\uFE00',\n\tvsubne: '\\u228A\\uFE00',\n\tvsupnE: '\\u2ACC\\uFE00',\n\tvsupne: '\\u228B\\uFE00',\n\tVvdash: '\\u22AA',\n\tvzigzag: '\\u299A',\n\tWcirc: '\\u0174',\n\twcirc: '\\u0175',\n\twedbar: '\\u2A5F',\n\tWedge: '\\u22C0',\n\twedge: '\\u2227',\n\twedgeq: '\\u2259',\n\tweierp: '\\u2118',\n\tWfr: '\\uD835\\uDD1A',\n\twfr: '\\uD835\\uDD34',\n\tWopf: '\\uD835\\uDD4E',\n\twopf: '\\uD835\\uDD68',\n\twp: '\\u2118',\n\twr: '\\u2240',\n\twreath: '\\u2240',\n\tWscr: '\\uD835\\uDCB2',\n\twscr: '\\uD835\\uDCCC',\n\txcap: '\\u22C2',\n\txcirc: '\\u25EF',\n\txcup: '\\u22C3',\n\txdtri: '\\u25BD',\n\tXfr: '\\uD835\\uDD1B',\n\txfr: '\\uD835\\uDD35',\n\txhArr: '\\u27FA',\n\txharr: '\\u27F7',\n\tXi: '\\u039E',\n\txi: '\\u03BE',\n\txlArr: '\\u27F8',\n\txlarr: '\\u27F5',\n\txmap: '\\u27FC',\n\txnis: '\\u22FB',\n\txodot: '\\u2A00',\n\tXopf: '\\uD835\\uDD4F',\n\txopf: '\\uD835\\uDD69',\n\txoplus: '\\u2A01',\n\txotime: '\\u2A02',\n\txrArr: '\\u27F9',\n\txrarr: '\\u27F6',\n\tXscr: '\\uD835\\uDCB3',\n\txscr: '\\uD835\\uDCCD',\n\txsqcup: '\\u2A06',\n\txuplus: '\\u2A04',\n\txutri: '\\u25B3',\n\txvee: '\\u22C1',\n\txwedge: '\\u22C0',\n\tYacute: '\\u00DD',\n\tyacute: '\\u00FD',\n\tYAcy: '\\u042F',\n\tyacy: '\\u044F',\n\tYcirc: '\\u0176',\n\tycirc: '\\u0177',\n\tYcy: '\\u042B',\n\tycy: '\\u044B',\n\tyen: '\\u00A5',\n\tYfr: '\\uD835\\uDD1C',\n\tyfr: '\\uD835\\uDD36',\n\tYIcy: '\\u0407',\n\tyicy: '\\u0457',\n\tYopf: '\\uD835\\uDD50',\n\tyopf: '\\uD835\\uDD6A',\n\tYscr: '\\uD835\\uDCB4',\n\tyscr: '\\uD835\\uDCCE',\n\tYUcy: '\\u042E',\n\tyucy: '\\u044E',\n\tYuml: '\\u0178',\n\tyuml: '\\u00FF',\n\tZacute: '\\u0179',\n\tzacute: '\\u017A',\n\tZcaron: '\\u017D',\n\tzcaron: '\\u017E',\n\tZcy: '\\u0417',\n\tzcy: '\\u0437',\n\tZdot: '\\u017B',\n\tzdot: '\\u017C',\n\tzeetrf: '\\u2128',\n\tZeroWidthSpace: '\\u200B',\n\tZeta: '\\u0396',\n\tzeta: '\\u03B6',\n\tZfr: '\\u2128',\n\tzfr: '\\uD835\\uDD37',\n\tZHcy: '\\u0416',\n\tzhcy: '\\u0436',\n\tzigrarr: '\\u21DD',\n\tZopf: '\\u2124',\n\tzopf: '\\uD835\\uDD6B',\n\tZscr: '\\uD835\\uDCB5',\n\tzscr: '\\uD835\\uDCCF',\n\tzwj: '\\u200D',\n\tzwnj: '\\u200C',\n});\n\n/**\n * @deprecated use `HTML_ENTITIES` instead\n * @see HTML_ENTITIES\n */\nexports.entityMap = exports.HTML_ENTITIES;\n","var NAMESPACE = require(\"./conventions\").NAMESPACE;\n\n//[4]   \tNameStartChar\t   ::=   \t\":\" | [A-Z] | \"_\" | [a-z] | [#xC0-#xD6] | [#xD8-#xF6] | [#xF8-#x2FF] | [#x370-#x37D] | [#x37F-#x1FFF] | [#x200C-#x200D] | [#x2070-#x218F] | [#x2C00-#x2FEF] | [#x3001-#xD7FF] | [#xF900-#xFDCF] | [#xFDF0-#xFFFD] | [#x10000-#xEFFFF]\n//[4a]   \tNameChar\t   ::=   \tNameStartChar | \"-\" | \".\" | [0-9] | #xB7 | [#x0300-#x036F] | [#x203F-#x2040]\n//[5]   \tName\t   ::=   \tNameStartChar (NameChar)*\nvar nameStartChar = /[A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]///\\u10000-\\uEFFFF\nvar nameChar = new RegExp(\"[\\\\-\\\\.0-9\"+nameStartChar.source.slice(1,-1)+\"\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]\");\nvar tagNamePattern = new RegExp('^'+nameStartChar.source+nameChar.source+'*(?:\\:'+nameStartChar.source+nameChar.source+'*)?$');\n//var tagNamePattern = /^[a-zA-Z_][\\w\\-\\.]*(?:\\:[a-zA-Z_][\\w\\-\\.]*)?$/\n//var handlers = 'resolveEntity,getExternalSubset,characters,endDocument,endElement,endPrefixMapping,ignorableWhitespace,processingInstruction,setDocumentLocator,skippedEntity,startDocument,startElement,startPrefixMapping,notationDecl,unparsedEntityDecl,error,fatalError,warning,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,comment,endCDATA,endDTD,endEntity,startCDATA,startDTD,startEntity'.split(',')\n\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\nvar S_TAG = 0;//tag name offerring\nvar S_ATTR = 1;//attr name offerring\nvar S_ATTR_SPACE=2;//attr name end and space offer\nvar S_EQ = 3;//=space?\nvar S_ATTR_NOQUOT_VALUE = 4;//attr value(no quot value only)\nvar S_ATTR_END = 5;//attr value end and no space(quot end)\nvar S_TAG_SPACE = 6;//(attr value end || tag end ) && (space offer)\nvar S_TAG_CLOSE = 7;//closed el<el />\n\n/**\n * Creates an error that will not be caught by XMLReader aka the SAX parser.\n *\n * @param {string} message\n * @param {any?} locator Optional, can provide details about the location in the source\n * @constructor\n */\nfunction ParseError(message, locator) {\n\tthis.message = message\n\tthis.locator = locator\n\tif(Error.captureStackTrace) Error.captureStackTrace(this, ParseError);\n}\nParseError.prototype = new Error();\nParseError.prototype.name = ParseError.name\n\nfunction XMLReader(){\n\n}\n\nXMLReader.prototype = {\n\tparse:function(source,defaultNSMap,entityMap){\n\t\tvar domBuilder = this.domBuilder;\n\t\tdomBuilder.startDocument();\n\t\t_copy(defaultNSMap ,defaultNSMap = {})\n\t\tparse(source,defaultNSMap,entityMap,\n\t\t\t\tdomBuilder,this.errorHandler);\n\t\tdomBuilder.endDocument();\n\t}\n}\nfunction parse(source,defaultNSMapCopy,entityMap,domBuilder,errorHandler){\n\tfunction fixedFromCharCode(code) {\n\t\t// String.prototype.fromCharCode does not supports\n\t\t// > 2 bytes unicode chars directly\n\t\tif (code > 0xffff) {\n\t\t\tcode -= 0x10000;\n\t\t\tvar surrogate1 = 0xd800 + (code >> 10)\n\t\t\t\t, surrogate2 = 0xdc00 + (code & 0x3ff);\n\n\t\t\treturn String.fromCharCode(surrogate1, surrogate2);\n\t\t} else {\n\t\t\treturn String.fromCharCode(code);\n\t\t}\n\t}\n\tfunction entityReplacer(a){\n\t\tvar k = a.slice(1,-1);\n\t\tif (Object.hasOwnProperty.call(entityMap, k)) {\n\t\t\treturn entityMap[k];\n\t\t}else if(k.charAt(0) === '#'){\n\t\t\treturn fixedFromCharCode(parseInt(k.substr(1).replace('x','0x')))\n\t\t}else{\n\t\t\terrorHandler.error('entity not found:'+a);\n\t\t\treturn a;\n\t\t}\n\t}\n\tfunction appendText(end){//has some bugs\n\t\tif(end>start){\n\t\t\tvar xt = source.substring(start,end).replace(/&#?\\w+;/g,entityReplacer);\n\t\t\tlocator&&position(start);\n\t\t\tdomBuilder.characters(xt,0,end-start);\n\t\t\tstart = end\n\t\t}\n\t}\n\tfunction position(p,m){\n\t\twhile(p>=lineEnd && (m = linePattern.exec(source))){\n\t\t\tlineStart = m.index;\n\t\t\tlineEnd = lineStart + m[0].length;\n\t\t\tlocator.lineNumber++;\n\t\t\t//console.log('line++:',locator,startPos,endPos)\n\t\t}\n\t\tlocator.columnNumber = p-lineStart+1;\n\t}\n\tvar lineStart = 0;\n\tvar lineEnd = 0;\n\tvar linePattern = /.*(?:\\r\\n?|\\n)|.*$/g\n\tvar locator = domBuilder.locator;\n\n\tvar parseStack = [{currentNSMap:defaultNSMapCopy}]\n\tvar closeMap = {};\n\tvar start = 0;\n\twhile(true){\n\t\ttry{\n\t\t\tvar tagStart = source.indexOf('<',start);\n\t\t\tif(tagStart<0){\n\t\t\t\tif(!source.substr(start).match(/^\\s*$/)){\n\t\t\t\t\tvar doc = domBuilder.doc;\n\t    \t\t\tvar text = doc.createTextNode(source.substr(start));\n\t    \t\t\tdoc.appendChild(text);\n\t    \t\t\tdomBuilder.currentElement = text;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(tagStart>start){\n\t\t\t\tappendText(tagStart);\n\t\t\t}\n\t\t\tswitch(source.charAt(tagStart+1)){\n\t\t\tcase '/':\n\t\t\t\tvar end = source.indexOf('>',tagStart+3);\n\t\t\t\tvar tagName = source.substring(tagStart + 2, end).replace(/[ \\t\\n\\r]+$/g, '');\n\t\t\t\tvar config = parseStack.pop();\n\t\t\t\tif(end<0){\n\n\t        \t\ttagName = source.substring(tagStart+2).replace(/[\\s<].*/,'');\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' is not complete:'+config.tagName);\n\t        \t\tend = tagStart+1+tagName.length;\n\t        \t}else if(tagName.match(/\\s</)){\n\t        \t\ttagName = tagName.replace(/[\\s<].*/,'');\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' maybe not complete');\n\t        \t\tend = tagStart+1+tagName.length;\n\t\t\t\t}\n\t\t\t\tvar localNSMap = config.localNSMap;\n\t\t\t\tvar endMatch = config.tagName == tagName;\n\t\t\t\tvar endIgnoreCaseMach = endMatch || config.tagName&&config.tagName.toLowerCase() == tagName.toLowerCase()\n\t\t        if(endIgnoreCaseMach){\n\t\t        \tdomBuilder.endElement(config.uri,config.localName,tagName);\n\t\t\t\t\tif(localNSMap){\n\t\t\t\t\t\tfor (var prefix in localNSMap) {\n\t\t\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(localNSMap, prefix)) {\n\t\t\t\t\t\t\t\tdomBuilder.endPrefixMapping(prefix);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(!endMatch){\n\t\t            \terrorHandler.fatalError(\"end tag name: \"+tagName+' is not match the current start tagName:'+config.tagName ); // No known test case\n\t\t\t\t\t}\n\t\t        }else{\n\t\t        \tparseStack.push(config)\n\t\t        }\n\n\t\t\t\tend++;\n\t\t\t\tbreak;\n\t\t\t\t// end elment\n\t\t\tcase '?':// <?...?>\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tend = parseInstruction(source,tagStart,domBuilder);\n\t\t\t\tbreak;\n\t\t\tcase '!':// <!doctype,<![CDATA,<!--\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tend = parseDCC(source,tagStart,domBuilder,errorHandler);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tvar el = new ElementAttributes();\n\t\t\t\tvar currentNSMap = parseStack[parseStack.length-1].currentNSMap;\n\t\t\t\t//elStartEnd\n\t\t\t\tvar end = parseElementStartPart(source,tagStart,el,currentNSMap,entityReplacer,errorHandler);\n\t\t\t\tvar len = el.length;\n\n\n\t\t\t\tif(!el.closed && fixSelfClosed(source,end,el.tagName,closeMap)){\n\t\t\t\t\tel.closed = true;\n\t\t\t\t\tif(!entityMap.nbsp){\n\t\t\t\t\t\terrorHandler.warning('unclosed xml attribute');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(locator && len){\n\t\t\t\t\tvar locator2 = copyLocator(locator,{});\n\t\t\t\t\t//try{//attribute position fixed\n\t\t\t\t\tfor(var i = 0;i<len;i++){\n\t\t\t\t\t\tvar a = el[i];\n\t\t\t\t\t\tposition(a.offset);\n\t\t\t\t\t\ta.locator = copyLocator(locator,{});\n\t\t\t\t\t}\n\t\t\t\t\tdomBuilder.locator = locator2\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\n\t\t\t\t\t\tparseStack.push(el)\n\t\t\t\t\t}\n\t\t\t\t\tdomBuilder.locator = locator;\n\t\t\t\t}else{\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\n\t\t\t\t\t\tparseStack.push(el)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (NAMESPACE.isHTML(el.uri) && !el.closed) {\n\t\t\t\t\tend = parseHtmlSpecialContent(source,end,el.tagName,entityReplacer,domBuilder)\n\t\t\t\t} else {\n\t\t\t\t\tend++;\n\t\t\t\t}\n\t\t\t}\n\t\t}catch(e){\n\t\t\tif (e instanceof ParseError) {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t\terrorHandler.error('element parse error: '+e)\n\t\t\tend = -1;\n\t\t}\n\t\tif(end>start){\n\t\t\tstart = end;\n\t\t}else{\n\t\t\t//TODO: 这里有可能sax回退，有位置错误风险\n\t\t\tappendText(Math.max(tagStart,start)+1);\n\t\t}\n\t}\n}\nfunction copyLocator(f,t){\n\tt.lineNumber = f.lineNumber;\n\tt.columnNumber = f.columnNumber;\n\treturn t;\n}\n\n/**\n * @see #appendElement(source,elStartEnd,el,selfClosed,entityReplacer,domBuilder,parseStack);\n * @return end of the elementStartPart(end of elementEndPart for selfClosed el)\n */\nfunction parseElementStartPart(source,start,el,currentNSMap,entityReplacer,errorHandler){\n\n\t/**\n\t * @param {string} qname\n\t * @param {string} value\n\t * @param {number} startIndex\n\t */\n\tfunction addAttribute(qname, value, startIndex) {\n\t\tif (el.attributeNames.hasOwnProperty(qname)) {\n\t\t\terrorHandler.fatalError('Attribute ' + qname + ' redefined')\n\t\t}\n\t\tel.addValue(\n\t\t\tqname,\n\t\t\t// @see https://www.w3.org/TR/xml/#AVNormalize\n\t\t\t// since the xmldom sax parser does not \"interpret\" DTD the following is not implemented:\n\t\t\t// - recursive replacement of (DTD) entity references\n\t\t\t// - trimming and collapsing multiple spaces into a single one for attributes that are not of type CDATA\n\t\t\tvalue.replace(/[\\t\\n\\r]/g, ' ').replace(/&#?\\w+;/g, entityReplacer),\n\t\t\tstartIndex\n\t\t)\n\t}\n\tvar attrName;\n\tvar value;\n\tvar p = ++start;\n\tvar s = S_TAG;//status\n\twhile(true){\n\t\tvar c = source.charAt(p);\n\t\tswitch(c){\n\t\tcase '=':\n\t\t\tif(s === S_ATTR){//attrName\n\t\t\t\tattrName = source.slice(start,p);\n\t\t\t\ts = S_EQ;\n\t\t\t}else if(s === S_ATTR_SPACE){\n\t\t\t\ts = S_EQ;\n\t\t\t}else{\n\t\t\t\t//fatalError: equal must after attrName or space after attrName\n\t\t\t\tthrow new Error('attribute equal must after attrName'); // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase '\\'':\n\t\tcase '\"':\n\t\t\tif(s === S_EQ || s === S_ATTR //|| s == S_ATTR_SPACE\n\t\t\t\t){//equal\n\t\t\t\tif(s === S_ATTR){\n\t\t\t\t\terrorHandler.warning('attribute value must after \"=\"')\n\t\t\t\t\tattrName = source.slice(start,p)\n\t\t\t\t}\n\t\t\t\tstart = p+1;\n\t\t\t\tp = source.indexOf(c,start)\n\t\t\t\tif(p>0){\n\t\t\t\t\tvalue = source.slice(start, p);\n\t\t\t\t\taddAttribute(attrName, value, start-1);\n\t\t\t\t\ts = S_ATTR_END;\n\t\t\t\t}else{\n\t\t\t\t\t//fatalError: no end quot match\n\t\t\t\t\tthrow new Error('attribute value no end \\''+c+'\\' match');\n\t\t\t\t}\n\t\t\t}else if(s == S_ATTR_NOQUOT_VALUE){\n\t\t\t\tvalue = source.slice(start, p);\n\t\t\t\taddAttribute(attrName, value, start);\n\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed start quot('+c+')!!');\n\t\t\t\tstart = p+1;\n\t\t\t\ts = S_ATTR_END\n\t\t\t}else{\n\t\t\t\t//fatalError: no equal before\n\t\t\t\tthrow new Error('attribute value must after \"=\"'); // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase '/':\n\t\t\tswitch(s){\n\t\t\tcase S_TAG:\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\tcase S_ATTR_END:\n\t\t\tcase S_TAG_SPACE:\n\t\t\tcase S_TAG_CLOSE:\n\t\t\t\ts =S_TAG_CLOSE;\n\t\t\t\tel.closed = true;\n\t\t\tcase S_ATTR_NOQUOT_VALUE:\n\t\t\tcase S_ATTR:\n\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR_SPACE:\n\t\t\t\t\tel.closed = true;\n\t\t\t\tbreak;\n\t\t\t//case S_EQ:\n\t\t\tdefault:\n\t\t\t\tthrow new Error(\"attribute invalid close char('/')\") // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase ''://end document\n\t\t\terrorHandler.error('unexpected end of input');\n\t\t\tif(s == S_TAG){\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\t}\n\t\t\treturn p;\n\t\tcase '>':\n\t\t\tswitch(s){\n\t\t\tcase S_TAG:\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\tcase S_ATTR_END:\n\t\t\tcase S_TAG_SPACE:\n\t\t\tcase S_TAG_CLOSE:\n\t\t\t\tbreak;//normal\n\t\t\tcase S_ATTR_NOQUOT_VALUE://Compatible state\n\t\t\tcase S_ATTR:\n\t\t\t\tvalue = source.slice(start,p);\n\t\t\t\tif(value.slice(-1) === '/'){\n\t\t\t\t\tel.closed  = true;\n\t\t\t\t\tvalue = value.slice(0,-1)\n\t\t\t\t}\n\t\t\tcase S_ATTR_SPACE:\n\t\t\t\tif(s === S_ATTR_SPACE){\n\t\t\t\t\tvalue = attrName;\n\t\t\t\t}\n\t\t\t\tif(s == S_ATTR_NOQUOT_VALUE){\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!');\n\t\t\t\t\taddAttribute(attrName, value, start)\n\t\t\t\t}else{\n\t\t\t\t\tif(!NAMESPACE.isHTML(currentNSMap['']) || !value.match(/^(?:disabled|checked|selected)$/i)){\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed value!! \"'+value+'\" instead!!')\n\t\t\t\t\t}\n\t\t\t\t\taddAttribute(value, value, start)\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase S_EQ:\n\t\t\t\tthrow new Error('attribute value missed!!');\n\t\t\t}\n//\t\t\tconsole.log(tagName,tagNamePattern,tagNamePattern.test(tagName))\n\t\t\treturn p;\n\t\t/*xml space '\\x20' | #x9 | #xD | #xA; */\n\t\tcase '\\u0080':\n\t\t\tc = ' ';\n\t\tdefault:\n\t\t\tif(c<= ' '){//space\n\t\t\t\tswitch(s){\n\t\t\t\tcase S_TAG:\n\t\t\t\t\tel.setTagName(source.slice(start,p));//tagName\n\t\t\t\t\ts = S_TAG_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR:\n\t\t\t\t\tattrName = source.slice(start,p)\n\t\t\t\t\ts = S_ATTR_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR_NOQUOT_VALUE:\n\t\t\t\t\tvar value = source.slice(start, p);\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!!');\n\t\t\t\t\taddAttribute(attrName, value, start)\n\t\t\t\tcase S_ATTR_END:\n\t\t\t\t\ts = S_TAG_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\t//case S_TAG_SPACE:\n\t\t\t\t//case S_EQ:\n\t\t\t\t//case S_ATTR_SPACE:\n\t\t\t\t//\tvoid();break;\n\t\t\t\t//case S_TAG_CLOSE:\n\t\t\t\t\t//ignore warning\n\t\t\t\t}\n\t\t\t}else{//not space\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\n\t\t\t\tswitch(s){\n\t\t\t\t//case S_TAG:void();break;\n\t\t\t\t//case S_ATTR:void();break;\n\t\t\t\t//case S_ATTR_NOQUOT_VALUE:void();break;\n\t\t\t\tcase S_ATTR_SPACE:\n\t\t\t\t\tvar tagName =  el.tagName;\n\t\t\t\t\tif (!NAMESPACE.isHTML(currentNSMap['']) || !attrName.match(/^(?:disabled|checked|selected)$/i)) {\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed value!! \"'+attrName+'\" instead2!!')\n\t\t\t\t\t}\n\t\t\t\t\taddAttribute(attrName, attrName, start);\n\t\t\t\t\tstart = p;\n\t\t\t\t\ts = S_ATTR;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR_END:\n\t\t\t\t\terrorHandler.warning('attribute space is required\"'+attrName+'\"!!')\n\t\t\t\tcase S_TAG_SPACE:\n\t\t\t\t\ts = S_ATTR;\n\t\t\t\t\tstart = p;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_EQ:\n\t\t\t\t\ts = S_ATTR_NOQUOT_VALUE;\n\t\t\t\t\tstart = p;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_TAG_CLOSE:\n\t\t\t\t\tthrow new Error(\"elements closed character '/' and '>' must be connected to\");\n\t\t\t\t}\n\t\t\t}\n\t\t}//end outer switch\n\t\t//console.log('p++',p)\n\t\tp++;\n\t}\n}\n/**\n * @return true if has new namespace define\n */\nfunction appendElement(el,domBuilder,currentNSMap){\n\tvar tagName = el.tagName;\n\tvar localNSMap = null;\n\t//var currentNSMap = parseStack[parseStack.length-1].currentNSMap;\n\tvar i = el.length;\n\twhile(i--){\n\t\tvar a = el[i];\n\t\tvar qName = a.qName;\n\t\tvar value = a.value;\n\t\tvar nsp = qName.indexOf(':');\n\t\tif(nsp>0){\n\t\t\tvar prefix = a.prefix = qName.slice(0,nsp);\n\t\t\tvar localName = qName.slice(nsp+1);\n\t\t\tvar nsPrefix = prefix === 'xmlns' && localName\n\t\t}else{\n\t\t\tlocalName = qName;\n\t\t\tprefix = null\n\t\t\tnsPrefix = qName === 'xmlns' && ''\n\t\t}\n\t\t//can not set prefix,because prefix !== ''\n\t\ta.localName = localName ;\n\t\t//prefix == null for no ns prefix attribute\n\t\tif(nsPrefix !== false){//hack!!\n\t\t\tif(localNSMap == null){\n\t\t\t\tlocalNSMap = {}\n\t\t\t\t//console.log(currentNSMap,0)\n\t\t\t\t_copy(currentNSMap,currentNSMap={})\n\t\t\t\t//console.log(currentNSMap,1)\n\t\t\t}\n\t\t\tcurrentNSMap[nsPrefix] = localNSMap[nsPrefix] = value;\n\t\t\ta.uri = NAMESPACE.XMLNS\n\t\t\tdomBuilder.startPrefixMapping(nsPrefix, value)\n\t\t}\n\t}\n\tvar i = el.length;\n\twhile(i--){\n\t\ta = el[i];\n\t\tvar prefix = a.prefix;\n\t\tif(prefix){//no prefix attribute has no namespace\n\t\t\tif(prefix === 'xml'){\n\t\t\t\ta.uri = NAMESPACE.XML;\n\t\t\t}if(prefix !== 'xmlns'){\n\t\t\t\ta.uri = currentNSMap[prefix || '']\n\n\t\t\t\t//{console.log('###'+a.qName,domBuilder.locator.systemId+'',currentNSMap,a.uri)}\n\t\t\t}\n\t\t}\n\t}\n\tvar nsp = tagName.indexOf(':');\n\tif(nsp>0){\n\t\tprefix = el.prefix = tagName.slice(0,nsp);\n\t\tlocalName = el.localName = tagName.slice(nsp+1);\n\t}else{\n\t\tprefix = null;//important!!\n\t\tlocalName = el.localName = tagName;\n\t}\n\t//no prefix element has default namespace\n\tvar ns = el.uri = currentNSMap[prefix || ''];\n\tdomBuilder.startElement(ns,localName,tagName,el);\n\t//endPrefixMapping and startPrefixMapping have not any help for dom builder\n\t//localNSMap = null\n\tif(el.closed){\n\t\tdomBuilder.endElement(ns,localName,tagName);\n\t\tif(localNSMap){\n\t\t\tfor (prefix in localNSMap) {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(localNSMap, prefix)) {\n\t\t\t\t\tdomBuilder.endPrefixMapping(prefix);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}else{\n\t\tel.currentNSMap = currentNSMap;\n\t\tel.localNSMap = localNSMap;\n\t\t//parseStack.push(el);\n\t\treturn true;\n\t}\n}\nfunction parseHtmlSpecialContent(source,elStartEnd,tagName,entityReplacer,domBuilder){\n\tif(/^(?:script|textarea)$/i.test(tagName)){\n\t\tvar elEndStart =  source.indexOf('</'+tagName+'>',elStartEnd);\n\t\tvar text = source.substring(elStartEnd+1,elEndStart);\n\t\tif(/[&<]/.test(text)){\n\t\t\tif(/^script$/i.test(tagName)){\n\t\t\t\t//if(!/\\]\\]>/.test(text)){\n\t\t\t\t\t//lexHandler.startCDATA();\n\t\t\t\t\tdomBuilder.characters(text,0,text.length);\n\t\t\t\t\t//lexHandler.endCDATA();\n\t\t\t\t\treturn elEndStart;\n\t\t\t\t//}\n\t\t\t}//}else{//text area\n\t\t\t\ttext = text.replace(/&#?\\w+;/g,entityReplacer);\n\t\t\t\tdomBuilder.characters(text,0,text.length);\n\t\t\t\treturn elEndStart;\n\t\t\t//}\n\n\t\t}\n\t}\n\treturn elStartEnd+1;\n}\nfunction fixSelfClosed(source,elStartEnd,tagName,closeMap){\n\t//if(tagName in closeMap){\n\tvar pos = closeMap[tagName];\n\tif(pos == null){\n\t\t//console.log(tagName)\n\t\tpos =  source.lastIndexOf('</'+tagName+'>')\n\t\tif(pos<elStartEnd){//忘记闭合\n\t\t\tpos = source.lastIndexOf('</'+tagName)\n\t\t}\n\t\tcloseMap[tagName] =pos\n\t}\n\treturn pos<elStartEnd;\n\t//}\n}\n\nfunction _copy (source, target) {\n\tfor (var n in source) {\n\t\tif (Object.prototype.hasOwnProperty.call(source, n)) {\n\t\t\ttarget[n] = source[n];\n\t\t}\n\t}\n}\n\nfunction parseDCC(source,start,domBuilder,errorHandler){//sure start with '<!'\n\tvar next= source.charAt(start+2)\n\tswitch(next){\n\tcase '-':\n\t\tif(source.charAt(start + 3) === '-'){\n\t\t\tvar end = source.indexOf('-->',start+4);\n\t\t\t//append comment source.substring(4,end)//<!--\n\t\t\tif(end>start){\n\t\t\t\tdomBuilder.comment(source,start+4,end-start-4);\n\t\t\t\treturn end+3;\n\t\t\t}else{\n\t\t\t\terrorHandler.error(\"Unclosed comment\");\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}else{\n\t\t\t//error\n\t\t\treturn -1;\n\t\t}\n\tdefault:\n\t\tif(source.substr(start+3,6) == 'CDATA['){\n\t\t\tvar end = source.indexOf(']]>',start+9);\n\t\t\tdomBuilder.startCDATA();\n\t\t\tdomBuilder.characters(source,start+9,end-start-9);\n\t\t\tdomBuilder.endCDATA()\n\t\t\treturn end+3;\n\t\t}\n\t\t//<!DOCTYPE\n\t\t//startDTD(java.lang.String name, java.lang.String publicId, java.lang.String systemId)\n\t\tvar matchs = split(source,start);\n\t\tvar len = matchs.length;\n\t\tif(len>1 && /!doctype/i.test(matchs[0][0])){\n\t\t\tvar name = matchs[1][0];\n\t\t\tvar pubid = false;\n\t\t\tvar sysid = false;\n\t\t\tif(len>3){\n\t\t\t\tif(/^public$/i.test(matchs[2][0])){\n\t\t\t\t\tpubid = matchs[3][0];\n\t\t\t\t\tsysid = len>4 && matchs[4][0];\n\t\t\t\t}else if(/^system$/i.test(matchs[2][0])){\n\t\t\t\t\tsysid = matchs[3][0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar lastMatch = matchs[len-1]\n\t\t\tdomBuilder.startDTD(name, pubid, sysid);\n\t\t\tdomBuilder.endDTD();\n\n\t\t\treturn lastMatch.index+lastMatch[0].length\n\t\t}\n\t}\n\treturn -1;\n}\n\n\n\nfunction parseInstruction(source,start,domBuilder){\n\tvar end = source.indexOf('?>',start);\n\tif(end){\n\t\tvar match = source.substring(start,end).match(/^<\\?(\\S*)\\s*([\\s\\S]*?)\\s*$/);\n\t\tif(match){\n\t\t\tvar len = match[0].length;\n\t\t\tdomBuilder.processingInstruction(match[1], match[2]) ;\n\t\t\treturn end+2;\n\t\t}else{//error\n\t\t\treturn -1;\n\t\t}\n\t}\n\treturn -1;\n}\n\nfunction ElementAttributes(){\n\tthis.attributeNames = {}\n}\nElementAttributes.prototype = {\n\tsetTagName:function(tagName){\n\t\tif(!tagNamePattern.test(tagName)){\n\t\t\tthrow new Error('invalid tagName:'+tagName)\n\t\t}\n\t\tthis.tagName = tagName\n\t},\n\taddValue:function(qName, value, offset) {\n\t\tif(!tagNamePattern.test(qName)){\n\t\t\tthrow new Error('invalid attribute:'+qName)\n\t\t}\n\t\tthis.attributeNames[qName] = this.length;\n\t\tthis[this.length++] = {qName:qName,value:value,offset:offset}\n\t},\n\tlength:0,\n\tgetLocalName:function(i){return this[i].localName},\n\tgetLocator:function(i){return this[i].locator},\n\tgetQName:function(i){return this[i].qName},\n\tgetURI:function(i){return this[i].uri},\n\tgetValue:function(i){return this[i].value}\n//\t,getIndex:function(uri, localName)){\n//\t\tif(localName){\n//\n//\t\t}else{\n//\t\t\tvar qName = uri\n//\t\t}\n//\t},\n//\tgetValue:function(){return this.getValue(this.getIndex.apply(this,arguments))},\n//\tgetType:function(uri,localName){}\n//\tgetType:function(i){},\n}\n\n\n\nfunction split(source,start){\n\tvar match;\n\tvar buf = [];\n\tvar reg = /'[^']+'|\"[^\"]+\"|[^\\s<>\\/=]+=?|(\\/?\\s*>|<)/g;\n\treg.lastIndex = start;\n\treg.exec(source);//skip <\n\twhile(match = reg.exec(source)){\n\t\tbuf.push(match);\n\t\tif(match[1])return buf;\n\t}\n}\n\nexports.XMLReader = XMLReader;\nexports.ParseError = ParseError;\n","var conventions = require(\"./conventions\");\nvar dom = require('./dom')\nvar entities = require('./entities');\nvar sax = require('./sax');\n\nvar DOMImplementation = dom.DOMImplementation;\n\nvar NAMESPACE = conventions.NAMESPACE;\n\nvar ParseError = sax.ParseError;\nvar XMLReader = sax.XMLReader;\n\n/**\n * Normalizes line ending according to https://www.w3.org/TR/xml11/#sec-line-ends:\n *\n * > XML parsed entities are often stored in computer files which,\n * > for editing convenience, are organized into lines.\n * > These lines are typically separated by some combination\n * > of the characters CARRIAGE RETURN (#xD) and LINE FEED (#xA).\n * >\n * > To simplify the tasks of applications, the XML processor must behave\n * > as if it normalized all line breaks in external parsed entities (including the document entity)\n * > on input, before parsing, by translating all of the following to a single #xA character:\n * >\n * > 1. the two-character sequence #xD #xA\n * > 2. the two-character sequence #xD #x85\n * > 3. the single character #x85\n * > 4. the single character #x2028\n * > 5. any #xD character that is not immediately followed by #xA or #x85.\n *\n * @param {string} input\n * @returns {string}\n */\nfunction normalizeLineEndings(input) {\n\treturn input\n\t\t.replace(/\\r[\\n\\u0085]/g, '\\n')\n\t\t.replace(/[\\r\\u0085\\u2028]/g, '\\n')\n}\n\n/**\n * @typedef Locator\n * @property {number} [columnNumber]\n * @property {number} [lineNumber]\n */\n\n/**\n * @typedef DOMParserOptions\n * @property {DOMHandler} [domBuilder]\n * @property {Function} [errorHandler]\n * @property {(string) => string} [normalizeLineEndings] used to replace line endings before parsing\n * \t\t\t\t\t\tdefaults to `normalizeLineEndings`\n * @property {Locator} [locator]\n * @property {Record<string, string>} [xmlns]\n *\n * @see normalizeLineEndings\n */\n\n/**\n * The DOMParser interface provides the ability to parse XML or HTML source code\n * from a string into a DOM `Document`.\n *\n * _xmldom is different from the spec in that it allows an `options` parameter,\n * to override the default behavior._\n *\n * @param {DOMParserOptions} [options]\n * @constructor\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser\n * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-parsing-and-serialization\n */\nfunction DOMParser(options){\n\tthis.options = options ||{locator:{}};\n}\n\nDOMParser.prototype.parseFromString = function(source,mimeType){\n\tvar options = this.options;\n\tvar sax =  new XMLReader();\n\tvar domBuilder = options.domBuilder || new DOMHandler();//contentHandler and LexicalHandler\n\tvar errorHandler = options.errorHandler;\n\tvar locator = options.locator;\n\tvar defaultNSMap = options.xmlns||{};\n\tvar isHTML = /\\/x?html?$/.test(mimeType);//mimeType.toLowerCase().indexOf('html') > -1;\n  \tvar entityMap = isHTML ? entities.HTML_ENTITIES : entities.XML_ENTITIES;\n\tif(locator){\n\t\tdomBuilder.setDocumentLocator(locator)\n\t}\n\n\tsax.errorHandler = buildErrorHandler(errorHandler,domBuilder,locator);\n\tsax.domBuilder = options.domBuilder || domBuilder;\n\tif(isHTML){\n\t\tdefaultNSMap[''] = NAMESPACE.HTML;\n\t}\n\tdefaultNSMap.xml = defaultNSMap.xml || NAMESPACE.XML;\n\tvar normalize = options.normalizeLineEndings || normalizeLineEndings;\n\tif (source && typeof source === 'string') {\n\t\tsax.parse(\n\t\t\tnormalize(source),\n\t\t\tdefaultNSMap,\n\t\t\tentityMap\n\t\t)\n\t} else {\n\t\tsax.errorHandler.error('invalid doc source')\n\t}\n\treturn domBuilder.doc;\n}\nfunction buildErrorHandler(errorImpl,domBuilder,locator){\n\tif(!errorImpl){\n\t\tif(domBuilder instanceof DOMHandler){\n\t\t\treturn domBuilder;\n\t\t}\n\t\terrorImpl = domBuilder ;\n\t}\n\tvar errorHandler = {}\n\tvar isCallback = errorImpl instanceof Function;\n\tlocator = locator||{}\n\tfunction build(key){\n\t\tvar fn = errorImpl[key];\n\t\tif(!fn && isCallback){\n\t\t\tfn = errorImpl.length == 2?function(msg){errorImpl(key,msg)}:errorImpl;\n\t\t}\n\t\terrorHandler[key] = fn && function(msg){\n\t\t\tfn('[xmldom '+key+']\\t'+msg+_locator(locator));\n\t\t}||function(){};\n\t}\n\tbuild('warning');\n\tbuild('error');\n\tbuild('fatalError');\n\treturn errorHandler;\n}\n\n//console.log('#\\n\\n\\n\\n\\n\\n\\n####')\n/**\n * +ContentHandler+ErrorHandler\n * +LexicalHandler+EntityResolver2\n * -DeclHandler-DTDHandler\n *\n * DefaultHandler:EntityResolver, DTDHandler, ContentHandler, ErrorHandler\n * DefaultHandler2:DefaultHandler,LexicalHandler, DeclHandler, EntityResolver2\n * @link http://www.saxproject.org/apidoc/org/xml/sax/helpers/DefaultHandler.html\n */\nfunction DOMHandler() {\n    this.cdata = false;\n}\nfunction position(locator,node){\n\tnode.lineNumber = locator.lineNumber;\n\tnode.columnNumber = locator.columnNumber;\n}\n/**\n * @see org.xml.sax.ContentHandler#startDocument\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ContentHandler.html\n */\nDOMHandler.prototype = {\n\tstartDocument : function() {\n    \tthis.doc = new DOMImplementation().createDocument(null, null, null);\n    \tif (this.locator) {\n        \tthis.doc.documentURI = this.locator.systemId;\n    \t}\n\t},\n\tstartElement:function(namespaceURI, localName, qName, attrs) {\n\t\tvar doc = this.doc;\n\t    var el = doc.createElementNS(namespaceURI, qName||localName);\n\t    var len = attrs.length;\n\t    appendElement(this, el);\n\t    this.currentElement = el;\n\n\t\tthis.locator && position(this.locator,el)\n\t    for (var i = 0 ; i < len; i++) {\n\t        var namespaceURI = attrs.getURI(i);\n\t        var value = attrs.getValue(i);\n\t        var qName = attrs.getQName(i);\n\t\t\tvar attr = doc.createAttributeNS(namespaceURI, qName);\n\t\t\tthis.locator &&position(attrs.getLocator(i),attr);\n\t\t\tattr.value = attr.nodeValue = value;\n\t\t\tel.setAttributeNode(attr)\n\t    }\n\t},\n\tendElement:function(namespaceURI, localName, qName) {\n\t\tvar current = this.currentElement\n\t\tvar tagName = current.tagName;\n\t\tthis.currentElement = current.parentNode;\n\t},\n\tstartPrefixMapping:function(prefix, uri) {\n\t},\n\tendPrefixMapping:function(prefix) {\n\t},\n\tprocessingInstruction:function(target, data) {\n\t    var ins = this.doc.createProcessingInstruction(target, data);\n\t    this.locator && position(this.locator,ins)\n\t    appendElement(this, ins);\n\t},\n\tignorableWhitespace:function(ch, start, length) {\n\t},\n\tcharacters:function(chars, start, length) {\n\t\tchars = _toString.apply(this,arguments)\n\t\t//console.log(chars)\n\t\tif(chars){\n\t\t\tif (this.cdata) {\n\t\t\t\tvar charNode = this.doc.createCDATASection(chars);\n\t\t\t} else {\n\t\t\t\tvar charNode = this.doc.createTextNode(chars);\n\t\t\t}\n\t\t\tif(this.currentElement){\n\t\t\t\tthis.currentElement.appendChild(charNode);\n\t\t\t}else if(/^\\s*$/.test(chars)){\n\t\t\t\tthis.doc.appendChild(charNode);\n\t\t\t\t//process xml\n\t\t\t}\n\t\t\tthis.locator && position(this.locator,charNode)\n\t\t}\n\t},\n\tskippedEntity:function(name) {\n\t},\n\tendDocument:function() {\n\t\tthis.doc.normalize();\n\t},\n\tsetDocumentLocator:function (locator) {\n\t    if(this.locator = locator){// && !('lineNumber' in locator)){\n\t    \tlocator.lineNumber = 0;\n\t    }\n\t},\n\t//LexicalHandler\n\tcomment:function(chars, start, length) {\n\t\tchars = _toString.apply(this,arguments)\n\t    var comm = this.doc.createComment(chars);\n\t    this.locator && position(this.locator,comm)\n\t    appendElement(this, comm);\n\t},\n\n\tstartCDATA:function() {\n\t    //used in characters() methods\n\t    this.cdata = true;\n\t},\n\tendCDATA:function() {\n\t    this.cdata = false;\n\t},\n\n\tstartDTD:function(name, publicId, systemId) {\n\t\tvar impl = this.doc.implementation;\n\t    if (impl && impl.createDocumentType) {\n\t        var dt = impl.createDocumentType(name, publicId, systemId);\n\t        this.locator && position(this.locator,dt)\n\t        appendElement(this, dt);\n\t\t\t\t\tthis.doc.doctype = dt;\n\t    }\n\t},\n\t/**\n\t * @see org.xml.sax.ErrorHandler\n\t * @link http://www.saxproject.org/apidoc/org/xml/sax/ErrorHandler.html\n\t */\n\twarning:function(error) {\n\t\tconsole.warn('[xmldom warning]\\t'+error,_locator(this.locator));\n\t},\n\terror:function(error) {\n\t\tconsole.error('[xmldom error]\\t'+error,_locator(this.locator));\n\t},\n\tfatalError:function(error) {\n\t\tthrow new ParseError(error, this.locator);\n\t}\n}\nfunction _locator(l){\n\tif(l){\n\t\treturn '\\n@'+(l.systemId ||'')+'#[line:'+l.lineNumber+',col:'+l.columnNumber+']'\n\t}\n}\nfunction _toString(chars,start,length){\n\tif(typeof chars == 'string'){\n\t\treturn chars.substr(start,length)\n\t}else{//java sax connect width xmldom on rhino(what about: \"? && !(chars instanceof String)\")\n\t\tif(chars.length >= start+length || start){\n\t\t\treturn new java.lang.String(chars,start,length)+'';\n\t\t}\n\t\treturn chars;\n\t}\n}\n\n/*\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/LexicalHandler.html\n * used method of org.xml.sax.ext.LexicalHandler:\n *  #comment(chars, start, length)\n *  #startCDATA()\n *  #endCDATA()\n *  #startDTD(name, publicId, systemId)\n *\n *\n * IGNORED method of org.xml.sax.ext.LexicalHandler:\n *  #endDTD()\n *  #startEntity(name)\n *  #endEntity(name)\n *\n *\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/DeclHandler.html\n * IGNORED method of org.xml.sax.ext.DeclHandler\n * \t#attributeDecl(eName, aName, type, mode, value)\n *  #elementDecl(name, model)\n *  #externalEntityDecl(name, publicId, systemId)\n *  #internalEntityDecl(name, value)\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/EntityResolver2.html\n * IGNORED method of org.xml.sax.EntityResolver2\n *  #resolveEntity(String name,String publicId,String baseURI,String systemId)\n *  #resolveEntity(publicId, systemId)\n *  #getExternalSubset(name, baseURI)\n * @link http://www.saxproject.org/apidoc/org/xml/sax/DTDHandler.html\n * IGNORED method of org.xml.sax.DTDHandler\n *  #notationDecl(name, publicId, systemId) {};\n *  #unparsedEntityDecl(name, publicId, systemId, notationName) {};\n */\n\"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl\".replace(/\\w+/g,function(key){\n\tDOMHandler.prototype[key] = function(){return null}\n})\n\n/* Private static helpers treated below as private instance methods, so don't need to add these to the public API; we might use a Relator to also get rid of non-standard public properties */\nfunction appendElement (hander,node) {\n    if (!hander.currentElement) {\n        hander.doc.appendChild(node);\n    } else {\n        hander.currentElement.appendChild(node);\n    }\n}//appendChild and setAttributeNS are preformance key\n\nexports.__DOMHandler = DOMHandler;\nexports.normalizeLineEndings = normalizeLineEndings;\nexports.DOMParser = DOMParser;\n","var dom = require('./dom')\nexports.DOMImplementation = dom.DOMImplementation\nexports.XMLSerializer = dom.XMLSerializer\nexports.DOMParser = require('./dom-parser').DOMParser\n"],"names":["version","VERSION","root","ArrayProto","ObjProto","SymbolProto","push","slice","toString","hasOwnProperty","supportsArrayBuffer","supportsDataView","nativeIsArray","nativeKeys","nativeCreate","nativeIsView","_isNaN","_isFinite","hasEnumBug","nonEnumerableProps","MAX_ARRAY_INDEX","restArguments","func","startIndex","length","rest","index","args","isObject","obj","type","isNull","isUndefined","isBoolean","isElement","tagTester","name","tag","isString","isNumber","isDate","isRegExp","isError","isSymbol","isArrayBuffer","isFunction","nodelist","isFunction$1","hasObjectTag","hasDataViewBug","isIE11","isDataView","alternateIsDataView","isDataView$1","isArray","has","key","isArguments","isArguments$1","isFinite","isNaN","constant","value","createSizePropertyCheck","getSizeProperty","collection","sizeProperty","shallowProperty","getByteLength","isBufferLike","typedArrayPattern","isTypedArray","isTypedArray$1","getLength","emulatedSet","keys","hash","l","i","collectNonEnumProps","nonEnumIdx","constructor","proto","prop","isEmpty","isMatch","object","attrs","_keys","_","toBufferView","bufferSource","tagDataView","eq","a","b","aStack","bStack","deepEq","className","areArrays","byteLength","aCtor","bCtor","isEqual","allKeys","ie11fingerprint","methods","weakMapMethods","forEachName","hasName","commonInit","mapTail","mapMethods","setMethods","isMap","isWeakMap","isSet","isWeakSet","values","pairs","invert","result","functions","names","createAssigner","keysFunc","defaults","source","extend$1","extendOwn","ctor","baseCreate","prototype","Ctor","create","props","clone","extend","tap","interceptor","toPath","path","deepGet","get","defaultValue","_has","identity","matcher","property","optimizeCb","context","argCount","accumulator","baseIteratee","iteratee","cb","mapObject","results","currentKey","noop","propertyOf","times","n","accum","random","min","max","now","createEscaper","map","escaper","match","testRegexp","replaceRegexp","string","escapeMap","escape","unescapeMap","unescape","templateSettings","noMatch","escapes","escapeRegExp","escapeChar","bareIdentifier","template","text","settings","oldSettings","interpolate","evaluate","offset","argument","render","e","data","fallback","idCounter","uniqueId","prefix","id","chain","instance","executeBound","sourceFunc","boundFunc","callingContext","self","partial","boundArgs","placeholder","bound","position","bind","callArgs","isArrayLike","flatten","input","depth","strict","output","idx","j","len","bindAll","memoize","hasher","cache","address","delay","wait","defer","throttle","options","timeout","previous","later","throttled","_now","remaining","debounce","immediate","passed","debounced","_args","wrap","wrapper","negate","predicate","compose","start","after","before","memo","once","findKey","createPredicateIndexFinder","dir","array","findIndex","findLastIndex","sortedIndex","low","high","mid","createIndexFinder","predicateFind","item","indexOf","lastIndexOf","find","keyFinder","findWhere","each","createReduce","reducer","initial","reduce","reduceRight","filter","list","reject","every","some","contains","fromIndex","guard","invoke","contextPath","method","pluck","where","lastComputed","computed","v","reStrSymbol","toArray","sample","last","rand","temp","shuffle","sortBy","left","right","group","behavior","partition","groupBy","indexBy","countBy","pass","size","keyInObj","pick","omit","first","compact","_flatten","difference","without","otherArrays","uniq","isSorted","seen","union","arrays","intersection","argsLength","unzip","zip","range","stop","step","chunk","count","chainResult","mixin","trim","extractExtension","getAzureFileFormat","extension","azuredFormat","naturalHms","second","secNum","hours","minutes","seconds","hmsToSecond","str","frameRate","arr","arrLength","sec","secIndex","_entry","entry","line","SrtParser","captions","VTTCue","autoKeyword","directionSetting","alignSetting","findDirectionSetting","findAlignSetting","align","cobj","p","startTime","endTime","cue","isIE8","baseObj","_id","_pauseOnExit","_startTime","_endTime","_text","_region","_vertical","_snapToLines","_line","_lineAlign","_position","_positionAlign","_size","_align","setting","VTTCue$1","VTTRegion","scrollSetting","findScrollSetting","scroll","isValidPercentValue","_width","_lines","_regionAnchorX","_regionAnchorY","_viewportAnchorX","_viewportAnchorY","_scroll","VTTRegion$1","WebVTT","makeColorSet","color","opacity","WebVTTPrefs","fontScale","observe","subject","topic","fontColor","fontOpacity","WebVTTSet","backgroundColor","backgroundOpacity","edgeTypeList","edgeType","edgeColor","pref","_objCreate","F","o","ParsingError","errorData","message","parseTimeStamp","computeSeconds","h","m","s","f","Settings","k","dflt","defaultKey","parseOptions","callback","keyValueDelim","groupDelim","groups","kv","parseCue","regionList","oInput","consumeTimeStamp","ts","consumeCueSettings","vals","vals0","skipWhitespace","ESCAPE","TAG_NAME","TAG_ANNOTATION","NEEDS_PARENT","parseContent","window","nextToken","consume","unescape1","shouldAdd","current","element","createElement","annotation","tagName","rootDiv","t","tagStack","node","strongRTLChars","determineBidi","cueDiv","nodeStack","charCode","pushNodes","nextTextNode","computeLinePos","track","trackList","StyleBox","styles","div","val","unit","CueStyleBox","styleOptions","textShadow","textPos","box","BoxPosition","lh","height","width","top","rects","axis","toMove","b2","boxes","container","x","y","intersectArea","reference","ret","moveBoxToLinePosition","styleBox","containerBox","boxPositions","findBestPosition","bestPosition","specifiedPosition","percentage","boxPosition","linePos","maxPosition","initialAxis","calculatedPercentage","cuetext","FONT_SIZE_PERCENT","FONT_STYLE","CUE_BACKGROUND_PADDING","cues","overlay","paddedOverlay","shouldCompute","fontSize","decoder","flushing","collectNextLine","buffer","pos","parseRegion","xy","anchor","region","parseHeader","alreadyCollectedLine","hasSubstring","getBrowserLanguage","nav","browserLanguagePropertyKeys","language","analUserAgent","unknown","screenSize","nVer","nAgt","browser","majorVersion","nameOffset","verOffset","ix","mobile","cookieEnabled","os","clientStrings","cs","osVersion","reCloseSync","reLineEnding","reBrokenTag","reStartTime","reBr","strip_tags","allowed","tags","commentsAndPhpTags","$0","$1","_sort","langItem","res","SmiParser","sami","definedLangs","duration","errors","getLanguage","makeEndTime","parse","_ref","fixedLang","error","innerText","lang","lineNum","nextStartTagIdx","startTagIdx","tempRet","_ref1","_ref2","convertedLanguageNames","Loader","that","convertToVTTCues","successCallback","errorCallback","response","body","vttCues","parser","parsedData","STATE_IDLE","STATE_COMPLETE","STATE_PAUSED","STATE_PLAYING","STATE_ERROR","STATE_LOADING","STATE_STALLED","STATE_AD_LOADING","STATE_AD_LOADED","STATE_AD_PLAYING","STATE_AD_PAUSED","STATE_AD_COMPLETE","STATE_AD_ERROR","PLAYER_AD_CLICK","PROVIDER_HTML5","PROVIDER_WEBRTC","PROVIDER_DASH","PROVIDER_HLS","PROVIDER_RTMP","CONTENT_COMPLETE","READY","DESTROY","CONTENT_SEEK","CONTENT_BUFFER_FULL","PLAYLIST_CHANGED","CONTENT_SEEKED","ALL_PLAYLIST_ENDED","NETWORK_UNSTABLED","HLS_PREPARED","HLS_DESTROYED","DASH_PREPARED","DASH_DESTROYED","PEER_CONNECTION_PREPARED","PEER_CONNECTION_DESTROYED","ERROR","PLAYER_STATE","PLAYER_COMPLETE","PLAYER_PAUSE","PLAYER_PLAY","PLAYER_CLICKED","PLAYER_RESIZED","PLAYER_FULLSCREEN_REQUEST","PLAYER_FULLSCREEN_CHANGED","PLAYER_WARNING","PLAYER_ZOOM_CAHNGED","AD_CHANGED","AD_TIME","CONTENT_BUFFER","CONTENT_TIME","CONTENT_VOLUME","CONTENT_MUTE","CONTENT_META","CONTENT_META_DATA","CONTENT_META_DATA_TYPE_SEI","CONTENT_SOURCE_CHANGED","CONTENT_LEVEL_CHANGED","CONTENT_DURATION_CHANGED","PLAYBACK_RATE_CHANGED","CONTENT_CAPTION_CUE_CHANGED","CONTENT_CAPTION_CHANGED","CONTENT_TIME_MODE_CHANGED","OME_P2P_MODE","AUDIO_TRACK_CHANGED","AD_CLIENT_VAST","INIT_UNKNWON_ERROR","INIT_UNSUPPORT_ERROR","INIT_DASH_UNSUPPORT","INIT_DASH_FAIL","INIT_HLSJS_FAIL","INIT_DRM_FAIL","PLAYER_UNKNWON_ERROR","PLAYER_UNKNWON_OPERATION_ERROR","PLAYER_UNKNWON_NETWORK_ERROR","PLAYER_UNKNWON_DECODE_ERROR","PLAYER_FILE_ERROR","PLAYER_CAPTION_ERROR","PLAYER_BAD_REQUEST_ERROR","PLAYER_AUTH_FAILED_ERROR","PLAYER_NOT_ACCEPTABLE_ERROR","PLAYER_WEBRTC_WS_ERROR","PLAYER_WEBRTC_ADD_ICECANDIDATE_ERROR","PLAYER_WEBRTC_SET_REMOTE_DESC_ERROR","PLAYER_WEBRTC_CREATE_ANSWER_ERROR","PLAYER_WEBRTC_SET_LOCAL_DESC_ERROR","PLAYER_WEBRTC_INTERNAL_ERROR","PLAYER_WEBRTC_NETWORK_SLOW","PLAYER_WEBRTC_UNEXPECTED_DISCONNECT","PLAYER_WEBRTC_TIMEOUT","WARN_MSG_MUTEDPLAY","UI_ICONS","ERRORS","SYSTEM_TEXT","isSupport","kind","Manager","api","playlistIndex","captionList","currentCaptionIndex","captionLoader","CaptionLoader","isFisrtLoad","bindTrack","tracksCount","trackId","changeCurrentCaption","playlist","tempError","meta","currentCues","lastCaptionIndex","_index","deepMerge","target","Configurator","provider","composeSourceOptions","Defaults","serialize","lowercaseVal","config","userCustumSystemText","currentSystemText","newMerged","playbackRates","rate","configPlaylist","spec","playbackRate","zoomFactor","newLabel","timecode","mute","volume","EventEmitter","_events","triggerEvents","events","event","listener","allEvents","retain","onceCallback","La$","selectorOrElement","$element","returnNode","selector","nodeList","htmlString","elChild","attrName","$targetElement","rect","attr","html","selectorString","el","closestElement","browserInfo","$container","LA$","videoElement","createHtmlVideo","isLoop","isAutoStart","providerName","playerConfig","adContainer","isRtmp","file","isWebRTC","isHls","isDash","checkAndGetContainerElement","containerElement","SupportChecker","userAgentObject","supportList","MimeTypes","video","overrideNative","mimeType","getMediaSource","mediaSource","sourceBuffer","isTypeSupported","sourceBufferValidAPI","testFlash","support","checkSupport","soruce_","playlistItem","supportNames","supported","supportChecker","makePrettySource","source_","mimetypeRegEx","prettiedPlaylist","prettySource","defaultSource","extractOnlyOneProtocol","sources","highPriorityType","Listener","adsManager","adsSpec","OnAdError","lowLevelEvents","intervalTimer","AD_BUFFERING","CONTENT_PAUSE_REQUESTED","CONTENT_RESUME_REQUESTED","AD_ERROR","ALL_ADS_COMPLETED","CLICK","SKIPPED","COMPLETE","FIRST_QUARTILE","LOADED","MIDPOINT","PAUSED","RESUMED","STARTED","USER_CLOSE","THIRD_QUARTILE","isAllAdCompelete","currentAd","adEvent","remainingTime","ad","adObject","eventName","_adCompleteCallback","TEMP_VIDEO_URL","Ad","elVideo","adTagUrl","AUTOPLAY_NOT_ALLOWED","ADMANGER_LOADING_ERROR","ADS_MANAGER_LOADED","adsManagerLoaded","adsErrorOccurred","OnManagerLoaded","adDisplayContainer","adsLoader","adsRequest","autoplayAllowed","autoplayRequiresMuted","isMobile","sendWarningMessageForMutedPlay","createAdContainer","adErrorEvent","innerError","adsManagerLoadedEvent","adsRenderingSettings","AdsEventsListener","adConatinerElment","setAutoPlayToAdsRequest","initRequest","checkAutoplaySupport","temporarySupportCheckVideo","clearAndReport","_autoplayAllowed","_autoplayRequiresMuted","resolve","playPromise","retryCount","checkAdsManagerIsReady","completeContentCallback","$ads","r","d","c","u","g","T","A","R","N","E","w","L","I","C","U","S","V","D","O","P","B","M","W","q","K","H","z","elAdVideo","vastTracker","adButton","textView","$textView","$adButton","$elAdVideo","processEndOfAd","processStartOfAd","skipButtonClicked","code","url","vastClient","VASTClient","VASTTracker","videoURL","checkMainContentLoaded","errorTrigger","pickCurrentSource","sourceIndex","getSeekableStartEnd","mediaElement","end","videoEndedCallback","stalled","between","num","compareStalledTime","metadata","timeRanges","buffered","sectionStart","sectionEnd","convertedErroCode","Provider","onExtendedLoad","ads","Vast","Ima","EventsListener","_load","lastPlayPosition","previousSource","canSeek","seeking","newState","prevState","newBuffer","state","muted","promise","needProviderChange","qualityIndex","audioTrackIndex","isAuto","framerate","frameCount","fps","newPosition","arrayToString","uint16array","base64DecodeUint8Array","raw","rawLength","base64EncodeUint8Array","keyStr","chr1","chr2","chr3","enc1","enc2","enc3","enc4","stringToUint16Array","concatInitDataIdAndCertificate","initData","cert","dataView","initDataArray","idArray","certArray","Html5","superDestroy_func","loadCertificate","serverCertificatePath","err","getLicense","keyMessage","licenseServerUrl","headers","addKey","contentId","keySession","license","encrypted","initDataString","enableDrm","certificate","WebRTCLoader","webSocketUrl","loadCallback","connectedCallback","internalErrorCallback","defaultConnectionConfig","ws","wsConnected","mainStream","mainPeerConnectionInfo","clientPeerConnections","wsClosedByPlayer","recoverPacketLoss","playlistFromOme","autoQuality","generatePublicCandidate","currentBrowser","existingHandler","closePeer","getPeerConnectionById","peerConnection","extractLossPacketsOnNetworkStatus","peerConnectionInfo","lostPacketsArr","slotLength","prevPacketsLost","avg8Losses","threshold","stats","actualPacketLost","getOpusFormatNumber","sdp","lines","opusFormatNumber","checkOpusIsStereo","stereo","mungeSdpForceStereoOpus","createMainPeerConnection","peerId","candidates","iceServers","peerConnectionConfig","iceServer","regIceServer","hasWebsocketUrl","socketUrl","generateDomainFromUrl","cloneIceServer","ip","findIp","desc","sendMessage","addIceCandidate","hint","receivers","receiver","createClientPeerConnection","hostId","clientId","setLocalAndSendMessage","handleCreateOfferError","sessionDescription","copyCandidate","basicCandidate","cloneCandidate","newDomain","cloneCandidatePromise","initWebSocket","peerConnection2","peerConnection3","renditions","rendition","initialize","clientPeerConnection","auto","workerScript","WebRTC","webrtcLoader","superPlay_func","superStop_func","sourceFile","audioCtx","connectionTimeout","timeoutMaxRetry","connectionCheckTimer","connected","device","unlockAudio","currentDevice","called","loadWebRTCLoader","stream","AudioContext","blob","worker","readable","writable","destroyWebRtcLoader","sizeHumanizer","bytes","si","postpix","thresh","units","Dash","dash","seekPosition_sec","prevLLLiveDuration","sourceOfFile","coveredSetAutoSwitchQualityFor","coveredGetAutoSwitchQualityFor","liveDelayReducingCallback","dvrInfo","liveDelay","dashConfigFromPlayerConfig","subQualityList","mutedPlay","HlsProvider","hls","loadRetryer","isManifestLoaded","firstLoaded","hlsConfig","hlsConfigFromPlayerConfig","licenseXhrSetup","xhr","keyContext","licenseChallenge","qualityLevel","audioTrack","errorType","Controller","Providers","registeProvider","ProviderLoader","HTML5","Hls","supportedProviderNames","supportedProviderName","currentSource","newSource","ApiRtmpExpansion","currentProvider","Api","playlistManager","PlaylistManager","providerController","ProviderController","mediaManager","MediaManager","captionManager","runNextPlaylist","nextPlaylistIndex","hasNextPlaylist","initProvider","CaptionManager","currentSourceIndex","isShow","OvenPlayerSDK","ovenPlayerFactory","playerList","playerInstance","API","containerId","isDebugMode","TextViewTemplate","ViewTemplate","uiText","HelpersTemplate","BigButtonTemplate","playerState","ThumbnailTemplate","WaterMarkTemplate","MessageBoxTemplate","SpinnerTemplate","ContextPanelTemplate","CaptionViewerTemplate","Controls","hasPlaylist","VolumeButtonTemplate","ProgressBarTemplate","PlayButtonTemplate","SettingButtonTemplate","FrameButtonsTemplate","TimeDisplayTemplate","FullScreenButtonTemplate","TimeDisplayPanelTemplate","elements","settingItemTemplate","useCheck","PlaylistPanelTemplate","playlistItemTemplate","isActive","Templates","ControlsTemplate","PanelsTemplate","SpeedPanelTemplate","ZoomPanelTemplate","SourcePanelTemplate","QualityPanelTemplate","AudioTrackPanelTemplate","CaptionPanelTemplate","OvenTemplate","templateName","onRendered","onDestroyed","isRoot","$template","viewEvents","createAndSelectElement","newElement","eventString","explodedText","$target","wrappedFunc","eventOption","nodeLength","BigButton","$current","currentState","currentPlaylistIndex","MessageBox","description","withTimer","iconClass","clickCallback","dontClose","autoDestroyTimer","CaptionViewer","isDisable","deleteTimer","hideGap","Thumbnail","WaterMark","waterMark","textElem","defaultPosition","defaultX","defaultY","defaultWidth","defaultHeight","defaultOpacity","waterMarkOption","Spinner","$spinner","Helpers","firstRun","bigButton","messageBox","spinner","thumbnail","mutedMessage","hasThumbnail","hasWaterMark","dont_show_message","qualityLevelChanging","newQualityLevel","createBigButton","createMessage","createThumbnail","createWaterMark","PlayButton","$iconPlay","$iconPause","$iconReplay","$buttonBack","$buttonForward","$textBack","$textForward","setButtonState","seekInterval","time","settingPanelList","PanelManager","refreshFront","settingPanel","settingPanelObject","SpeedPanel","$root","panelManager","isFront","ZoomPanel","media","zoomProperty","SourcePanel","QualityPanel","newQuality","panel","$panel","AudioTrackPanel","CaptionPanel","TimeDisplayPanel","PANEL_TITLE","Panels","title","extractSubPanelData","panelType","playBackRates","currentPlaybackRate","bodyIn","bodyOut","qualityLevels","isQualityCheck","audioTracks","displayModes","setPanelMaxHeight","newQualityObject","SettingButton","generateMainData","currentQuality","currentAudioTrack","currentCaption","allowZoom","$parent","panelData","VolumeButton","$sliderContainer","$slider","$sliderHandle","$sliderValue","$volumeIconBig","$volumeIconSmall","$volumeIconMute","mouseDown","sliderWidth","handleWidth","maxRange","setVolumeIcon","setVolumeUI","handlePosition","calculatePercentage","ProgressBar","isAd","currentPlayingPosition","mouseInside","lastGridThumbnail","durationForCalc","lastEventForTime","$progressBar","$progressLoad","$progressPlay","$progressHover","$knobContainer","$knob","knobWidth","$time","$preview","hlsLive","nativeHlsLive","positionElements","progressBarWidth","knobPosition","drawHoverProgress","hoverPosition","drawLoadProgress","loadPosition","progressBarOffsetX","pointerOffsetX","drawTimeIndicator","setTimeText","timeElemWidth","positionOfPixel","calculateMagnetic","elementWidth","magneticPosition","interval","columnCount","rowCount","scale","thumbnailNumber","imageNumber","rowNumber","columnNumber","previewMagneticPosition","seek","seekable","seekableRange","dvrWindow","PlaylistPanel","$playlistPanel","totalCount","pageSize","page","pagedList","pagenate","totalPageCount","originalItemIndex","findCurrentPage","evt","gtarget","TimeDisplay","$position","$duration","$liveBadge","currVodPosition","convertHumanizeTime","isTimecode","isTimecodeMode","syncPosition","FullScreenButton","$iconExpand","$iconCompress","isFullScreen","isIos","fullscreenChangedEventName","isForceMode","fullScreenEventTypes","toggleFullScreen","checkFullScreen","fullScreen","fullScreenElement","resetFullscreenButtonState","afterFullScreenChangedCallback","forcedFakeFullscreenToggle","findFullScreenChangedEventName","rootElement","requestFullScreen","videoElements","adVideoElement","videoTitle","fullScreenOption","exitFullScreen","volumeButton","playButton","settingButton","progressBar","timeDisplay","fullScreenButton","initialDuration","uiInited","webrtc_is_p2p_mode","isAndroid","isIOS","lastContentMeta","initTimeDisplay","initProgressBar","initSettingButton","initFullscreenButton","makeControlUI","resetControlUI","metadata_for_when_after_playing","isP2P","ContextPanel","panelWidth","panelHeight","ResizeSensor","requestAnimationFrame","fn","EventQueue","ev","getComputedStyle","attachResizeEvent","resized","style","styleChild","expand","expandChild","shrink","reset","dirty","dirtyChecking","lastWidth","lastHeight","cachedWidth","cachedHeight","onScroll","addEvent","me","elementType","isCollectionTyped","getTouchSection","clientRect","View","viewTemplate","controls","helper","$playerRoot","contextPanel","autoHideTimer","isShiftPressed","currentPlayerSize","resizeSensor","setHide","hide","autoHide","togglePlayPause","isRewind","currentPosition","isUp","currentVolumn","newVolume","createContextPanel","pageX","pageY","calcPlayerWidth","playerWidth","touchPosition","tapToSeekEnabled","frameMode","showControlBar","aspectRatio","ratio","show","keepOpen","OvenPlayer","player","ovenplayer","ac","freeze","oc","assign","MIME_TYPE","NAMESPACE","uri","conventions","require$$0","notEmptyString","splitOnASCIIWhitespace","orderedSetReducer","toOrderedSet","arrayIncludes","copy","src","dest","_extends","Class","Super","pt","NodeType","ELEMENT_NODE","ATTRIBUTE_NODE","TEXT_NODE","CDATA_SECTION_NODE","ENTITY_REFERENCE_NODE","ENTITY_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","DOCUMENT_NODE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT_NODE","NOTATION_NODE","ExceptionCode","ExceptionMessage","HIERARCHY_REQUEST_ERR","NOT_FOUND_ERR","INUSE_ATTRIBUTE_ERR","DOMException","NodeList","isHTML","nodeFilter","buf","serializeToString","LiveNodeList","refresh","_updateLiveList","inc","ls","__set__","NamedNodeMap","_findNodeIndex","_addNamedNode","newAttr","oldAttr","doc","_onRemoveAttribute","_onAddAttribute","_removeNamedNode","lastIndex","namespaceURI","localName","DOMImplementation","feature","qualifiedName","doctype","Document","publicId","systemId","DocumentType","Node","newChild","refChild","_insertBefore","oldChild","assertPreReplacementValidityInDocument","_removeChild","deep","cloneNode","child","next","_xmlEncoder","_visitNode","ns","remove","_onUpdateChild","parentNode","hasValidParentNodeType","hasInsertableNodeType","isElementNode","isTextNode","isDocTypeNode","isElementInsertionPossible","parentChildNodes","docTypeNode","isElementReplacementPossible","hasElementChildThatIsNotChild","assertPreInsertionValidity1to5","parent","assertPreInsertionValidityInDocument","nodeChildNodes","nodeChildElements","parentElementChild","_inDocumentAssertion","cp","newFirst","newLast","pre","targetDoc","_updateOwnerDocument","newOwnerDocument","_appendSingleChild","importedNode","importNode","rtv","classNames","classNamesSet","base","nodeClassNames","matches","nodeClassNamesSet","Element","DocumentFragment","Text","Comment","CDATASection","ProcessingInstruction","Attr","EntityReference","pl","old","CharacterData","newText","newNode","Notation","Entity","XMLSerializer","isHtml","nodeSerializeToString","refNode","visibleNamespaces","needNamespaceDefine","addSerializedAttribute","nodeName","prefixedNodeName","defaultNS","ai","nsi","namespace","pubid","sysid","sub","node2","attrs2","getTextContent","dom","exports","nameStartChar","nameChar","tagNamePattern","S_TAG","S_ATTR","S_ATTR_SPACE","S_EQ","S_ATTR_NOQUOT_VALUE","S_ATTR_END","S_TAG_SPACE","S_TAG_CLOSE","ParseError","locator","XMLReader","defaultNSMap","entityMap","domBuilder","_copy","defaultNSMapCopy","errorHandler","fixedFromCharCode","surrogate1","surrogate2","entityReplacer","appendText","xt","lineEnd","linePattern","lineStart","parseStack","closeMap","tagStart","localNSMap","endMatch","endIgnoreCaseMach","parseInstruction","parseDCC","ElementAttributes","currentNSMap","parseElementStartPart","fixSelfClosed","locator2","copyLocator","appendElement","parseHtmlSpecialContent","addAttribute","qname","qName","nsp","nsPrefix","elStartEnd","elEndStart","matchs","split","lastMatch","reg","sax","require$$1","entities","require$$2","require$$3","normalizeLineEndings","DOMParser","DOMHandler","buildErrorHandler","normalize","errorImpl","isCallback","build","msg","_locator","ins","ch","chars","_toString","charNode","comm","impl","dt","hander","domParser","lib"],"mappings":"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KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,IAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAChE,KAAQ,KAAQ,KAAQ,KAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChE,MAAQ,MAAQ,MAAQ,MAAQ,MAAS,MAAS,MAAS,MAC3D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,KAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAC/D,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,MAAS,OAC/D,O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","x_google_ignoreList":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,181,250,251,252,253,254,255]}